 36)   007A 00          		 @KEYCTR DEFS 1        ;IN NB SYSTEM VARS	;IN NB SYSTEM VARS
 37)   007B 00          		 @SERERR DEFS 1	;
 39)   007C 00          		 @DISPCT DEFS 1	;
 40)   007D 00          		 @LCDCX DEFS 1        ;DISPLAY X POS (0..F  FOR 1..16)	;DISPLAY X POS (0..F  FOR 1..16)
 41)   007E 00          		 @LCDCX DEFS 1        ;DISPLAY Y POS (0 OR 1 FOR LINE 1 AND 2)	;DISPLAY Y POS (0 OR 1 FOR LINE 1 AND 2)
 42)   007F 00          		 @LCD_DSPCTRL DEFS 1       ;LCD I2C 16X2	;LCD I2C 16X2
 43)   0080 00          		 @LCD_DSPMODE DEFS 1       ;LCD I2C 16X2	;LCD I2C 16X2
 44)   0081 00          		 @LCD_STSMASK DEFS 1       ;LCD I2C 16X2	;LCD I2C 16X2
 45)   0082 00          		 @STRG_STAT DEFS 1       ;STORAGE_NEW STAUS BIT 0=0 NOT CONNECTED,1=CONNECTED,BIT 7 DEVICE EXISTS	;STORAGE_NEW STAUS BIT 0=0 NOT CONNECTED, 1=CONNECTED, BIT 7 DEVICE EXISTS
 46)   0083 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   0087 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   008B 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   008F 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   0093 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   0097 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   009B 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   009F 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   00A3 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   00A7 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   00AB 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   00AF 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   00B3 00 00       		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 47)   00B5 00 00 00 00 		 @BANKS DEFS 8        ;8 PAGES FOR THE 8 BANKS 0..7	;8 PAGES FOR THE 8 BANKS 0..7
 47)   00B9 00 00 00 00 		 @BANKS DEFS 8        ;8 PAGES FOR THE 8 BANKS 0..7	;8 PAGES FOR THE 8 BANKS 0..7
 48)   00BD 00 00 00 00 		 @TMPG DEFS 4        ;TEMP PAGE FOR VIDEO VGA	;TEMP PAGE FOR VIDEO VGA
 50)   00C1 00 00       		 @PRGEX DEFS 2        ;ONLY FOR BOOTL	;ONLY FOR BOOTL
 51)   00C3 00          		 @TVSTAT DEFS 1        ;ONLY FOR BOOTL	;ONLY FOR BOOTL
 52)   00C4 00 00 00 00 		 @B2DINV DEFS 8        ;BINARY NUMBER TO BE CONVERTED	;BINARY NUMBER TO BE CONVERTED
 52)   00C8 00 00 00 00 		 @B2DINV DEFS 8        ;BINARY NUMBER TO BE CONVERTED	;BINARY NUMBER TO BE CONVERTED
 53)   00CC 00 00 00 00 		 @B2DBUF DEFS 20       ;ASCCI STRING OF THE NUMBER	;ASCCI STRING OF THE NUMBER
 53)   00D0 00 00 00 00 		 @B2DBUF DEFS 20       ;ASCCI STRING OF THE NUMBER	;ASCCI STRING OF THE NUMBER
 53)   00D4 00 00 00 00 		 @B2DBUF DEFS 20       ;ASCCI STRING OF THE NUMBER	;ASCCI STRING OF THE NUMBER
 53)   00D8 00 00 00 00 		 @B2DBUF DEFS 20       ;ASCCI STRING OF THE NUMBER	;ASCCI STRING OF THE NUMBER
 53)   00DC 00 00 00 00 		 @B2DBUF DEFS 20       ;ASCCI STRING OF THE NUMBER	;ASCCI STRING OF THE NUMBER
 54)   00E0 00          		 @B2DEND DEFS 1        ;0 FOR TERMINATE THE STRING	;0 FOR TERMINATE THE STRING
 55)   00E1 00 00       		 @LINESTR DEFS 2       ;ADDRESS OF LINEBUF FOR PRINTING ON STRING	;ADDRESS OF LINEBUF FOR PRINTING ON STRING
 56)   00E3 00          		 @LINEPOS DEFS 1	;
 57)   00E4 00 00 00 00 		 @NUMBUF DEFS 7	;
 57)   00E8 00 00 00    		 @NUMBUF DEFS 7	;
 58)   00EB 00 00 00 00 		 @MYNUM DEFS 13        ;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED	;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED
 58)   00EF 00 00 00 00 		 @MYNUM DEFS 13        ;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED	;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED
 58)   00F3 00 00 00 00 		 @MYNUM DEFS 13        ;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED	;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED
 58)   00F7 00          		 @MYNUM DEFS 13        ;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED	;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED
 81)   8000 2F          		 CPL         ;ROM IS HERE	;ROM IS HERE
 82)   8001 C3 E8 80    		 JP START	;
 83)   8004 C3 37 80    		 JP GETKEY        ;CALL HERE FROM NB ROM TO FIND THE GTNBKEY  $8004	;CALL HERE FROM NB ROM TO FIND THE GTNBKEY  $8004
 84)   8007 C3 4C 80    		 JP RSTX        ; CALL HERE FROM NB TO FIND SERIAL TRASMIT  $8007	; CALL HERE FROM NB TO FIND SERIAL TRASMIT  $8007
 85)   800A C3 50 80    		 JP RSRX        ; CALL HERE FROM NB TO FIND SERIAL RECEIVE  $800A	; CALL HERE FROM NB TO FIND SERIAL RECEIVE  $800A
 86)   800D C3 54 80    		 JP NBSTLCD        ;CALL HERE FROM NB TO FIND THE NBSETLCD $800D	;CALL HERE FROM NB TO FIND THE NBSETLCD $800D
 87)   8010 C3 A1 81    		 JP MENU	;
 88)   8013 C3 2D 80    		 JP CHKKEY       ;CALL HERE FROM NB TO FIND THE CHKKEY $8013	;CALL HERE FROM NB TO FIND THE CHKKEY $8013
 90)   8016 CD E1 8A    		@OS_PRINTCHAR: CALL RS_TX	;
 91)   8019 C9          		 RET	;
 95)   801A 7E          		@OS_PRINTTEXT: LD A, (HL)	;
 96)   801B FE 00       		 CP 0	;
 97)   801D C8          		 RET Z	;
 98)   801E E5          		 PUSH HL	;
 99)   801F CD 16 80    		 CALL OS_PRINTCHAR	;
100)   8022 E1          		 POP HL	;
101)   8023 23          		 INC HL	;
102)   8024 18 F4       		 JR OS_PRINTTEXT	;
105)   8026 E1          		@OS_PRINTMSG: POP HL	;
106)   8027 CD 1A 80    		 CALL OS_PRINTTEXT	;
107)   802A 23          		 INC HL	;
108)   802B E5          		 PUSH HL        ;CONTINUE AFTER THE MESG	;CONTINUE AFTER THE MESG
109)   802C C9          		 RET	;
111)   802D 47          		CHKKEY: LD B,A	;
112)   802E CD 48 8B    		 CALL RS_KEYRD  	;
113)   8031 78          		 LD A,B	;
114)   8032 16 A0       		 LD D,$A0        ;DISPCOM 	;DISPCOM
115)   8034 CB B6       		 RES 6,(HL)       ;KDATA= BIT 6 	;KDATA= BIT 6
116)   8036 C9          		 RET	;
123)   8037 E5          		KEYAVAIL: PUSH HL	;
124)   8038 D5          		 PUSH DE	;
125)   8039 C5          		 PUSH BC	;
126)   803A CD 18 8B    		 CALL RS_RX        ;GET A CHAR FROM RS232 OR PS2_KEYB	;GET A CHAR FROM RS232 OR PS2_KEYB
127)   803D CD 73 86    		RGT: CALL GTNBKEY        ;KEY PRESSED	;KEY PRESSED
136)   8040 C1          		 POP BC	;
137)   8041 D1          		 POP DE	;
138)   8042 E1          		 POP HL  	;
139)   8043 FE 00       		 CP 0         ;CHECK IF INVALID KEY	;CHECK IF INVALID KEY
140)   8045 C0          		 RET NZ	;
141)   8046 CB B6       		 RES KDATA (HL)        ; KEY INVALID RESET KDATA TEST BIT	; KEY INVALID RESET KDATA TEST BIT
142)   8048 23          		 INC HL         ;GET TO THE LAST VALID KEY	;GET TO THE LAST VALID KEY
143)   8049 7E          		 LD A, (HL)	;
144)   804A 2B          		 DEC HL	;
145)   804B C9          		 RET	;
147)   804C CD E1 8A    		RSTX: CALL RS_TX	;
148)   804F C9          		 RET	;
150)   8050 CD 18 8B    		RSRX: CALL RS_RX	;
151)   8053 C9          		 RET	;
157)   8054 D5          		NBSTLCD: PUSH DE	;
158)   8055 42          		 LD B, D        ;TOTAL CHARS	;TOTAL CHARS
159)   8056 05          		 DEC B	;
160)   8057 05          		 DEC B         ;SKIP 2	;SKIP 2
161)   8058 11 11 00    		 LD DE, 17        ;START FROM THE END	;START FROM THE END
162)   805B 19          		 ADD HL, DE	;
163)   805C AF          		 XOR A	;
164)   805D 11 7E 00    		 LD DE, LCDCX        ;LCD POSITION	;LCD POSITION
165)   8060 12          		 LD (DE), A	;
166)   8061 13          		 INC DE	;
167)   8062 12          		 LD (DE), A	;
169)   8063 D5          		 PUSH DE	;
170)   8064 57          		 LD D, A	;
171)   8065 5F          		 LD E, A	;
172)   8066 CD 47 93    		 CALL LCD16_SETCURS       ;SET LCD TO LCDCX,LCDCY	;SET LCD TO LCDCX,LCDCY
173)   8069 D1          		 POP DE	;
174)   806A 1B          		 DEC DE         ;POSITION ON LCDCX	;POSITION ON LCDCX
175)   806B 0E 00       		 LD C, 0        ;LCD POSITION COUNT	;LCD POSITION COUNT
176)   806D 7E          		NBSETLP: LD A, (HL)	;
177)   806E CB 7F       		 BIT 7, A        ;CHECK IF CURSOR HERE	;CHECK IF CURSOR HERE
178)   8070 28 06       		 JR Z, NBNXT	;
179)   8072 F5          		 PUSH AF	;
180)   8073 79          		 LD A, C	;
181)   8074 12          		 LD (DE), A        ;POSITION CURSOR	;POSITION CURSOR
182)   8075 F1          		 POP AF	;
183)   8076 CB BF       		 RES 7, A        ;CLEAR CHAR FROM CURSOR INFO	;CLEAR CHAR FROM CURSOR INFO
184)   8078 CD 36 93    		NBNXT: CALL LCD16_PRCHR       ;OUTPUT CHAR TO LCD	;OUTPUT CHAR TO LCD
185)   807B 2B          		 DEC HL	;
186)   807C 0C          		 INC C	;
187)   807D 10 EE       		 DJNZ NBSETLP        ;LOOP NEXT CHAR	;LOOP NEXT CHAR
188)   807F 16 00       		 LD D, 0	;
189)   8081 59          		 LD E, C	;
190)   8082 CD 47 93    		 CALL LCD16_SETCURS       ;POSITION CURSOR	;POSITION CURSOR
191)   8085 D1          		 POP DE	;
192)   8086 C9          		 RET	;
196)   8087 F5          		SOUTAS: PUSH AF        ;SERIAL PRINT ASCII IN DECIMAL	;SERIAL PRINT ASCII IN DECIMAL
197)   8088 26 00       		 LD H, 0	;
198)   808A 6F          		 LD L, A	;
199)   808B 11 00 65    		 LD DE, MYNUM	;
200)   808E CD EB 93    		 CALL OUTASC	;
202)   8091 3E 0A       		 LD A, 10	;
203)   8093 12          		 LD (DE), A	;
204)   8094 13          		 INC DE	;
205)   8095 3E 0D       		 LD A, 13	;
206)   8097 12          		 LD (DE), A	;
207)   8098 13          		 INC DE	;
208)   8099 AF          		 XOR A	;
209)   809A 12          		 LD (DE), A	;
211)   809B 21 00 65    		 LD HL, MYNUM	;
212)   809E CD F0 8A    		 CALL RS_TXT	;
213)   80A1 F1          		 POP AF	;
214)   80A2 C9          		 RET	;
217)   80A3 5C 43 48 53 		FONTNAME1 DEFM "\CHSET4.CHR"	;
217)   80A7 45 54 34 2E 		FONTNAME1 DEFM "\CHSET4.CHR"	;
217)   80AB 43 48 52    		FONTNAME1 DEFM "\CHSET4.CHR"	;
218)   80AE 00          		 DB 0	;
219)   80AF 5C 43 48 53 		FONTNAME2 DEFM "\CHSET2.CHR"	;
219)   80B3 45 54 32 2E 		FONTNAME2 DEFM "\CHSET2.CHR"	;
219)   80B7 43 48 52    		FONTNAME2 DEFM "\CHSET2.CHR"	;
220)   80BA 00          		 DB 0	;
222)   80BB 06 02       		LOADFONTS: LD B,2  ;BANK2	;BANK2
223)   80BD 3E 08       		 LD A,8   ;VIDEO PAGE FOR FONTS   	;VIDEO PAGE FOR FONTS
224)   80BF CD 9D 8A    		 CALL PUTPGINBANK  	;
225)   80C2 21 A3 80    		 LD HL,FONTNAME1	;
226)   80C5 01 B8 0B    		 LD BC,3000  ;MAX FILE SIZE	;MAX FILE SIZE
227)   80C8 11 00 40    		 LD DE,$4000  ;0000 ON PAGE 8	;0000 ON PAGE 8
228)   80CB CD B2 8D    		 CALL STRG_LOADFILE	;
229)   80CE 30 01       		 JR NC, LFFILOK	;
230)   80D0 76          		 HALT   ;STOP EXEC	;STOP EXEC
231)   80D1 21 AF 80    		LFFILOK: LD HL,FONTNAME2	;
232)   80D4 01 B8 0B    		 LD BC,3000  ;MAX FILE SIZE	;MAX FILE SIZE
233)   80D7 11 00 50    		 LD DE,$5000  ;1000h ON PAGE 8	;1000h ON PAGE 8
234)   80DA CD B2 8D    		 CALL STRG_LOADFILE  	;
235)   80DD 30 01       		 JR NC, LFFILOK2	;
236)   80DF 76          		 HALT   ;STOP EXEC	;STOP EXEC
237)   80E0 3E 0E       		LFFILOK2: LD A,14  ;BANK 2 ON NBRAIN RESTORE PAGE 14	;BANK 2 ON NBRAIN RESTORE PAGE 14
238)   80E2 06 02       		 LD B,2	;
239)   80E4 CD 9D 8A    		 CALL PUTPGINBANK	;
240)   80E7 C9          		 RET 	;
243)   80E8 F3          		START: DI	;
244)   80E9 3A 00 00    		 LD A, (0000)	;
245)   80EC FE F3       		 CP $F3	;
247)   80EE C2 FD 80    		 JP NZ, CN1	;
248)   80F1 CD 23 88    		 CALL STNEWD        ;SET NEWDRIVERS AND DEFSTORE DEVICE	;SET NEWDRIVERS AND DEFSTORE DEVICE
249)   80F4 21 7E 84    		 LD HL, STRBT	;
250)   80F7 CD F0 8A    		 CALL RS_TXT        ;OUTPUT MENU COMMANDS AT RS232	;OUTPUT MENU COMMANDS AT RS232
251)   80FA C3 8F 81    		 JP ALLOK	;
256)   80FD 06 05       		CN1: LD B, 5	;
257)   80FF 0E 63       		AGN1: LD C, 99	;
258)   8101 3E 00       		 LD A, 0	;
259)   8103 ED 79       		 OUT (C), A	;
260)   8105 0E 63       		 LD C, 99	;
261)   8107 3E FF       		 LD A, 255	;
262)   8109 ED 79       		 OUT (C), A	;
263)   810B 10 F2       		 DJNZ AGN1	;
268)   810D 11 01 00    		 LD DE, 1	;
269)   8110 3E 00       		 LD A, 0        ;WRITE 0	;WRITE 0
270)   8112 4F          		 LD C, A	;
271)   8113 21 00 60    		 LD HL, RAMAD	;
272)   8116 06 08       		 LD B, 8	;
273)   8118 77          		AGN2: LD (HL), A	;
274)   8119 4E          		 LD C, (HL)	;
275)   811A B9          		 CP C	;
276)   811B C2 35 81    		 JP NZ, ERR	;
277)   811E 19          		 ADD HL, DE	;
278)   811F C6 20       		 ADD A, 32        ;WRITE +32	;WRITE +32
279)   8121 4F          		 LD C, A	;
280)   8122 10 F4       		 DJNZ AGN2	;
282)   8124 06 05       		 LD B, 5	;
283)   8126 0E 62       		AGN3: LD C, 98	;
284)   8128 3E 40       		 LD A, 64	;
285)   812A ED 79       		 OUT (C), A	;
286)   812C C6 80       		 ADD A, 128	;
287)   812E ED 79       		 OUT (C), A	;
288)   8130 10 F4       		 DJNZ AGN3        ; SIGNAL ALL OK CONTINUOUS 10 TIMES ON PORT 98	; SIGNAL ALL OK CONTINUOUS 10 TIMES ON PORT 98
289)   8132 C3 6C 81    		 JP BOOT	;
292)   8135 0E 61       		ERR: LD C, 97	;
293)   8137 3E 40       		 LD A, 64	;
294)   8139 ED 79       		 OUT (C), A	;
296)   813B C3 35 81    		 JP ERR         ;DO AGAIN PORT 1	;DO AGAIN PORT 1
298)   813E 15 02 00 18 		SCRDATA DB        $15,$02,$00,$18,$18,$28,$40,$20	;
298)   8142 18 28 40 20 		SCRDATA DB        $15,$02,$00,$18,$18,$28,$40,$20	;
299)   8146 00 02 00 00 		 DB $00,$02,$00,$00,$00,$00,$0A,$00,$00,$00,$FF,$00,$AB,$00,$00,$00	;
299)   814A 00 00 0A 00 		 DB $00,$02,$00,$00,$00,$00,$0A,$00,$00,$00,$FF,$00,$AB,$00,$00,$00	;
299)   814E 00 00 FF 00 		 DB $00,$02,$00,$00,$00,$00,$0A,$00,$00,$00,$FF,$00,$AB,$00,$00,$00	;
299)   8152 AB 00 00 00 		 DB $00,$02,$00,$00,$00,$00,$0A,$00,$00,$00,$FF,$00,$AB,$00,$00,$00	;
300)   8156 00 B1       		 DB $00,$B1	;
302)   8158 21 3E 81    		SETSCRDATA: LD HL,SCRDATA	;
303)   815B 11 68 02    		 LD DE,$268	;
304)   815E 01 1A 00    		 LD BC,26	;
305)   8161 ED B0       		 LDIR	;
306)   8163 21 5C 00    		 LD HL,$5C	;
307)   8166 36 68       		 LD (HL),$68  ;VIDEO START	;VIDEO START
308)   8168 23          		 INC HL	;
309)   8169 36 02       		 LD (HL),$02	;
310)   816B C9          		 RET	;
312)   816C ED 56       		BOOT: IM 1	;
313)   816E F3          		 DI	;
316)   816F 31 64 60    		 LD SP, STACKP	;
323)   8172 CD 5C 91    		 CALL I2C_INIT	;
324)   8175 CD A2 92    		 CALL LCD16_INIT       ;LCD 16x2 Initialized	;LCD 16x2 Initialized
325)   8178 21 D0 83    		 LD HL, STR0	;
326)   817B CD 2C 93    		 CALL LCD16_PRINT	;
330)   817E 3E 01       		 LD A, 1        ;1=115200 BPS	;1=115200 BPS
331)   8180 CD C8 8A    		 CALL RS_INI        ;RS232 INITIALIZE	;RS232 INITIALIZE
332)   8183 21 A6 84    		 LD HL, STR00	;
333)   8186 CD F0 8A    		 CALL RS_TXT	;
336)   8189 21 93 84    		 LD HL, STRSCR	;
337)   818C CD F0 8A    		 CALL RS_TXT	;
347)   818F CD 58 81    		ALLOK: CALL SETSCRDATA	;
348)   8192 CD F7 84    		 CALL SCCLS        ;CLEAR SCREEN BUFFER	;CLEAR SCREEN BUFFER
350)   8195 21 FA 83    		 LD HL, STR02	;
351)   8198 CD 37 85    		 CALL SCPRN        ;PRINT WAITING AT SCREEN BUFFER	;PRINT WAITING AT SCREEN BUFFER
353)   819B CD BB 80    		 CALL LOADFONTS       ;LOAD NEWBRAIN FONTS TO VIDEO RAM	;LOAD NEWBRAIN FONTS TO VIDEO RAM
354)   819E CD 57 82    		 CALL TVON	;
357)   81A1 21 4E 84    		 LD HL, STRMN	;
358)   81A4 CD F0 8A    		 CALL RS_TXT        ;OUTPUT MENU COMMANDS AT RS232	;OUTPUT MENU COMMANDS AT RS232
359)   81A7 21 BC 84    		 LD HL, STR01	;
360)   81AA CD F0 8A    		 CALL RS_TXT        ;OUTPUT WAITING AT RS232	;OUTPUT WAITING AT RS232
362)   81AD CD 73 82    		 CALL TVOFTM	;
363)   81B0 CD 23 93    		 CALL LCD16_CLR	;
365)   81B3 21 FA 83    		 LD HL, STR02	;
366)   81B6 CD 2C 93    		 CALL LCD16_PRINT	;
367)   81B9 CD 77 82    		 CALL RESTV	;
369)   81BC 21 A2 83    		 LD HL, SMENU	;
370)   81BF 3E 02       		 LD A, 2	;
371)   81C1 CD 37 85    		 CALL SCPRN	;
373)   81C4 CD 06 82    		 CALL GET_CHAR        ;TAKE A CHAR FROM RS232 OR PS2 KEYB	;TAKE A CHAR FROM RS232 OR PS2 KEYB
376)   81C7 FE 55       		 CP 'U'         ;UPLOAD PROGRAM	;UPLOAD PROGRAM
377)   81C9 CC A1 82    		 CALL Z, UPLOD	;
378)   81CC FE 58       		 CP 'X'	;
379)   81CE CA 84 82    		 JP Z, EXEC	;
380)   81D1 FE 54       		 CP 'T'	;
381)   81D3 CC 58 83    		 CALL Z, RSTST	;
382)   81D6 FE 53       		 CP 'S'	;
383)   81D8 CC 8A 83    		 CALL Z, TXTSCR	;
384)   81DB FE 4E       		 CP 'N'	;
385)   81DD CA 03 E0    		 JP Z, $E003	;
386)   81E0 FE 4D       		 CP 'M'	;
387)   81E2 CA 31 82    		 JP Z, GONB        ;$E090	;$E090
388)   81E5 FE 43       		 CP 'C'	;
389)   81E7 CC 57 82    		 CALL Z, TVON	;
390)   81EA FE 56       		 CP 'V'	;
391)   81EC CC 65 82    		 CALL Z, TVOFF	;
392)   81EF FE 49       		 CP 'I'	;
393)   81F1 CC F0 82    		 CALL Z, UPLOD2	;
394)   81F4 FE 59       		 CP 'Y'	;
395)   81F6 CC 6E 83    		 CALL Z, RSTST2	;
396)   81F9 FE 48       		 CP 'H'	;
397)   81FB CC 7D 83    		 CALL Z, XMTST	;
398)   81FE FE 4A       		 CP 'J'	;
399)   8200 CC 22 83    		 CALL Z, DNLOD	;
401)   8203 C3 A1 81    		 JP MENU	;
405)   8206 AF          		GET_CHAR: XOR A	;
408)   8207 CD 48 8B    		 CALL RS_KEYRD        ;CHAR IN RS232?	;CHAR IN RS232?
410)   820A CA 06 82    		 JP Z, GET_CHAR	;
411)   820D CD 18 8B    		 CALL RS_RX        ; GET THAT CHAR	; GET THAT CHAR
412)   8210 C9          		 RET	;
422)   8211 F5          		 PUSH AF	;
423)   8212 CD E1 8A    		 CALL RS_TX	;
424)   8215 3E 0A       		 LD A, 10	;
425)   8217 CD E1 8A    		 CALL RS_TX	;
426)   821A 3E 0D       		 LD A, 13	;
427)   821C CD E1 8A    		 CALL RS_TX	;
428)   821F F1          		 POP AF	;
429)   8220 C9          		 RET	;
431)   8221 16 00       		LCDLN1: LD D, 0	;
432)   8223 1E 00       		 LD E, 0	;
433)   8225 CD 47 93    		 CALL LCD16_SETCURS	;
434)   8228 C9          		 RET	;
436)   8229 16 00       		LCDLN2: LD D, 0	;
437)   822B 1E 00       		 LD E, 0	;
438)   822D CD 47 93    		 CALL LCD16_SETCURS	;
439)   8230 C9          		 RET	;
441)   8231 CD 29 82    		GONB: CALL LCDLN2	;
442)   8234 21 46 82    		 LD HL, DSPMES	;
443)   8237 CD 2C 93    		 CALL LCD16_PRINT	;
444)   823A CD 56 93    		 CALL LCD16_CURSOFF       ;CURSOR OFF	;CURSOR OFF
445)   823D CD 80 93    		 CALL LCD16_BLINKON       ;BLINK ON	;BLINK ON
446)   8240 AF          		 XOR A	;
447)   8241 D3 E0       		 OUT (INTENB),A       ;ENABLE INTERRUPTS ON NB	;ENABLE INTERRUPTS ON NB
448)   8243 C3 15 A0    		 JP $A015	;
450)   8246 3C 3C 20 43 		DSPMES: DEFM "<< CDESP 2016 >>"	;
450)   824A 44 45 53 50 		DSPMES: DEFM "<< CDESP 2016 >>"	;
450)   824E 20 32 30 31 		DSPMES: DEFM "<< CDESP 2016 >>"	;
450)   8252 36 20 3E 3E 		DSPMES: DEFM "<< CDESP 2016 >>"	;
451)   8256 00          		 DB 0	;
453)   8257 E5          		TVON: PUSH HL	;
454)   8258 21 C3 00    		 LD HL, TVSTAT	;
455)   825B CB D6       		 SET 2, (HL)	;
456)   825D 21 24 00    		 LD HL, 36	;
457)   8260 CB D6       		 SET 2, (HL)	;
458)   8262 E1          		 POP HL	;
459)   8263 18 12       		 JR RESTV	;
462)   8265 E5          		TVOFF: PUSH HL	;
463)   8266 21 C3 00    		 LD HL, TVSTAT	;
464)   8269 CB 96       		 RES 2, (HL)	;
465)   826B 21 24 00    		 LD HL, 36	;
466)   826E CB 96       		 RES 2, (HL)	;
467)   8270 E1          		 POP HL	;
468)   8271 18 04       		 JR RESTV	;
471)   8273 AF          		TVOFTM: XOR A         ;TV OFF	;TV OFF
472)   8274 D3 07       		 OUT (7), A	;
473)   8276 C9          		 RET	;
475)   8277 E5          		RESTV: PUSH HL	;
476)   8278 21 C3 00    		 LD HL, TVSTAT	;
477)   827B 7E          		 LD A, (HL)	;
478)   827C D3 07       		 OUT (7), A	;
479)   827E 3E 05       		 LD A, 5	;
480)   8280 D3 09       		 OUT (9), A        ; SET DISPLAY ADDRESS	; SET DISPLAY ADDRESS
481)   8282 E1          		 POP HL	;
482)   8283 C9          		 RET	;
484)   8284 CD 23 93    		EXEC: CALL LCD16_CLR	;
485)   8287 CD 29 82    		 CALL LCDLN2	;
486)   828A 21 21 84    		 LD HL, SPRGX	;
487)   828D CD 2C 93    		 CALL LCD16_PRINT	;
488)   8290 CD 21 82    		 CALL LCDLN1	;
490)   8293 3E 05       		 LD A, 5	;
491)   8295 CD 37 85    		 CALL SCPRN	;
493)   8298 11 C1 00    		 LD DE, PRGEX	;
494)   829B 1A          		 LD A, (DE)	;
495)   829C 6F          		 LD L, A	;
496)   829D 13          		 INC DE	;
497)   829E 1A          		 LD A, (DE)	;
498)   829F 67          		 LD H, A	;
499)   82A0 E9          		 JP (HL)	;
501)   82A1 CD 73 82    		UPLOD: CALL TVOFTM	;
502)   82A4 21 14 84    		 LD HL, DATST	;
503)   82A7 CD 29 82    		 CALL LCDLN2	;
504)   82AA CD 2C 93    		 CALL LCD16_PRINT	;
506)   82AD CD 18 8B    		 CALL RS_RX        ;HL HAS RAM ADDRESS	;HL HAS RAM ADDRESS
507)   82B0 6F          		 LD L, A	;
508)   82B1 CD 18 8B    		 CALL RS_RX	;
509)   82B4 67          		 LD H, A	;
510)   82B5 CD 18 8B    		 CALL RS_RX        ;BC HAS TOTAL DATA TO BE SEND	;BC HAS TOTAL DATA TO BE SEND
511)   82B8 4F          		 LD C, A	;
512)   82B9 CD 18 8B    		 CALL RS_RX	;
513)   82BC 47          		 LD B, A	;
515)   82BD 11 C1 00    		 LD DE, PRGEX        ;SAVE TO PRGEX THE PROG EXEC ADDR=HL	;SAVE TO PRGEX THE PROG EXEC ADDR=HL
516)   82C0 7D          		 LD A, L	;
517)   82C1 12          		 LD (DE), A	;
518)   82C2 13          		 INC DE	;
519)   82C3 7C          		 LD A, H	;
520)   82C4 12          		 LD (DE), A	;
522)   82C5 FE 80       		 CP $80	;
523)   82C7 28 02       		 JR Z, ROMWR	;
524)   82C9 38 02       		 JR C, NORWR	;
526)   82CB D3 7C       		 ROMWR OUT (124), A       ;SET ROM WRITABLE = '0'	;SET ROM WRITABLE = '0'
531)   82CD E5          		NORWR: PUSH HL	;
532)   82CE CD 18 8B    		NXB: CALL RS_RX	;
533)   82D1 77          		 LD (HL), A	;
534)   82D2 23          		 INC HL	;
535)   82D3 0B          		 DEC BC	;
536)   82D4 78          		 LD A, B	;
537)   82D5 B1          		 OR C	;
538)   82D6 20 F6       		 JR NZ, NXB        ;LOOP ALL BYTES	;LOOP ALL BYTES
540)   82D8 D3 7D       		 OUT (125), A        ;SET ROM NON WRITABLE ='1'	;SET ROM NON WRITABLE ='1'
542)   82DA 21 05 84    		 LD HL, DATTR	;
543)   82DD CD 23 93    		 CALL LCD16_CLR	;
544)   82E0 CD 2C 93    		 CALL LCD16_PRINT	;
545)   82E3 3E 05       		 LD A, 5	;
546)   82E5 CD 37 85    		 CALL SCPRN	;
547)   82E8 CD C4 93    		 CALL DELAY	;
549)   82EB E1          		 POP HL	;
552)   82EC CD 77 82    		 CALL RESTV	;
554)   82EF C9          		 RET	;
558)   82F0 CD 73 82    		UPLOD2: CALL TVOFTM	;
559)   82F3 21 14 84    		 LD HL, DATST	;
560)   82F6 CD 29 82    		 CALL LCDLN2	;
561)   82F9 CD 2C 93    		 CALL LCD16_PRINT	;
563)   82FC CD 18 8B    		 CALL RS_RX        ;HL HAS RAM ADDRESS	;HL HAS RAM ADDRESS
564)   82FF 6F          		 LD L, A	;
565)   8300 CD 18 8B    		 CALL RS_RX	;
566)   8303 67          		 LD H, A	;
567)   8304 CD 18 8B    		 CALL RS_RX        ;BC HAS TOTAL DATA TO BE SEND	;BC HAS TOTAL DATA TO BE SEND
568)   8307 4F          		 LD C, A	;
569)   8308 CD 18 8B    		 CALL RS_RX	;
570)   830B 47          		 LD B, A	;
572)   830C 11 C1 00    		 LD DE, PRGEX        ;SAVE TO PRGEX THE PROG EXEC ADDR=HL	;SAVE TO PRGEX THE PROG EXEC ADDR=HL
573)   830F 7D          		 LD A, L	;
574)   8310 12          		 LD (DE), A	;
575)   8311 13          		 INC DE	;
576)   8312 7C          		 LD A, H	;
577)   8313 12          		 LD (DE), A	;
579)   8314 CD 18 8B    		NXB2: CALL RS_RX	;
580)   8317 77          		 LD (HL), A	;
581)   8318 23          		 INC HL	;
582)   8319 0B          		 DEC BC	;
583)   831A 78          		 LD A, B	;
584)   831B B1          		 OR C	;
585)   831C 20 F6       		 JR NZ, NXB2        ;LOOP ALL BYTES	;LOOP ALL BYTES
587)   831E CD 77 82    		 CALL RESTV	;
588)   8321 C9          		 RET	;
590)   8322 CD 73 82    		DNLOD: CALL TVOFTM	;
595)   8325 CD 18 8B    		 CALL RS_RX        ;HL HAS RAM ADDRESS	;HL HAS RAM ADDRESS
596)   8328 6F          		 LD L, A	;
597)   8329 CD 18 8B    		 CALL RS_RX	;
598)   832C 67          		 LD H, A	;
599)   832D CD 18 8B    		 CALL RS_RX        ;BC HAS TOTAL DATA TO BE SEND	;BC HAS TOTAL DATA TO BE SEND
600)   8330 4F          		 LD C, A	;
601)   8331 CD 18 8B    		 CALL RS_RX	;
602)   8334 47          		 LD B, A	;
604)   8335 7E          		NXB3: LD A, (HL)	;
605)   8336 CD E1 8A    		 CALL RS_TX        ;SEND BYTE	;SEND BYTE
606)   8339 23          		 INC HL	;
607)   833A 0B          		 DEC BC	;
608)   833B 78          		 LD A, B	;
609)   833C B1          		 OR C	;
610)   833D 20 F6       		 JR NZ, NXB3        ;LOOP ALL BYTES	;LOOP ALL BYTES
612)   833F CD 77 82    		 CALL RESTV	;
614)   8342 C9          		 RET	;
618)   8343 FE 00       		 CP 0	;
619)   8345 28 FC       		 JR Z, PS2AGN	;
620)   8347 FE FF       		 CP 255	;
621)   8349 28 F8       		 JR Z, PS2AGN	;
622)   834B FE 01       		 CP 1	;
623)   834D CA 43 83    		 JP Z, PS2AGN	;
625)   8350 CD E1 8A    		 CALL RS_TX	;
626)   8353 CD D1 93    		 CALL DEL2	;
628)   8356 18 EB       		 JR PS2AGN	;
631)   8358 00          		RSTST: NOP         ;GET A KEY FROM RS232	;GET A KEY FROM RS232
632)   8359 06 0A       		 LD B, 10	;
633)   835B C5          		TEN: PUSH BC	;
634)   835C CD 18 8B    		 CALL RS_RX	;
636)   835F CD E1 8A    		 CALL RS_TX        ;SEND BACK THE CHAR	;SEND BACK THE CHAR
638)   8362 3E 20       		 LD A, ' '	;
640)   8364 3E 52       		 LD A, 'R'	;
643)   8366 CD D1 93    		 CALL DEL2	;
645)   8369 C1          		 POP BC	;
646)   836A 10 EF       		 DJNZ TEN	;
648)   836C AF          		 XOR A	;
649)   836D C9          		 RET	;
651)   836E 00          		RSTST2: NOP         ;TEST RECEIVING AND SENDING 255 BYTES	;TEST RECEIVING AND SENDING 255 BYTES
652)   836F 06 FF       		 LD B, 255	;
653)   8371 C5          		TEN2: PUSH BC	;
654)   8372 CD 18 8B    		 CALL RS_RX	;
656)   8375 CD E1 8A    		 CALL RS_TX        ;SEND BACK THE CHAR	;SEND BACK THE CHAR
658)   8378 C1          		 POP BC	;
659)   8379 10 F6       		 DJNZ TEN2	;
660)   837B AF          		 XOR A	;
661)   837C C9          		 RET	;
664)   837D 00          		XMTST: NOP         ;TEST XMIT ALL 8 BITS	;TEST XMIT ALL 8 BITS
665)   837E 06 FF       		 LD B, 255	;
666)   8380 C5          		TEN3: PUSH BC	;
667)   8381 78          		 LD A, B	;
668)   8382 CD E1 8A    		 CALL RS_TX        ;SEND  THE BYTE	;SEND  THE BYTE
669)   8385 C1          		 POP BC	;
670)   8386 10 F8       		 DJNZ TEN3	;
671)   8388 AF          		 XOR A	;
672)   8389 C9          		 RET	;
676)   838A 21 38 84    		TXTSCR: LD HL, TXTMES        ;SCREEN START	;SCREEN START
677)   838D 11 82 02    		 LD DE, TXTRAM	;
678)   8390 01 15 00    		 LD BC, 21	;
679)   8393 ED B0       		 LDIR	;
681)   8395 21 38 84    		 LD HL, TXTMES	;
682)   8398 11 C2 02    		 LD DE, TXTRAM + 64       ;SCREEN START+64 40chars screen +24 excess	;SCREEN START+64 40chars screen +24 excess
683)   839B 01 15 00    		 LD BC, 21	;
684)   839E ED B0       		 LDIR	;
686)   83A0 AF          		 XOR A	;
687)   83A1 C9          		 RET	;
691)   83A2 55 49 3A 55 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
691)   83A6 50 2C 58 3A 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
691)   83AA 52 55 4E 2C 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
691)   83AE 54 59 48 3A 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
691)   83B2 52 53 2C 53 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
691)   83B6 3A 44 49 53 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
691)   83BA 50 2C 4E 4D 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
691)   83BE 3A 4E 42 52 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
691)   83C2 4F 4D 2C 43 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
691)   83C6 56 3A 54 56 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
691)   83CA 2C 4A 3A 44 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
691)   83CE 4E          		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
692)   83CF 00          		 DB 0	;
695)   83D0 4C 43 44 20 		STR0: DEFM "LCD INITIALIZED"	;
695)   83D4 49 4E 49 54 		STR0: DEFM "LCD INITIALIZED"	;
695)   83D8 49 41 4C 49 		STR0: DEFM "LCD INITIALIZED"	;
695)   83DC 5A 45 44    		STR0: DEFM "LCD INITIALIZED"	;
696)   83DF 00          		 DB 0	;
698)   83E0 52 53 32 33 		STR1: DEFM "RS232 INIT"	;
698)   83E4 32 20 49 4E 		STR1: DEFM "RS232 INIT"	;
698)   83E8 49 54       		STR1: DEFM "RS232 INIT"	;
699)   83EA 00          		 DB 0	;
701)   83EB 50 52 4F 47 		STR2: DEFM "PROGRAM HALTED"	;
701)   83EF 52 41 4D 20 		STR2: DEFM "PROGRAM HALTED"	;
701)   83F3 48 41 4C 54 		STR2: DEFM "PROGRAM HALTED"	;
701)   83F7 45 44       		STR2: DEFM "PROGRAM HALTED"	;
702)   83F9 00          		 DB 0	;
704)   83FA 57 41 49 54 		STR02: DEFM "WAITING..."	;
704)   83FE 49 4E 47 2E 		STR02: DEFM "WAITING..."	;
704)   8402 2E 2E       		STR02: DEFM "WAITING..."	;
705)   8404 00          		 DB 0	;
707)   8405 50 52 47 20 		DATTR: DEFM "PRG TRANSFERED"	;
707)   8409 54 52 41 4E 		DATTR: DEFM "PRG TRANSFERED"	;
707)   840D 53 46 45 52 		DATTR: DEFM "PRG TRANSFERED"	;
707)   8411 45 44       		DATTR: DEFM "PRG TRANSFERED"	;
708)   8413 00          		 DB 0	;
710)   8414 52 45 43 45 		DATST: DEFM "RECEIVING..."	;
710)   8418 49 56 49 4E 		DATST: DEFM "RECEIVING..."	;
710)   841C 47 2E 2E 2E 		DATST: DEFM "RECEIVING..."	;
711)   8420 00          		 DB 0	;
713)   8421 50 52 47 20 		SPRGX: DEFM "PRG EXECUTE"	;
713)   8425 45 58 45 43 		SPRGX: DEFM "PRG EXECUTE"	;
713)   8429 55 54 45    		SPRGX: DEFM "PRG EXECUTE"	;
714)   842C 00          		 DB 0	;
716)   842D 49 4D 41 47 		STIMG: DEFM "IMAGE COPY"	;
716)   8431 45 20 43 4F 		STIMG: DEFM "IMAGE COPY"	;
716)   8435 50 59       		STIMG: DEFM "IMAGE COPY"	;
717)   8437 00          		 DB 0	;
719)   8438 4E 45 57 42 		TXTMES: DEFM "NEWBRAIN SCREEN READY"	;
719)   843C 52 41 49 4E 		TXTMES: DEFM "NEWBRAIN SCREEN READY"	;
719)   8440 20 53 43 52 		TXTMES: DEFM "NEWBRAIN SCREEN READY"	;
719)   8444 45 45 4E 20 		TXTMES: DEFM "NEWBRAIN SCREEN READY"	;
719)   8448 52 45 41 44 		TXTMES: DEFM "NEWBRAIN SCREEN READY"	;
719)   844C 59          		TXTMES: DEFM "NEWBRAIN SCREEN READY"	;
720)   844D 00          		 DB 0	;
724)   844E 55 3A 55 50 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
724)   8452 2C 58 3A 52 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
724)   8456 55 4E 2C 54 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
724)   845A 3A 52 53 2C 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
724)   845E 53 3A 44 49 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
724)   8462 53 50 2C 4E 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
724)   8466 3A 4E 42 52 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
724)   846A 4F 4D 2C 43 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
724)   846E 3A 54 56 4F 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
724)   8472 4E 2C 56 3A 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
724)   8476 54 56 4F 46 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
724)   847A 46          		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
725)   847B 0A 0D 00    		 DB 10,13,0	;
728)   847E 4E 45 57 42 		STRBT: DEFM "NEWBRAIN BOOTED OK"	;
728)   8482 52 41 49 4E 		STRBT: DEFM "NEWBRAIN BOOTED OK"	;
728)   8486 20 42 4F 4F 		STRBT: DEFM "NEWBRAIN BOOTED OK"	;
728)   848A 54 45 44 20 		STRBT: DEFM "NEWBRAIN BOOTED OK"	;
728)   848E 4F 4B       		STRBT: DEFM "NEWBRAIN BOOTED OK"	;
729)   8490 0A 0D 00    		 DB 10,13,0	;
731)   8493 43 4C 45 41 		STRSCR: DEFM "CLEARING SCREEN."	;
731)   8497 52 49 4E 47 		STRSCR: DEFM "CLEARING SCREEN."	;
731)   849B 20 53 43 52 		STRSCR: DEFM "CLEARING SCREEN."	;
731)   849F 45 45 4E 2E 		STRSCR: DEFM "CLEARING SCREEN."	;
732)   84A3 0A 0D 00    		 DB 10,13,0	;
734)   84A6 0A 0D       		STR00: DB 10,13	;
735)   84A8 52 53 32 33 		 DEFM "RS232 INITIALIZED"	;
735)   84AC 32 20 49 4E 		 DEFM "RS232 INITIALIZED"	;
735)   84B0 49 54 49 41 		 DEFM "RS232 INITIALIZED"	;
735)   84B4 4C 49 5A 45 		 DEFM "RS232 INITIALIZED"	;
735)   84B8 44          		 DEFM "RS232 INITIALIZED"	;
736)   84B9 0A 0D 00    		 DB 10,13,0	;
738)   84BC 0A 0D       		STR01: DB 10,13	;
739)   84BE 57 41 49 54 		 DEFM "WAITING..."	;
739)   84C2 49 4E 47 2E 		 DEFM "WAITING..."	;
739)   84C6 2E 2E       		 DEFM "WAITING..."	;
740)   84C8 0A 0D 00    		 DB 10,13,0	;
741)   84CB 00          		 DB 0	;
743)   84CC 0A 0D       		STR06: DB 10,13	;
744)   84CE 4B 45 59 20 		 DEFM "KEY PRESSED"	;
744)   84D2 50 52 45 53 		 DEFM "KEY PRESSED"	;
744)   84D6 53 45 44    		 DEFM "KEY PRESSED"	;
745)   84D9 0A 0D 00    		 DB 10,13,0	;
746)   84DC 00          		 DB 0	;
750)   84DD 80 00 80 00 		 DB 128,0,128,0,255,255	;
750)   84E1 FF FF       		 DB 128,0,128,0,255,255	;
751)   84E3 00          		IMAGE: DB 0	;
 14)   84E4 E5          		SCCLL: PUSH HL	;
 15)   84E5 F5          		 PUSH AF	;
 16)   84E6 21 56 85    		 LD HL, STCL4        ;40 LINE CLEAR	;40 LINE CLEAR
 17)   84E9 CD 3A 85    		 CALL SCPRN1	;
 18)   84EC F1          		 POP AF	;
 19)   84ED E1          		 POP HL	;
 20)   84EE C9          		 RET	;
 23)   84EF AF          		 XOR A         ;LINE 0	;LINE 0
 24)   84F0 21 63 86    		 LD HL, SCRDY	;
 25)   84F3 CD 37 85    		 CALL SCPRN	;
 26)   84F6 C9          		 RET	;
 30)   84F7 06 19       		SCCLS: LD B, 25	;
 31)   84F9 AF          		 XOR A         ;; PRINT STR0 AT LINE 1	;; PRINT STR0 AT LINE 1
 32)   84FA C5          		 TSTLP1 PUSH BC	;
 33)   84FB CD E4 84    		 CALL SCCLL	;
 34)   84FE 3C          		 INC A         ; NEXT LINE	; NEXT LINE
 35)   84FF C1          		 POP BC	;
 36)   8500 10 F8       		 DJNZ TSTLP1	;
 37)   8502 CD EF 84    		 CALL SCMSG1	;
 38)   8505 C9          		 RET	;
 43)   8506 F5          		 PRNRGA PUSH AF	;
 44)   8507 06 08       		 LD B, 8	;
 45)   8509 CB 07       		LPN5: RLC A         ; BIT 7 FIRST	; BIT 7 FIRST
 46)   850B F5          		 PUSH AF	;
 47)   850C 3E 00       		 LD A, 0	;
 48)   850E 30 02       		 JR NC, SKP5	;
 49)   8510 3E 01       		 LD A, 1	;
 50)   8512 C6 30       		 SKP5 ADD A, 48	;
 51)   8514 CD 1D 85    		 CALL PRNCL        ; PRINT A AT COL,LINE	; PRINT A AT COL,LINE
 52)   8517 1C          		 INC E	;
 53)   8518 F1          		 POP AF	;
 54)   8519 10 EE       		 DJNZ LPN5	;
 55)   851B F1          		 POP AF	;
 56)   851C C9          		 RET	;
 59)   851D E5          		PRNCL: PUSH HL	;
 60)   851E D5          		 PUSH DE	;
 61)   851F F5          		 PUSH AF	;
 62)   8520 C5          		 PUSH BC	;
 63)   8521 21 82 02    		 LD HL, TXTRAM	;
 64)   8524 42          		 LD B, D        ; D HAS THE LINE	; D HAS THE LINE
 65)   8525 D5          		 PUSH DE	;
 66)   8526 11 40 00    		 LD DE, 40 + 24        ; FOR 40 COLUMN SCREEN	; FOR 40 COLUMN SCREEN
 67)   8529 19          		LPN2: ADD HL, DE	;
 68)   852A 10 FD       		 DJNZ LPN2	;
 69)   852C D1          		 POP DE	;
 70)   852D 43          		 LD B, E        ; E HAS THE COLUMN	; E HAS THE COLUMN
 71)   852E 23          		LPN3: INC HL	;
 72)   852F 10 FD       		 DJNZ LPN3	;
 73)   8531 77          		 LD (HL), A        ; A HAS THE CHAR TO PRINT	; A HAS THE CHAR TO PRINT
 74)   8532 C1          		 POP BC	;
 75)   8533 F1          		 POP AF	;
 76)   8534 D1          		 POP DE	;
 77)   8535 E1          		 POP HL	;
 78)   8536 C9          		 RET	;
 81)   8537 CD E4 84    		SCPRN: CALL SCCLL        ; CLEAR THE LINE	; CLEAR THE LINE
 82)   853A E5          		SCPRN1: PUSH HL	;
 83)   853B 21 82 02    		 LD HL, TXTRAM	;
 84)   853E FE 00       		 CP 0	;
 85)   8540 28 07       		 JR Z, SCSKIP        ;SKIP FOR LINE 0	;SKIP FOR LINE 0
 86)   8542 47          		 LD B, A	;
 87)   8543 11 40 00    		 LD DE, 40 + 24        ; FOR 40 COLUMN SCREEN	; FOR 40 COLUMN SCREEN
 88)   8546 19          		LPN1: ADD HL, DE	;
 89)   8547 10 FD       		 DJNZ LPN1	;
 90)   8549 EB          		SCSKIP: EX DE, HL	;
 91)   854A E1          		 POP HL	;
 92)   854B 7E          		SCLP: LD A, (HL)	;
 93)   854C FE 00       		 CP 0	;
 94)   854E 28 05       		 JR Z SCEXT	;
 95)   8550 12          		 LD (DE), A	;
 96)   8551 23          		 INC HL	;
 97)   8552 13          		 INC DE	;
 98)   8553 18 F6       		 JR SCLP	;
 99)   8555 C9          		SCEXT: RET	;
101)   8556 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   855A 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   855E 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8562 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8566 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   856A 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   856E 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8572 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8576 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   857A 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   857E 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8582 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8586 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   858A 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   858E 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8592 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8596 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   859A 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   859E 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   85A2 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   85A6 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   85AA 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   85AE 20          		STCL4: DEFM "                                                                                         "	;
102)   85AF 00          		 DB 0	;
104)   85B0 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85B4 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85B8 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85BC 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85C0 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85C4 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85C8 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85CC 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85D0 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85D4 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85D8 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85DC 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85E0 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85E4 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85E8 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85EC 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85F0 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85F4 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85F8 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85FC 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   8600 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   8604 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   8608 20          		STCL8: DEFM "                                                                                         "	;
105)   8609 20 20 20 20 		 DEFM "                                                                                         "	;
105)   860D 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8611 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8615 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8619 20 20 20 20 		 DEFM "                                                                                         "	;
105)   861D 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8621 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8625 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8629 20 20 20 20 		 DEFM "                                                                                         "	;
105)   862D 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8631 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8635 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8639 20 20 20 20 		 DEFM "                                                                                         "	;
105)   863D 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8641 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8645 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8649 20 20 20 20 		 DEFM "                                                                                         "	;
105)   864D 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8651 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8655 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8659 20 20 20 20 		 DEFM "                                                                                         "	;
105)   865D 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8661 20          		 DEFM "                                                                                         "	;
106)   8662 00          		 DB 0	;
108)   8663 53 43 52 45 		SCRDY: DEFM "SCREEN READY!!!"	;
108)   8667 45 4E 20 52 		SCRDY: DEFM "SCREEN READY!!!"	;
108)   866B 45 41 44 59 		SCRDY: DEFM "SCREEN READY!!!"	;
108)   866F 21 21 21    		SCRDY: DEFM "SCREEN READY!!!"	;
109)   8672 00          		 DB 0	;
  6)   8673 FE 00       		 CP 0	;
  7)   8675 C8          		 RET Z	;
  8)   8676 CD 1A 87    		 CALL NBLOOKASC	;
  9)   8679 C9          		 RET	;
 11)   867A 21 98 86    		NBLOOK: LD HL, NBTAB	;
 12)   867D 06 00       		 LD B, 0	;
 13)   867F 4F          		 LD C, A	;
 14)   8680 09          		 ADD HL, BC	;
 15)   8681 7E          		 LD A, (HL)	;
 16)   8682 FE 00       		 CP 0	;
 17)   8684 C8          		 RET Z	;
 18)   8685 21 7A 00    		 LD HL, KEYCTR        ;BIT 6=SHIFT BIT 7=CTRL  BIT 6+7=GRPH	;BIT 6=SHIFT BIT 7=CTRL  BIT 6+7=GRPH
 19)   8688 CB 6E       		 BIT 5, (HL)	;
 20)   868A 28 04       		 JR Z, NOGRPH	;
 21)   868C 06 C0       		 LD B, 192        ;SET BIT 6 AND 7	;SET BIT 6 AND 7
 22)   868E 18 06       		 JR NBLKEX	;
 23)   8690 4F          		NOGRPH: LD C, A	;
 24)   8691 7E          		 LD A, (HL)	;
 25)   8692 E6 C0       		 AND 11000000	;
 26)   8694 47          		 LD B, A	;
 27)   8695 79          		 LD A, C	;
 28)   8696 B0          		NBLKEX: OR B	;
 29)   8697 C9          		 RET	;
 31)   8698 00 00 00 00 		NBTAB: DB 0,0,0,0,0,0,0,0,0,0       ;  0-  9	;  0-  9
 31)   869C 00 00 00 00 		NBTAB: DB 0,0,0,0,0,0,0,0,0,0       ;  0-  9	;  0-  9
 31)   86A0 00 00       		NBTAB: DB 0,0,0,0,0,0,0,0,0,0       ;  0-  9	;  0-  9
 32)   86A2 00 00 00 A4 		 DB 0,0,0,36+128,0,0,0,0,0,0      ; 10- 19 0,0,0,TAB	; 10- 19 0,0,0,TAB
 32)   86A6 00 00 00 00 		 DB 0,0,0,36+128,0,0,0,0,0,0      ; 10- 19 0,0,0,TAB	; 10- 19 0,0,0,TAB
 32)   86AA 00 00       		 DB 0,0,0,36+128,0,0,0,0,0,0      ; 10- 19 0,0,0,TAB	; 10- 19 0,0,0,TAB
 33)   86AC 00 0E 09 00 		 DB 0,14,9,0,0,0,60,45,46,13      ; 20- 29	; 20- 29
 33)   86B0 00 00 3C 2D 		 DB 0,14,9,0,0,0,60,45,46,13      ; 20- 29	; 20- 29
 33)   86B4 2E 0D       		 DB 0,14,9,0,0,0,60,45,46,13      ; 20- 29	; 20- 29
 34)   86B6 08 00 00 3A 		 DB 8,0,0,58,59,44,12,6,7,0      ; 30- 39	; 30- 39
 34)   86BA 3B 2C 0C 06 		 DB 8,0,0,58,59,44,12,6,7,0      ; 30- 39	; 30- 39
 34)   86BE 07 00       		 DB 8,0,0,58,59,44,12,6,7,0      ; 30- 39	; 30- 39
 35)   86C0 00 0F 39 2B 		 DB 0,15,57,43,10,11,5,0,0,52      ; 40- 49	; 40- 49
 35)   86C4 0A 0B 05 00 		 DB 0,15,57,43,10,11,5,0,0,52      ; 40- 49	; 40- 49
 35)   86C8 00 34       		 DB 0,15,57,43,10,11,5,0,0,52      ; 40- 49	; 40- 49
 36)   86CA 38 29 2A 25 		 DB 56,41,42,37,4,0,0,0,53,51      ; 50- 59	; 50- 59
 36)   86CE 04 00 00 00 		 DB 56,41,42,37,4,0,0,0,53,51      ; 50- 59	; 50- 59
 36)   86D2 35 33       		 DB 56,41,42,37,4,0,0,0,53,51      ; 50- 59	; 50- 59
 37)   86D4 23 03 13 00 		 DB 35,3,19,0,0,54,62,36,38,21      ; 60- 69	; 60- 69
 37)   86D8 00 36 3E 24 		 DB 35,3,19,0,0,54,62,36,38,21      ; 60- 69	; 60- 69
 37)   86DC 26 15       		 DB 35,3,19,0,0,54,62,36,38,21      ; 60- 69	; 60- 69
 38)   86DE 14 00 00 37 		 DB 20,0,0,55,47,39,40,26,28,0      ; 70- 79	; 70- 79
 38)   86E2 2F 27 28 1A 		 DB 20,0,0,55,47,39,40,26,28,0      ; 70- 79	; 70- 79
 38)   86E6 1C 00       		 DB 20,0,0,55,47,39,40,26,28,0      ; 70- 79	; 70- 79
 39)   86E8 00 00 43 00 		 DB 0,0,67,0,86,27,0,0,0,0      ; 80- 89	; 80- 89
 39)   86EC 56 1B 00 00 		 DB 0,0,67,0,86,27,0,0,0,0      ; 80- 89	; 80- 89
 39)   86F0 00 00       		 DB 0,0,67,0,86,27,0,0,0,0      ; 80- 89	; 80- 89
 40)   86F2 1E 00 00 00 		 DB 30,0,0,0,0,0,0,0,0,0      ; 90- 99	; 90- 99
 40)   86F6 00 00 00 00 		 DB 30,0,0,0,0,0,0,0,0,0      ; 90- 99	; 90- 99
 40)   86FA 00 00       		 DB 30,0,0,0,0,0,0,0,0,0      ; 90- 99	; 90- 99
 41)   86FC 00 00 40 00 		 DB 0,0,64,0,0,26+128,0,2,63,0      ;100-109  0,0,64,0,0,END	;100-109  0,0,64,0,0,END
 41)   8700 00 9A 00 02 		 DB 0,0,64,0,0,26+128,0,2,63,0      ;100-109  0,0,64,0,0,END	;100-109  0,0,64,0,0,END
 41)   8704 3F 00       		 DB 0,0,64,0,0,26+128,0,2,63,0      ;100-109  0,0,64,0,0,END	;100-109  0,0,64,0,0,END
 42)   8706 00 00 3D A5 		 DB 0,0,61,37+128,34,0,18,50,31,25     ;110-119  0,0,INS,DEL	;110-119  0,0,INS,DEL
 42)   870A 22 00 12 32 		 DB 0,0,61,37+128,34,0,18,50,31,25     ;110-119  0,0,INS,DEL	;110-119  0,0,INS,DEL
 42)   870E 1F 19       		 DB 0,0,61,37+128,34,0,18,50,31,25     ;110-119  0,0,INS,DEL	;110-119  0,0,INS,DEL
 43)   8710 00 1D 07 1C 		 DB 0,29,7,28,24,20,0,0,0,0      ;120-129	;120-129
 43)   8714 18 14 00 00 		 DB 0,29,7,28,24,20,0,0,0,0      ;120-129	;120-129
 43)   8718 00 00       		 DB 0,29,7,28,24,20,0,0,0,0      ;120-129	;120-129
 46)   871A 21 23 87    		NBLOOKASC:     LD HL, NBRSTAB	;
 47)   871D 06 00       		 LD B, 0	;
 48)   871F 4F          		 LD C, A	;
 49)   8720 09          		 ADD HL, BC	;
 50)   8721 7E          		 LD A, (HL)	;
 51)   8722 C9          		 RET	;
 54)   8723 00 3D 00 12 		NBRSTAB:      DB 0,61,0,18,2,0,64,0,64,0      ;  0-  9	;  0-  9
 54)   8727 02 00 40 00 		NBRSTAB:      DB 0,61,0,18,2,0,64,0,64,0      ;  0-  9	;  0-  9
 54)   872B 40 00       		NBRSTAB:      DB 0,61,0,18,2,0,64,0,64,0      ;  0-  9	;  0-  9
 55)   872D 22 32 00 1E 		 DB 34,50,0,30,0,0,0,0,0,0     ; 10- 19 	; 10- 19
 55)   8731 00 00 00 00 		 DB 34,50,0,30,0,0,0,0,0,0     ; 10- 19 	; 10- 19
 55)   8735 00 00       		 DB 34,50,0,30,0,0,0,0,0,0     ; 10- 19 	; 10- 19
 56)   8737 00 00 00 00 		 DB 0,0,0,0,0,0,0,31,0,0      ; 20- 29	; 20- 29
 56)   873B 00 00 00 1F 		 DB 0,0,0,0,0,0,0,31,0,0      ; 20- 29	; 20- 29
 56)   873F 00 00       		 DB 0,0,0,0,0,0,0,31,0,0      ; 20- 29	; 20- 29
 57)   8741 00 00 0F 49 		 DB 0,0,15,9+64,8+64,7+64,6+64,5+64,0,3+64          ; 30- 39  	; 30- 39
 57)   8745 48 47 46 45 		 DB 0,0,15,9+64,8+64,7+64,6+64,5+64,0,3+64          ; 30- 39  	; 30- 39
 57)   8749 00 43       		 DB 0,0,15,9+64,8+64,7+64,6+64,5+64,0,3+64          ; 30- 39  	; 30- 39
 58)   874B 16 17 18 1D 		 DB 22,23,24,29,54,28,55,47,21,9     ; 40- 49	; 40- 49
 58)   874F 36 1C 37 2F 		 DB 22,23,24,29,54,28,55,47,21,9     ; 40- 49	; 40- 49
 58)   8753 15 09       		 DB 22,23,24,29,54,28,55,47,21,9     ; 40- 49	; 40- 49
 59)   8755 08 07 06 05 		 DB 8,7,6,5,4,3,19,20,40+64,40             ; 50- 59	; 50- 59
 59)   8759 04 03 13 14 		 DB 8,7,6,5,4,3,19,20,40+64,40             ; 50- 59	; 50- 59
 59)   875D 68 28       		 DB 8,7,6,5,4,3,19,20,40+64,40             ; 50- 59	; 50- 59
 60)   875F 00 1B 00 6F 		 DB 0,27,0,47+64,0,46+64,56+64,58+64,44+64,12+64   ; 60- 69	; 60- 69
 60)   8763 00 6E 78 7A 		 DB 0,27,0,47+64,0,46+64,56+64,58+64,44+64,12+64   ; 60- 69	; 60- 69
 60)   8767 6C 4C       		 DB 0,27,0,47+64,0,46+64,56+64,58+64,44+64,12+64   ; 60- 69	; 60- 69
 61)   8769 6B 6A 69 64 		 DB 43+64,42+64,41+64,36+64,51+64,62+64,39+64,53+64,52+64,38+64 ; 70- 79	; 70- 79
 61)   876D 73 7E 67 75 		 DB 43+64,42+64,41+64,36+64,51+64,62+64,39+64,53+64,52+64,38+64 ; 70- 79	; 70- 79
 61)   8771 74 66       		 DB 43+64,42+64,41+64,36+64,51+64,62+64,39+64,53+64,52+64,38+64 ; 70- 79	; 70- 79
 62)   8773 5A 4E 4B 6D 		 DB 26+64,14+64,11+64,45+64,10+64,35+64,57+64,13+64,59+64,37+64 ; 80- 89	; 80- 89
 62)   8777 4A 63 79 4D 		 DB 26+64,14+64,11+64,45+64,10+64,35+64,57+64,13+64,59+64,37+64 ; 80- 89	; 80- 89
 62)   877B 7B 65       		 DB 26+64,14+64,11+64,45+64,10+64,35+64,57+64,13+64,59+64,37+64 ; 80- 89	; 80- 89
 63)   877D 7C 56 5C 57 		 DB 60+64,22+64,92,23+64,0,0,0,46,56,58    ; 90- 99	; 90- 99
 63)   8781 00 00 00 2E 		 DB 60+64,22+64,92,23+64,0,0,0,46,56,58    ; 90- 99	; 90- 99
 63)   8785 38 3A       		 DB 60+64,22+64,92,23+64,0,0,0,46,56,58    ; 90- 99	; 90- 99
 64)   8787 2C 0C 2B 2A 		 DB 44,12,43,42,41,36,51,62,39,53    ;100-109  	;100-109
 64)   878B 29 24 33 3E 		 DB 44,12,43,42,41,36,51,62,39,53    ;100-109  	;100-109
 64)   878F 27 35       		 DB 44,12,43,42,41,36,51,62,39,53    ;100-109  	;100-109
 65)   8791 34 26 1A 0E 		 DB 52,38,26,14,11,45,10,35,57,13           ;110-119  	;110-119
 65)   8795 0B 2D 0A 23 		 DB 52,38,26,14,11,45,10,35,57,13           ;110-119  	;110-119
 65)   8799 39 0D       		 DB 52,38,26,14,11,45,10,35,57,13           ;110-119  	;110-119
 66)   879B 3B 25 3C 00 		 DB 59,37,60,0,0,0,0,0,0,0       ;120-129	;120-129
 66)   879F 00 00 00 00 		 DB 59,37,60,0,0,0,0,0,0,0       ;120-129	;120-129
 66)   87A3 00 00       		 DB 59,37,60,0,0,0,0,0,0,0       ;120-129	;120-129
 67)   87A5 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;130-  9	;130-  9
 67)   87A9 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;130-  9	;130-  9
 67)   87AD 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;130-  9	;130-  9
 68)   87AF 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;140-  9	;140-  9
 68)   87B3 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;140-  9	;140-  9
 68)   87B7 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;140-  9	;140-  9
 69)   87B9 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;150-  9	;150-  9
 69)   87BD 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;150-  9	;150-  9
 69)   87C1 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;150-  9	;150-  9
 70)   87C3 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;160-  9	;160-  9
 70)   87C7 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;160-  9	;160-  9
 70)   87CB 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;160-  9	;160-  9
 71)   87CD 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;170-  9	;170-  9
 71)   87D1 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;170-  9	;170-  9
 71)   87D5 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;170-  9	;170-  9
 72)   87D7 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;180-  9	;180-  9
 72)   87DB 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;180-  9	;180-  9
 72)   87DF 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;180-  9	;180-  9
 73)   87E1 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;190-  9	;190-  9
 73)   87E5 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;190-  9	;190-  9
 73)   87E9 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;190-  9	;190-  9
 74)   87EB 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;200-  9	;200-  9
 74)   87EF 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;200-  9	;200-  9
 74)   87F3 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;200-  9	;200-  9
 75)   87F5 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;210-  9	;210-  9
 75)   87F9 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;210-  9	;210-  9
 75)   87FD 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;210-  9	;210-  9
 76)   87FF 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;220-  9	;220-  9
 76)   8803 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;220-  9	;220-  9
 76)   8807 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;220-  9	;220-  9
 77)   8809 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;230-  9	;230-  9
 77)   880D 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;230-  9	;230-  9
 77)   8811 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;230-  9	;230-  9
 78)   8813 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;240-  9	;240-  9
 78)   8817 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;240-  9	;240-  9
 78)   881B 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;240-  9	;240-  9
 79)   881D 00 00 00 00 		               DB 0,0,0,0,0,0           ;250-  5	;250-  5
 79)   8821 00 00       		               DB 0,0,0,0,0,0           ;250-  5	;250-  5
 19)   8823 21 58 00    		STNEWD: LD HL, $58        ;DEVTAB	;DEVTAB
 20)   8826 11 33 88    		 LD DE, DEVTAB        ; NEW TABLE SET	; NEW TABLE SET
 21)   8829 73          		 LD (HL), E	;
 22)   882A 23          		 INC HL	;
 23)   882B 72          		 LD (HL), D	;
 24)   882C 21 13 00    		 LD HL, DEFSTOR	;
 25)   882F 3E 0C       		 LD A, 12        ;DEFAULT STORE DEVICE IS 12 NB STORAGE MODULE	;DEFAULT STORE DEVICE IS 12 NB STORAGE MODULE
 26)   8831 77          		 LD (HL), A	;
 27)   8832 C9          		 RET	;
 31)   8833 11          		DEVTAB: DEFB 17        ;number of entries ;number of entries	;number of entries ;number of entries
 32)   8834 83 E6       		 DEFW TVIO        ;	;
 33)   8836 EE ED       		 DEFW TP1IO        ;	;
 34)   8838 F4 ED       		 DEFW TP2IO        ;	;
 35)   883A 50 E6       		 DEFW LIIO        ;	;
 36)   883C 75 E6       		 DEFW TLIO        ;	;
 37)   883E 36 A1       		 DEFW NKBWIO        ;	;
 38)   8840 1A A1       		 DEFW NKBIIO        ;	;
 39)   8842 1F E4       		 DEFW UPIO        ;	;
 40)   8844 3C E4       		 DEFW LPIO        ;	;
 41)   8846 2F E4       		 DEFW JGIO        ;	;
 42)   8848 19 E4       		 DEFW DUMMY        ;	;
 43)   884A 96 A5       		 DEFW GRAPH        ;  	;
 44)   884C BA 88       		               DEFW SG2IO        ;MY STORAGE DEVICE 13 BDISCIO BINARY SERIAL	;MY STORAGE DEVICE 13 BDISCIO BINARY SERIAL
 45)   884E BA 88       		               DEFW SG2IO                                                      ;MY STORAGE DEVICE 14 TDISCIO SAME AS 13 FOR ME	;MY STORAGE DEVICE 14 TDISCIO SAME AS 13 FOR ME
 46)   8850 BA 88       		               DEFW SG2IO                                                      ;MY STORAGE DEVICE 15 RDISCIO RANDOM ACCESS	;MY STORAGE DEVICE 15 RDISCIO RANDOM ACCESS
 47)   8852 BA 88       		               DEFW SG2IO                                                      ;MY STORAGE DEVICE 16 SDISCIO DIR COMMANDS	;MY STORAGE DEVICE 16 SDISCIO DIR COMMANDS
 48)   8854 56 88       		               DEFW RS2IO        ;MY SERIAL DEVICE 17	;MY SERIAL DEVICE 17
 15)   8856 	            		 RBR EQU DEVSER+0       ;	;
 16)   8856 	            		 MCR EQU DEVSER+04	;
 17)   8856 	            		 LSR EQU DEVSER+05	;
 33)   8856 04          		 DEFB 4	;
 34)   8857 05          		 DEFB RS2OIN-$        ;OPEN IN	;OPEN IN
 35)   8858 04          		 DEFB RS2OOT-$        ;OPEN OUT	;OPEN OUT
 36)   8859 10          		 DEFB RS2INP-$        ;INPUT BYTE	;INPUT BYTE
 37)   885A 2A          		 DEFB RS2OTP-$        ;OUTPUT BYTE	;OUTPUT BYTE
 38)   885B 0A          		 DEFB RS2CLS-$        ;CLOSE	;CLOSE
 50)   885C C5          		RS2OOT: PUSH BC        ;OPENOUT	;OPENOUT
 51)   885D 01 01 00    		 LD BC, 1        ;NO OF BYTES REQUIRED	;NO OF BYTES REQUIRED
 52)   8860 EF 37       		 DEFW WMKBUFF        ;	;
 53)   8862 C1          		 POP BC         ;	;
 54)   8863 D8          		 RET C         ;	;
 56)   8864 72          		 LD (HL), D        ;PORT NUMBER	;PORT NUMBER
 57)   8865 AF          		RS2CLS: XOR A         ; CLOSE STREAM	; CLOSE STREAM
 58)   8866 47          		 LD B A         ;	;
 59)   8867 4F          		 LD C A         ;	;
 60)   8868 C9          		 RET         ;	;
 70)   8869 F3          		RS2INP: DI         ;	;
 71)   886A 21 24 00    		 LD HL ENREGMAP        ;	;
 72)   886D CB 86       		 RES VIDEO, (HL)       ; NO VIDEO	; NO VIDEO
 73)   886F 7E          		 LD A, (HL)	;
 74)   8870 D3 07       		 OUT (ENREG) A        ;	;
 75)   8872 3E 01       		 LD A, 1	;
 76)   8874 D3 24       		 OUT (MCR), A	;
 77)   8876 CD 94 88    		 CALL MWAIT        ;	;
 78)   8879 AF          		 XOR A         ;NOT ready to receive SIGNAL DSR 0	;NOT ready to receive SIGNAL DSR 0
 79)   887A D3 24       		 OUT (MCR), A	;
 80)   887C DB 20       		 IN A, (RBR)        ;GET THE CHAR	;GET THE CHAR
 81)   887E CD 48 E5    		 CALL STOPTV        ;	;
 82)   8881 FB          		 EI         ;	;
 83)   8882 B7          		 OR A         ;	;
 84)   8883 C9          		 RET	;
 87)   8884 4F          		RS2OTP: LD C, A        ;	;
 93)   8885 F3          		 DI         ;	;
 94)   8886 CD 1C E2    		 CALL $E21C        ;NOVID ;	;NOVID ;
 95)   8889 79          		 LD A, C	;
 96)   888A CD 07 80    		 CALL $8007        ;RSTX   ;SEND CHAR IN A	;RSTX   ;SEND CHAR IN A
 97)   888D CD 48 E5    		 CALL STOPTV        ;	;
 98)   8890 FB          		 EI         ;	;
 99)   8891 2B          		 DEC HL         ;	;
100)   8892 B7          		 OR A         ;	;
101)   8893 C9          		 RET         ;	;
104)   8894 21 00 64    		MWAIT: LD HL 25600	;
106)   8897 DB 25       		MWAIT2: IN A, (LSR)	;
107)   8899 1F          		 RRA         ;check d0 ('DATA')	;check d0 ('DATA')
108)   889A D8          		 RET C	;
109)   889B 10 FA       		 DJNZ MWAIT2	;
110)   889D DB 25       		 IN A, (LSR)	;
111)   889F 1F          		 RRA         ;check d0 ('DATA')	;check d0 ('DATA')
112)   88A0 D8          		 RET C	;
113)   88A1 2D          		 DEC L	;
114)   88A2 DB 25       		 IN A, (LSR)	;
115)   88A4 1F          		 RRA         ;check d0 ('DATA')	;check d0 ('DATA')
116)   88A5 D8          		 RET C	;
117)   88A6 C2 97 88    		 JP NZ MWAIT2	;
118)   88A9 DB 25       		 IN A, (LSR)	;
119)   88AB 1F          		 RRA         ;check d0 ('DATA')	;check d0 ('DATA')
120)   88AC D8          		 RET C	;
121)   88AD 25          		 DEC H	;
122)   88AE DB 25       		 IN A, (LSR)	;
123)   88B0 1F          		 RRA	;
124)   88B1 D8          		 RET C	;
125)   88B2 C2 97 88    		 JP NZ, MWAIT2	;
126)   88B5 F1          		 POP AF         ;POP LAST RETURN ADDRESS FROM STACK	;POP LAST RETURN ADDRESS FROM STACK
127)   88B6 3E C8       		 LD A, 200        ;TIMEOUT ERROR	;TIMEOUT ERROR
128)   88B8 37          		 SCF	;
129)   88B9 C9          		 RET         ;RETURN TO BASIC WITH ERROR TIMEOUT	;RETURN TO BASIC WITH ERROR TIMEOUT
 24)   88BA 04          		 DEFB 4                                                          ;COUNT OF DISPLACEMENTS-1	;COUNT OF DISPLACEMENTS-1
 25)   88BB 0B          		 DEFB SG2OIN-$        ;OPEN IN	;OPEN IN
 26)   88BC 0E          		 DEFB SG2OOT-$        ;OPEN OUT	;OPEN OUT
 27)   88BD 72          		 DEFB SG2INP-$        ;INPUT BYTE	;INPUT BYTE
 28)   88BE D9          		 DEFB SG2OTP-$        ;OUTPUT BYTE	;OUTPUT BYTE
 29)   88BF 55          		 DEFB SG2CLS-$        ;CLOSE	;CLOSE
 32)   88C0 11 83 00    		CPYFNAME:      LD DE,STRGBUFF	;
 33)   88C3 ED B0       		               LDIR	;
 34)   88C5 C9          		               RET	;
 61)   88C6 3E 00       		SG2OIN: LD A,0        ;OPENIN	;OPENIN
 62)   88C8 18 02       		               JR SG2OPN	;
 65)   88CA 3E 01       		SG2OOT: LD A,1	;
 66)   88CC E5          		SG2OPN:        PUSH HL	;
 67)   88CD C5          		               PUSH BC        ;OPENOUT	;OPENOUT
 68)   88CE F5          		               PUSH AF	;
 69)   88CF 01 0F 02    		 LD BC, SPCNEED        ;NO OF BYTES REQUIRED	;NO OF BYTES REQUIRED
 70)   88D2 EF 37       		 DEFW WMKBUFF        ;	;
 71)   88D4 D1          		               POP DE	;
 72)   88D5 C1          		 POP BC                                 	;
 73)   88D6 38 39       		 JR C, ERREXIT                	;
 74)   88D8 E5          		               PUSH HL                                                         ;SAVE START OF STRUCT	;SAVE START OF STRUCT
 75)   88D9 7A          		               LD A,D	;
 77)   88DA 77          		 LD (HL), A        ;OPEN TYPE	;OPEN TYPE
 78)   88DB 23          		               INC HL	;
 79)   88DC 36 00       		               LD (HL),0                                                       ;FILE POS ZERO	;FILE POS ZERO
 80)   88DE 23          		               INC HL	;
 81)   88DF 36 00       		               LD (HL),0	;
 82)   88E1 23          		               INC HL	;
 83)   88E2 36 00       		               LD (HL),0                                                     ;BUF POS 0 	;BUF POS 0
 84)   88E4 23          		               INC HL	;
 85)   88E5 36 00       		               LD (HL),0	;
 86)   88E7 23          		               INC HL	;
 87)   88E8 E5          		               PUSH HL	;
 88)   88E9 C5          		               PUSH BC	;
 89)   88EA 01 14 00    		               LD BC,BYTREAD-FNAMEIX                                           ;SKIP FILENAME	;SKIP FILENAME
 90)   88ED 09          		               ADD HL,BC	;
 91)   88EE C1          		               POP BC	;
 92)   88EF 36 00       		               LD (HL),0                                                       ;BYTES READ TO 0 	;BYTES READ TO 0
 93)   88F1 23          		               INC HL	;
 94)   88F2 36 00       		               LD (HL),0                                                     	;
 95)   88F4 D1          		               POP DE                                                          ;DE AT FNAMEIX       	;DE AT FNAMEIX
 96)   88F5 DD E1       		               POP IX                                                          ;IX THE START OF STRUCT                	;IX THE START OF STRUCT
 97)   88F7 E1          		               POP HL                                                          ;HL THE FILE NAME	;HL THE FILE NAME
 98)   88F8 D5          		               PUSH DE                                                         ;SAVE THE START OF FILENAME        	;SAVE THE START OF FILENAME
 99)   88F9 ED B0       		               LDIR                                                            ;TRANSFER THE FNAME TO OUR STRUCT        	;TRANSFER THE FNAME TO OUR STRUCT
100)   88FB AF          		               XOR A	;
101)   88FC 12          		               LD (DE),A                                                       ;NULL TERMINATED STRING	;NULL TERMINATED STRING
102)   88FD E1          		               POP HL                                                          ;START OF FNAME	;START OF FNAME
103)   88FE DD 7E 00    		               LD A,(IX)	;
104)   8901 FE 00       		               CP 0	;
105)   8903 20 0A       		               JR NZ,SG2EX                                                      ;IF FILE OPEN OUT EXIT	;IF FILE OPEN OUT EXIT
107)   8905 01 00 00    		               LD BC,0	;
108)   8908 13          		               INC DE	;
109)   8909 CD B2 8D    		               CALL STRG_LOADFILE	;
110)   890C 3E 96       		               LD A,ERROPF                                                     ;ERROR NO IF FILE ERROR	;ERROR NO IF FILE ERROR
111)   890E D8          		               RET C	;
112)   890F AF          		SG2EX:         XOR A	;
113)   8910 C9          		               RET	;
116)   8911 E1          		ERREXIT:       POP HL	;
117)   8912 37          		               SCF	;
118)   8913 C9          		               RET	;
120)   8914 7E          		SG2CLS: LD A,(HL)	;
121)   8915 FE 01       		               CP 1                                                            ;CHECK IF OPENOUT	;CHECK IF OPENOUT
122)   8917 20 12       		               JR NZ,SCL_EX	;
129)   8919 DD E5       		               PUSH IX	;
130)   891B E5          		               PUSH HL	;
131)   891C DD E1       		               POP IX	;
132)   891E 01 05 00    		               LD BC,FNAMEIX	;
133)   8921 09          		               ADD HL,BC	;
134)   8922 DD 4E 03    		               LD C,(IX+BUFFOFS)	;
135)   8925 DD 46 04    		               LD B,(IX+BUFFOFS+1)	;
136)   8928 CD C6 89    		               CALL SO_STFILE	;
137)   892B AF          		SCL_EX:        XOR A         ; CLOSE STREAM	; CLOSE STREAM
138)   892C 47          		 LD B A         ;	;
139)   892D 4F          		 LD C A         ;	;
140)   892E C9          		 RET         ;	;
147)   892F DD E5       		SG2INP:        PUSH IX	;
148)   8931 CD 37 89    		               CALL SG2INP2	;
149)   8934 DD E1       		               POP IX	;
150)   8936 C9          		               RET	;
152)   8937 7E          		SG2INP2:       LD A,(HL)	;
153)   8938 FE 00       		               CP 0	;
154)   893A 3E 9B       		               LD A,ERRTRA	;
155)   893C 37          		               SCF	;
156)   893D C0          		               RET NZ                                                          ;IF NOT INPUT THEN ERROR                	;IF NOT INPUT THEN ERROR
157)   893E CD EE 89    		               CALL SGCHKEOF                                                   ;TEST EOF	;TEST EOF
158)   8941 23          		               INC HL                	;
159)   8942 E5          		               PUSH HL                                                         ;SAVE OFFSET POS	;SAVE OFFSET POS
160)   8943 4E          		               LD C,(HL)	;
161)   8944 23          		               INC HL	;
162)   8945 46          		               LD B,(HL)                                                       ;BC THE FILE OFFS	;BC THE FILE OFFS
163)   8946 23          		               INC HL	;
164)   8947 5E          		               LD E,(HL)	;
165)   8948 23          		               INC HL	;
166)   8949 56          		               LD D,(HL)                                                       ;DE THE BUFFER OFFS	;DE THE BUFFER OFFS
167)   894A 23          		               INC HL                                                          ;NOW ON FILENAME OFFS	;NOW ON FILENAME OFFS
169)   894B 3E 97       		               LD A,ERREOF	;
170)   894D DA 11 89    		               JP C,ERREXIT                                                    ;ON C EOF REACHED                	;ON C EOF REACHED
171)   8950 28 0E       		               JR Z,RDFMFILE                                                   ;ON Z=EOB READ FROM FILE	;ON Z=EOB READ FROM FILE
180)   8952 01 16 00    		RDFMBUFF:      LD BC,FBUFFIX-FNAMEIX                                           ;500 BYTES BUFFER OFFSET	;500 BYTES BUFFER OFFSET
181)   8955 09          		               ADD HL,BC                                                       ;HL ON BUFFER        	;HL ON BUFFER
182)   8956 19          		               ADD HL,DE                                                       ;HL ON NXT BYTE INSIDE BUFFER	;HL ON NXT BYTE INSIDE BUFFER
184)   8957 7E          		               LD A,(HL)                                                       ;READ BYTE TO A                	;READ BYTE TO A
185)   8958 E1          		               POP HL                                                          ;HL AT THE FILE OFFSET	;HL AT THE FILE OFFSET
186)   8959 23          		               INC HL	;
187)   895A 23          		               INC HL                                                          ;AT THE BUFFER OFFSET	;AT THE BUFFER OFFSET
188)   895B 13          		               INC DE                                                          ;POINT TO NEXT BYTE	;POINT TO NEXT BYTE
189)   895C 73          		               LD (HL),E                                                       ;SAVE 	;SAVE
190)   895D 23          		               INC HL	;
191)   895E 72          		               LD (HL),D	;
192)   895F C9          		               RET	;
193)   8960 E5          		RDFMFILE:      PUSH HL                                                         ;HL FILENAME        	;HL FILENAME
194)   8961 D1          		               POP DE                                                          ;DE FILENAME	;DE FILENAME
195)   8962 EB          		               EX DE,HL	;
196)   8963 C5          		               PUSH BC	;
197)   8964 01 16 00    		               LD BC,FBUFFIX-FNAMEIX                                           ;500 BYTES BUFFER OFFSET	;500 BYTES BUFFER OFFSET
198)   8967 09          		               ADD HL,BC	;
199)   8968 C1          		               POP BC	;
200)   8969 EB          		               EX DE,HL                                                        ;HL TO FNAME OFFSET, DE TO BUFFER OFFSET	;HL TO FNAME OFFSET, DE TO BUFFER OFFSET
203)   896A D5          		               PUSH DE                                                         ;BC THE FILE OFFSET TO READ FROM	;BC THE FILE OFFSET TO READ FROM
206)   896B CD 32 8E    		               CALL STRG_READBUFR                                              ;READ 500 BYTES FROM FILE TO BUFFER BC= BYTES READ	;READ 500 BYTES FROM FILE TO BUFFER BC= BYTES READ
207)   896E D1          		               POP DE                                                          ;THE BUFFER TO READ THE BYTE	;THE BUFFER TO READ THE BYTE
208)   896F 3E 98       		               LD A,ERRRDF                                                     ;ERROR CODE CAN'T READ FROM FILE	;ERROR CODE CAN'T READ FROM FILE
209)   8971 DA 11 89    		               JP C,ERREXIT	;
211)   8974 E1          		               POP HL                                                          ;GET FILE OFFSET POS ADDR	;GET FILE OFFSET POS ADDR
212)   8975 D5          		               PUSH DE                                                         ;SAVE START OF BUFFER	;SAVE START OF BUFFER
213)   8976 EB          		               EX DE,HL                                                        ;DE THE OFFSET ADDR	;DE THE OFFSET ADDR
214)   8977 1A          		               LD A,(DE)                                                       ;OFFSET OF FILE 	;OFFSET OF FILE
215)   8978 6F          		               LD L,A	;
216)   8979 13          		               INC DE	;
217)   897A 1A          		               LD A,(DE)	;
218)   897B 67          		               LD H,A	;
219)   897C 09          		               ADD HL,BC                                                       ;ADD NEW READ BYTES TO PREVIOUS OFFSET	;ADD NEW READ BYTES TO PREVIOUS OFFSET
220)   897D EB          		               EX DE,HL                                                        ;HL THE OFFSET ADDR, DE THE NEW OFFSET	;HL THE OFFSET ADDR, DE THE NEW OFFSET
221)   897E 72          		               LD (HL),D                                                       ;SAVE BACK	;SAVE BACK
222)   897F 2B          		               DEC HL	;
223)   8980 73          		               LD (HL),E	;
224)   8981 23          		               INC HL	;
225)   8982 23          		               INC HL                                                          ;TO THE BUF OFFSET 	;TO THE BUF OFFSET
226)   8983 3E 01       		               LD A,1	;
227)   8985 77          		               LD (HL),A                                                       ;SET THE BUF OFFS TO 1	;SET THE BUF OFFS TO 1
228)   8986 23          		               INC HL	;
229)   8987 AF          		               XOR A	;
230)   8988 77          		               LD (HL),A     	;
231)   8989 23          		               INC HL                                                  	;
234)   898A C5          		               PUSH BC	;
235)   898B 01 14 00    		               LD BC,20	;
236)   898E 09          		               ADD HL,BC                                                       ;NOW AT BYTREAD	;NOW AT BYTREAD
237)   898F C1          		               POP BC	;
238)   8990 71          		               LD (HL),C                                                       ;SAVE BYTES READ FROM FILE	;SAVE BYTES READ FROM FILE
239)   8991 23          		               INC HL	;
240)   8992 70          		               LD (HL),B	;
241)   8993 D1          		               POP DE                                                          ;GET START OF BUFFER	;GET START OF BUFFER
242)   8994 AF          		               XOR A                                                           ;CLEAR CARRY FLAG	;CLEAR CARRY FLAG
243)   8995 1A          		               LD A,(DE)                                                       ;READ THE 1ST BYTE TO A	;READ THE 1ST BYTE TO A
244)   8996 C9          		               RET	;
253)   8997 DD E5       		SG2OTP:        PUSH IX	;
254)   8999 E5          		               PUSH HL	;
255)   899A DD E1       		               POP IX	;
256)   899C 57          		               LD D,A                                                          ;SAVE BYTE TO BE WRITTEN	;SAVE BYTE TO BE WRITTEN
257)   899D 7E          		               LD A,(HL)	;
258)   899E FE 00       		               CP 0	;
259)   89A0 3E 9B       		               LD A,ERRTRA	;
260)   89A2 37          		               SCF	;
261)   89A3 28 44       		               JR Z,SO_EX	;
262)   89A5 7A          		               LD A,D                                                          ;RESTORE A BYTE TO WRITE	;RESTORE A BYTE TO WRITE
263)   89A6 01 05 00    		               LD BC,FNAMEIX	;
264)   89A9 09          		               ADD HL,BC                	;
265)   89AA DD E5       		               PUSH IX	;
266)   89AC D1          		               POP DE	;
267)   89AD EB          		               EX DE,HL	;
268)   89AE 01 1B 00    		               LD BC,FBUFFIX	;
269)   89B1 09          		               ADD HL,BC                	;
270)   89B2 DD 4E 03    		               LD C,(IX+BUFFOFS)	;
271)   89B5 DD 46 04    		               LD B,(IX+BUFFOFS+1)	;
272)   89B8 09          		               ADD HL,BC	;
273)   89B9 EB          		               EX DE,HL                                	;
274)   89BA 12          		               LD (DE),A	;
276)   89BB 79          		               LD A,C	;
277)   89BC FE F3       		               CP $F3                                                          ;499 WE START AT 0  	;499 WE START AT 0
278)   89BE 20 22       		               JR NZ,SO_BUFFNXT	;
279)   89C0 78          		               LD A,B	;
280)   89C1 FE 01       		               CP $01	;
281)   89C3 20 1D       		               JR NZ,SO_BUFFNXT	;
282)   89C5 03          		               INC BC                                                          ;500	;500
290)   89C6 EB          		 SO_STFILE:    EX DE,HL	;
291)   89C7 DD E5       		               PUSH IX	;
292)   89C9 E1          		               POP HL	;
293)   89CA C5          		               PUSH BC	;
294)   89CB 01 1B 00    		               LD BC,FBUFFIX	;
295)   89CE 09          		               ADD HL,BC	;
296)   89CF C1          		               POP BC	;
297)   89D0 EB          		               EX DE,HL	;
300)   89D1 CD 8C 8F    		               CALL STRG_WRITEBUFR                             ;WRITES 500 BYTES FROM BUFFER DE TO THE END OF THE FILE	;WRITES 500 BYTES FROM BUFFER DE TO THE END OF THE FILE
301)   89D4 3E 96       		               LD A,ERROPF	;
302)   89D6 38 06       		               JR C,SO_ERROUT	;
303)   89D8 3E 99       		               LD A,ERRWTF	;
304)   89DA 37          		               SCF	;
305)   89DB 20 01       		               JR NZ,SO_ERROUT	;
306)   89DD AF          		               XOR A	;
307)   89DE 01 00 00    		SO_ERROUT:     LD BC,0                                         ;ZERO BUFFER OFFSET	;ZERO BUFFER OFFSET
308)   89E1 16          		               DB $16                                          ;SKIP INC BC LD D,NN	;SKIP INC BC LD D,NN
309)   89E2 03          		SO_BUFFNXT:    INC BC                                          	;
310)   89E3 DD 71 03    		               LD (IX+BUFFOFS),C	;
311)   89E6 DD 70 04    		               LD (IX+BUFFOFS+1),B	;
312)   89E9 DD E1       		SO_EX          POP IX	;
313)   89EB FE 00       		               CP 0	;
314)   89ED C9          		               RET	;
321)   89EE DD E5       		SGCHKEOF:      PUSH IX	;
322)   89F0 D5          		               PUSH DE	;
323)   89F1 C5          		               PUSH BC	;
325)   89F2 E5          		               PUSH HL	;
326)   89F3 DD E1       		               POP IX	;
327)   89F5 DD 5E 03    		               LD E,(IX+BUFFOFS)	;
328)   89F8 DD 56 04    		               LD D,(IX+BUFFOFS+1)	;
329)   89FB DD 4E 19    		               LD C,(IX+BYTREAD)	;
330)   89FE DD 46 1A    		               LD B,(IX+BYTREAD+1)	;
332)   8A01 78          		               LD A,B	;
333)   8A02 B1          		               OR C	;
334)   8A03 3E 03       		               LD A,3	;
335)   8A05 28 1C       		               JR Z, SGEFEXIT                                                  ;Z=EOB	;Z=EOB
336)   8A07 EB          		               EX DE,HL                                                        ;SAVE HL SET HL=DE	;SAVE HL SET HL=DE
337)   8A08 B7          		               OR A	;
338)   8A09 ED 42       		               SBC HL,BC	;
339)   8A0B 7C          		               LD A,H	;
340)   8A0C B5          		               OR L	;
341)   8A0D EB          		               EX DE,HL                                                        ;RESTORE HL	;RESTORE HL
342)   8A0E 3E 01       		               LD A,1                                                          ;NO EOF NO EOB = NZ	;NO EOF NO EOB = NZ
343)   8A10 20 11       		               JR NZ,SGEFEXIT	;
345)   8A12 78          		               LD A,B	;
346)   8A13 D6 01       		               SUB $01	;
347)   8A15 20 09       		               JR NZ, SGDOEOF	;
348)   8A17 79          		               LD A,C	;
349)   8A18 D6 F4       		               SUB $F4	;
350)   8A1A 20 04       		               JR NZ, SGDOEOF	;
351)   8A1C 3E 02       		               LD A,2                                                          ;Z MEANS EOB END OF BUFFER                	;Z MEANS EOB END OF BUFFER
352)   8A1E 18 03       		               JR  SGEFEXIT	;
354)   8A20 3E 97       		SGDOEOF:       LD A,ERREOF                                                           ;RETURN 0 ON EOF	;RETURN 0 ON EOF
355)   8A22 37          		               SCF         	;
356)   8A23 C1          		SGEFEXIT:      POP BC	;
357)   8A24 D1          		               POP DE	;
358)   8A25 DD E1       		               POP IX	;
359)   8A27 C9          		               RET	;
362)   8A28 E5          		PRNHL:         PUSH HL	;
363)   8A29 C5          		               PUSH BC	;
364)   8A2A D5          		               PUSH DE	;
365)   8A2B CD 96 94    		 CALL B2D16	;
366)   8A2E 21 CC 00    		 LD HL,B2DBUF	;
367)   8A31 CD 2A 95    		 CALL SKIPSPC	;
368)   8A34 CD F0 8A    		 CALL RS_TXT	;
369)   8A37 D1          		               POP DE	;
370)   8A38 C1          		               POP BC	;
371)   8A39 E1          		               POP HL	;
372)   8A3A C9          		               RET	;
373)   8A3B E5          		PRINTDBG:      PUSH HL	;
374)   8A3C C5          		               PUSH BC	;
375)   8A3D D5          		               PUSH DE	;
376)   8A3E F5          		               PUSH AF	;
378)   8A3F CD 28 8A    		               CALL PRNHL	;
379)   8A42 D5          		               PUSH DE	;
380)   8A43 C5          		               PUSH BC	;
381)   8A44 CD 26 80    		 CALL OS_PRINTMSG	;
382)   8A47 20 48 4C    		 DEFM " HL"	;
383)   8A4A 0A 0D 00    		 DB 10,13,0	;
384)   8A4D C1          		               POP BC	;
385)   8A4E D1          		               POP DE	;
387)   8A4F D5          		               PUSH DE	;
388)   8A50 E1          		               POP HL	;
389)   8A51 CD 28 8A    		               CALL PRNHL	;
390)   8A54 D5          		               PUSH DE	;
391)   8A55 C5          		               PUSH BC	;
392)   8A56 CD 26 80    		 CALL OS_PRINTMSG	;
393)   8A59 20 44 45    		 DEFM " DE"	;
394)   8A5C 0A 0D 00    		 DB 10,13,0	;
395)   8A5F C1          		               POP BC	;
396)   8A60 D1          		               POP DE	;
398)   8A61 C5          		               PUSH BC	;
399)   8A62 E1          		               POP HL	;
400)   8A63 CD 28 8A    		               CALL PRNHL	;
401)   8A66 D5          		               PUSH DE	;
402)   8A67 C5          		               PUSH BC	;
403)   8A68 CD 26 80    		 CALL OS_PRINTMSG	;
404)   8A6B 20 42 43    		 DEFM " BC"	;
405)   8A6E 0A 0D 00    		 DB 10,13,0	;
406)   8A71 C1          		               POP BC	;
407)   8A72 D1          		               POP DE	;
410)   8A73 F1          		               POP AF	;
411)   8A74 D1          		               POP DE	;
412)   8A75 C1          		               POP BC	;
413)   8A76 E1          		               POP HL	;
414)   8A77 C9          		               RET	;
418)   8A78 F5          		CLRBUFR:       PUSH AF	;
419)   8A79 E5          		               PUSH HL	;
420)   8A7A D5          		               PUSH DE	;
421)   8A7B C5          		               PUSH BC	;
422)   8A7C AF          		               XOR A	;
423)   8A7D 12          		               LD (DE),A	;
424)   8A7E D5          		               PUSH DE	;
425)   8A7F E1          		               POP HL	;
426)   8A80 13          		               INC DE	;
427)   8A81 01 F3 01    		               LD BC,499	;
428)   8A84 ED B0       		               LDIR        	;
429)   8A86 C1          		               POP BC	;
430)   8A87 D1          		               POP DE	;
431)   8A88 E1          		               POP HL	;
432)   8A89 F1          		               POP AF	;
433)   8A8A C9          		               RET	;
438)   8A8B 04          		 DEFB 4                                                          ;COUNT OF DISPLACEMENTS-1	;COUNT OF DISPLACEMENTS-1
439)   8A8C 3A          		 DEFB SG2OIN-$        ;OPEN IN	;OPEN IN
440)   8A8D 3D          		 DEFB SG2OOT-$        ;OPEN OUT	;OPEN OUT
441)   8A8E A1          		 DEFB SG2INP-$        ;INPUT BYTE	;INPUT BYTE
442)   8A8F 08          		 DEFB SG2OTP-$        ;OUTPUT BYTE	;OUTPUT BYTE
443)   8A90 84          		 DEFB SG2CLS-$        ;CLOSE	;CLOSE
 10)   8A91 21 B5 00    		INITMMU:       LD HL,BANKS	;
 11)   8A94 06 08       		               LD B,8	;
 12)   8A96 AF          		               XOR A	;
 13)   8A97 77          		INM_AGN:       LD (HL),A	;
 14)   8A98 3C          		               INC A	;
 15)   8A99 23          		 INC HL	;
 16)   8A9A 10 FB       		               DJNZ INM_AGN	;
 17)   8A9C C9          		               RET                	;
 23)   8A9D 4F          		PUTPGINBANK: LD C, A       ;SAVE PAGE	;SAVE PAGE
 24)   8A9E 78          		 LD A, B                                                         ;BANK IN A	;BANK IN A
 25)   8A9F FE 02       		 CP 2	;
 26)   8AA1 D8          		 RET C         ;BANK 0,1 WILL NEVER CHANGE	;BANK 0,1 WILL NEVER CHANGE
 27)   8AA2 FE 07       		 CP 7	;
 28)   8AA4 C8          		 RET Z         ;BANK 7 WILL NEVER CHANGE	;BANK 7 WILL NEVER CHANGE
 29)   8AA5 21 B5 00    		 LD HL, BANKS	;
 30)   8AA8 16 00       		 LD D, 0	;
 31)   8AAA 5F          		 LD E, A	;
 32)   8AAB 19          		 ADD HL, DE	;
 33)   8AAC 79          		 LD A, C        ;RESTORE PAGE	;RESTORE PAGE
 34)   8AAD 77          		 LD (HL), A        ;SAVE PG IN BANK B MEMORY	;SAVE PG IN BANK B MEMORY
 35)   8AAE 0E 00       		 LD C, DEVMMU	;
 36)   8AB0 58          		 LD E,B	;
 37)   8AB1 CB 20       		 SLA B         ;SHIFT BANK TO A15..A13 FROM A2..A0 WE USE THESE PINS ON THE CPLD FOR BANK INPUT	;SHIFT BANK TO A15..A13 FROM A2..A0 WE USE THESE PINS ON THE CPLD FOR BANK INPUT
 38)   8AB3 CB 20       		 SLA B	;
 39)   8AB5 CB 20       		 SLA B	;
 40)   8AB7 CB 20       		 SLA B	;
 41)   8AB9 CB 20       		 SLA B         ;SET TO A15,A14,A13	;SET TO A15,A14,A13
 42)   8ABB ED 79       		 OUT (C), A	;
 43)   8ABD 43          		 LD B,E	;
 44)   8ABE C9          		 RET	;
 49)   8ABF 21 B5 00    		GETPGINBANK:   LD HL,BANKS	;
 50)   8AC2 16 00       		               LD D,0	;
 51)   8AC4 58          		               LD E,B	;
 52)   8AC5 19          		               ADD HL,DE	;
 53)   8AC6 7E          		               LD A,(HL)	;
 54)   8AC7 C9          		               RET	;
 17)   8AC8 	            		 RBR EQU DEVSER+0      ;RECEIVER BUFFER REGISTER (READ ONLY) (DLAB = 0)	;RECEIVER BUFFER REGISTER (READ ONLY) (DLAB = 0)
 18)   8AC8 	            		 THR EQU DEVSER+0      ;TRANSMITER HOLDING REGISTER (WRITE ONLY) (DLAB = 0)	;TRANSMITER HOLDING REGISTER (WRITE ONLY) (DLAB = 0)
 19)   8AC8 	            		 IER EQU DEVSER+1      ;INTERRUPT ENABLE REGISTER (DLAB = 0)	;INTERRUPT ENABLE REGISTER (DLAB = 0)
 24)   8AC8 	            		 IIR EQU DEVSER+2      ;INTERRUPT IDENT. REGISTER (READ ONLY)	;INTERRUPT IDENT. REGISTER (READ ONLY)
 29)   8AC8 	            		 FCR EQU DEVSER+2      ;FIFO CONTROL REGISTER (WRITE ONLY)	;FIFO CONTROL REGISTER (WRITE ONLY)
 37)   8AC8 	            		 LCR EQU DEVSER+3      ;LINE CONTROL REGISTER	;LINE CONTROL REGISTER
 45)   8AC8 	            		 MCR EQU DEVSER+4      ;MODEM CONTROL REGISTER	;MODEM CONTROL REGISTER
 46)   8AC8 	            		 LSR EQU DEVSER+5      ;LINE STATUS REGISTER	;LINE STATUS REGISTER
 55)   8AC8 	            		 MSR EQU DEVSER+6      ;MODEM STATUS REGISTER	;MODEM STATUS REGISTER
 56)   8AC8 	            		 SCR EQU DEVSER+7      ;SCRATCH REGISTER	;SCRATCH REGISTER
 57)   8AC8 	            		 DLL EQU DEVSER+0      ;DIVISOR LATCH (LEAST SIGNIFICANT BYTE) (DLAB = 1)	;DIVISOR LATCH (LEAST SIGNIFICANT BYTE) (DLAB = 1)
 58)   8AC8 	            		 DLM EQU DEVSER+1      ;DIVISOR LATCH (MOST SIGNIFICANT BYTE) (DLAB = 1)	;DIVISOR LATCH (MOST SIGNIFICANT BYTE) (DLAB = 1)
 64)   8AC8 F5          		RS_INI: PUSH AF	;
 65)   8AC9 3E 80       		 LD A, $80        ; Mask to set DLAB on	; Mask to set DLAB on
 66)   8ACB D3 23       		 OUT (LCR), A        ; Send to LINe Control Register	; Send to LINe Control Register
 75)   8ACD F1          		 POP AF	;
 76)   8ACE D3 20       		 OUT (DLL), A        ; Set LSB of divisor	; Set LSB of divisor
 77)   8AD0 3E 00       		 LD A, 00        ; This will be the MSB of the divisior	; This will be the MSB of the divisior
 78)   8AD2 D3 21       		 OUT (DLM), A        ; Send to the MSB register	; Send to the MSB register
 79)   8AD4 3E 03       		 LD A, $03        ; 8 bits, 1 stop, no parity (and clear DLAB)	; 8 bits, 1 stop, no parity (and clear DLAB)
 80)   8AD6 D3 23       		 OUT (LCR), A        ; Write new value to LCR	; Write new value to LCR
 82)   8AD8 3E 00       		 LD A, 0	;
 83)   8ADA D3 22       		 OUT (FCR), A        ;//was commented	;//was commented
 84)   8ADC 3E 00       		 LD A, $00        ; 5 A=0 Disable all INterrupts	; 5 A=0 Disable all INterrupts
 85)   8ADE D3 21       		 OUT (IER), A        ; Send to INterrupt Enable Register	; Send to INterrupt Enable Register
 86)   8AE0 C9          		 RET	;
 89)   8AE1 CD E7 8A    		RS_TX: CALL RSTXRD	;
 90)   8AE4 D3 20       		 OUT (THR), A	;
 92)   8AE6 C9          		 RET	;
 95)   8AE7 F5          		RSTXRD: PUSH AF	;
 96)   8AE8 DB 25       		RSTXLP: IN A, (LSR)        ; fetch the control register	; fetch the control register
 97)   8AEA CB 6F       		 BIT 5, A        ; bit will be set if UART is ready	; bit will be set if UART is ready
 98)   8AEC 28 FA       		 JR Z, RSTXLP	;
 99)   8AEE F1          		 POP AF	;
100)   8AEF C9          		 RET	;
104)   8AF0 7E          		RS_TXT: LD A, (HL)	;
105)   8AF1 23          		 INC HL	;
106)   8AF2 FE 00       		 CP 0	;
107)   8AF4 C8          		 RET Z	;
108)   8AF5 CD E1 8A    		 CALL RS_TX	;
109)   8AF8 18 F6       		 JR RS_TXT	;
113)   8AFA E5          		RS_MESG: PUSH HL	;
114)   8AFB C5          		 PUSH BC	;
115)   8AFC D5          		 PUSH DE	;
116)   8AFD F5          		 PUSH AF	;
117)   8AFE 21 09 00    		 LD HL,9 ;POINTS TO RET ADDRESS +10 FROM SP = OUR STRING	;POINTS TO RET ADDRESS +10 FROM SP = OUR STRING
118)   8B01 39          		 ADD HL,SP	;
119)   8B02 46          		 LD B,(HL)    	;
120)   8B03 2B          		 DEC HL	;
121)   8B04 4E          		 LD C,(HL)	;
122)   8B05 60          		 LD H,B	;
123)   8B06 69          		 LD L,C	;
124)   8B07 CD F0 8A    		 CALL RS_TXT	;
125)   8B0A F1          		 POP AF	;
126)   8B0B D1          		 POP DE	;
127)   8B0C 44          		 LD B,H  ;NEW RET ADDRESS	;NEW RET ADDRESS
128)   8B0D 4D          		 LD C,L	;
129)   8B0E 21 05 00    		 LD HL,5 ;POINTS TO RET ADDRESS +6 FROM SP	;POINTS TO RET ADDRESS +6 FROM SP
130)   8B11 39          		 ADD HL,SP  	;
131)   8B12 70          		 LD (HL),B	;
132)   8B13 2B          		 DEC HL	;
133)   8B14 71          		 LD (HL),C  	;
134)   8B15 C1          		 POP BC	;
135)   8B16 E1          		 POP HL	;
136)   8B17 C9          		 RET 	;
143)   8B18 ED 57       		RS_RX: LD A,I        ;SETS PV IF INTS ARE ENABLED	;SETS PV IF INTS ARE ENABLED
144)   8B1A F5          		 PUSH AF	;
145)   8B1B D1          		 POP DE	;
146)   8B1C F3          		 DI	;
147)   8B1D 3E 01       		 LD A, 1        ;ready to receive SIGNAL DSR 1	;ready to receive SIGNAL DSR 1
148)   8B1F D3 24       		 OUT (MCR), A	;
149)   8B21 CD 3F 8B    		 CALL RSRXRD	;
150)   8B24 AF          		RS_GTCH: XOR A        ;NOT ready to receive SIGNAL DSR 0	;NOT ready to receive SIGNAL DSR 0
151)   8B25 D3 24       		 OUT (MCR), A	;
153)   8B27 DB 20       		 IN A, (RBR)  	;
154)   8B29 D5          		 PUSH DE	;
155)   8B2A 57          		 LD D,A	;
156)   8B2B F1          		 POP AF	;
157)   8B2C 7A          		 LD A,D	;
158)   8B2D E0          		 RET PO  	;
159)   8B2E FB          		 EI	;
160)   8B2F C9          		 RET	;
162)   8B30 3E 01       		RS_RXNW: LD A, 1       ;ready to receive SIGNAL DSR 1	;ready to receive SIGNAL DSR 1
163)   8B32 D3 24       		 OUT (MCR), A	;
164)   8B34 DB 25       		 IN A, (LSR)        ; fetch the conrtol register	; fetch the conrtol register
165)   8B36 CB 47       		 BIT 0, A	;
166)   8B38 28 03       		 JR Z, RS_NOCHAR	;
167)   8B3A F3          		 DI	;
168)   8B3B 18 E7       		 JR RS_GTCH	;
169)   8B3D AF          		RS_NOCHAR: XOR A        ;RETURN ZERO	;RETURN ZERO
170)   8B3E C9          		 RET	;
178)   8B3F F5          		 PUSH AF	;
184)   8B40 DB 25       		 IN A, (LSR)        ; fetch the control register	; fetch the control register
185)   8B42 CB 47       		 BIT 0, A        ; bit will be set if UART has data	; bit will be set if UART has data
186)   8B44 28 FA       		 JR Z, RSRXLP	;
188)   8B46 F1          		 POP AF	;
190)   8B47 C9          		 RET	;
194)   8B48 DB 25       		RS_KEYRD: IN A, (LSR)       ; fetch the conrtol register	; fetch the conrtol register
195)   8B4A CB 47       		 BIT 0, A        ; bit will be set if UART has data	; bit will be set if UART has data
196)   8B4C C9          		 RET	;
198)   8B4D F5          		SHLCD: PUSH AF	;
200)   8B4E F1          		 POP AF	;
202)   8B4F C9          		 RET	;
204)   8B50 F5          		RS_NEWLINE: PUSH AF	;
205)   8B51 3E 0D       		 LD A,13	;
206)   8B53 CD E1 8A    		 CALL RS_TX	;
207)   8B56 3E 0A       		 LD A,10	;
208)   8B58 CD E1 8A    		 CALL RS_TX	;
209)   8B5B F1          		 POP AF	;
210)   8B5C C9          		 RET  	;
213)   8B5D F5          		CHKERR: PUSH AF	;
214)   8B5E E5          		 PUSH HL	;
215)   8B5F C5          		 PUSH BC	;
216)   8B60 DB 25       		 IN A, (LSR)        ;FETCH LINE STATUS REGISTER	;FETCH LINE STATUS REGISTER
217)   8B62 CB 67       		 BIT 4, A	;
218)   8B64 28 04       		 JR Z, LBLPE	;
219)   8B66 3E 42       		 LD A, 'B'       ;$20  ;BREAK	;$20  ;BREAK
220)   8B68 18 1A       		 JR EXIT	;
221)   8B6A CB 57       		LBLPE: BIT 2, A	;
222)   8B6C 28 04       		 JR Z, LBLFE	;
223)   8B6E 3E 50       		 LD A, 'P'       ;$40  ;PARITY	;$40  ;PARITY
224)   8B70 18 12       		 JR EXIT	;
225)   8B72 CB 5F       		LBLFE: BIT 3, A	;
226)   8B74 28 04       		 JR Z, LBLOE	;
227)   8B76 3E 46       		 LD A, 'F'       ;$60  ;FRAME	;$60  ;FRAME
228)   8B78 18 0A       		 JR EXIT	;
229)   8B7A CB 4F       		LBLOE: BIT 1, A	;
230)   8B7C 28 04       		 JR Z, LBLNE	;
231)   8B7E 3E 4F       		 LD A, 'O'        ;$80  ;OVERRUN	;$80  ;OVERRUN
232)   8B80 18 02       		 JR EXIT	;
233)   8B82 3E 4E       		LBLNE: LD A, 'N'        ;NO ERROR	;NO ERROR
234)   8B84 21 7B 00    		EXIT: LD HL, SERERR	;
235)   8B87 77          		 LD (HL), A	;
237)   8B88 C1          		 POP BC	;
238)   8B89 E1          		 POP HL	;
239)   8B8A F1          		 POP AF	;
240)   8B8B C9          		 RET	;
 29)   8B8C 	            		@CH376_ERROR EQU RS_MESG	;
 39)   8B8C 57          		STRG_INIT: LD D,A	;
 40)   8B8D AF          		 XOR A  	;
 41)   8B8E 32 82 00    		 LD (STRG_STAT),A  ;NOT CONNECTED, NOT EXISTS	;NOT CONNECTED, NOT EXISTS
 42)   8B91 CD 9F 90    		 CALL CH376_INIT	;
 43)   8B94 20 06       		 JR NZ,INIERR	;
 44)   8B96 7A          		 LD A,D   ;SELECT USB DEVICE 3 FOR SDCARD, 6 FOR FLASH	;SELECT USB DEVICE 3 FOR SDCARD, 6 FOR FLASH
 45)   8B97 CD B4 90    		 CALL CH376_SETUSB	;
 46)   8B9A 28 03       		 JR Z,INIOK	;
 47)   8B9C 3E 00       		INIERR: LD A,0  	;
 48)   8B9E C9          		 RET	;
 49)   8B9F CD 94 90    		INIOK: CALL CH376_VERSION	;
 50)   8BA2 BF          		 CP A  ;SET ZF	;SET ZF
 51)   8BA3 3E 80       		 LD A, $80  ;BIT 7 MEANS EXISTS	;BIT 7 MEANS EXISTS
 52)   8BA5 32 82 00    		 LD (STRG_STAT),A  ;	;
 53)   8BA8 C9          		 RET	;
 56)   8BA9 3A 82 00    		STRG_EXISTS: LD A,(STRG_STAT)	;
 57)   8BAC CB 7F       		 BIT 7,A	;
 58)   8BAE C9          		 RET	;
 64)   8BAF CD A9 8B    		STRG_CHECK: CALL STRG_EXISTS	;
 65)   8BB2 37          		 SCF	;
 66)   8BB3 C8          		 RET Z    ;Z MEANS NOT EXISTS	;Z MEANS NOT EXISTS
 67)   8BB4 06 05       		 LD B,5	;
 68)   8BB6 CD E4 90    		SC_AGN1: CALL CH376_CONNECT 	;
 69)   8BB9 28 06       		 JR Z,DOCON	;
 70)   8BBB 30 1C       		 JR NC,DODISC	;
 71)   8BBD 10 F7       		 DJNZ SC_AGN1    	;
 75)   8BBF AF          		 XOR A   	;
 76)   8BC0 C9          		 RET   ;TIMEOUT	;TIMEOUT
 78)   8BC1 AF          		DOCON: XOR A    ;CLCF	;CLCF
 79)   8BC2 3A 82 00    		 LD A,(STRG_STAT)	;
 80)   8BC5 CB 47       		 BIT 0,A	;
 81)   8BC7 C0          		 RET NZ    ;ALREADY MOUNTED THE DRIVE	;ALREADY MOUNTED THE DRIVE
 85)   8BC8 CD EF 90    		 CALL CH376_MOUNT   ;MOUNT THE DRIVE	;MOUNT THE DRIVE
 86)   8BCB 20 0C       		 JR NZ, DONOMNT	;
 90)   8BCD 3A 82 00    		 LD A,(STRG_STAT)	;
 91)   8BD0 CB C7       		 SET 0,A	;
 92)   8BD2 32 82 00    		 LD (STRG_STAT),A	;
 93)   8BD5 AF          		 XOR A    ;CLEAR CARRY FLAG MEANS WE ARE OK	;CLEAR CARRY FLAG MEANS WE ARE OK
 94)   8BD6 3E 01       		 LD A,1    ;A=1 IS JUST CONNECTED	;A=1 IS JUST CONNECTED
 95)   8BD8 C9          		 RET	;
103)   8BD9 AF          		 XOR A 	;
104)   8BDA 3A 82 00    		 LD A,(STRG_STAT)  	;
105)   8BDD CB 47       		 BIT 0,A	;
106)   8BDF C8          		 RET Z    ;ALREADY DISCONNECTED	;ALREADY DISCONNECTED
107)   8BE0 CB 87       		 RES 0,A    ;SET BIT 0 TO 0=DISCONNECTED	;SET BIT 0 TO 0=DISCONNECTED
108)   8BE2 32 82 00    		 LD (STRG_STAT),A  	;
109)   8BE5 3E 02       		 LD A,2    ;A=2 IS JUST DISCONNECTED	;A=2 IS JUST DISCONNECTED
110)   8BE7 C9          		 RET	;
116)   8BE8 CD F8 90    		STRG_OPENCRD:  CALL CH376_MOUNTDEV	;
117)   8BEB C9          		 RET 	;
120)   8BEC C9          		STRG_DIRLIST: RET	;
121)   8BED C9          		STRG_DIRCHG: RET	;
122)   8BEE C9          		STRG_TPFILE: RET	;
123)   8BEF C9          		STRG_GETPOS: RET	;
127)   8BF0 D5          		STRG_SETPOS16: PUSH DE	;
128)   8BF1 11 00 00    		 LD DE,0	;
129)   8BF4 CD F9 8B    		 CALL STRG_SETPOS 	;
130)   8BF7 D1          		 POP DE	;
131)   8BF8 C9          		 RET	;
133)   8BF9 3E 39       		STRG_SETPOS: LD A,CMD_BYTE_LOCATE	;
134)   8BFB CD 7E 90    		 CALL CH376_COMMD	;
135)   8BFE 79          		 LD A,C                             ; 4 BYTES TO SET THE OFFSET LOW IN FRONT	; 4 BYTES TO SET THE OFFSET LOW IN FRONT
136)   8BFF CD 82 90    		     CALL CH376_DATAWR	;
137)   8C02 78          		 LD A,B	;
138)   8C03 CD 82 90    		 CALL CH376_DATAWR	;
139)   8C06 7B          		 LD A,E	;
140)   8C07 CD 82 90    		 CALL CH376_DATAWR            ;LAST 2 BYTES 0 MAX 65535 SKIP	;LAST 2 BYTES 0 MAX 65535 SKIP
141)   8C0A 7A          		 LD A,D	;
142)   8C0B CD 82 90    		 CALL CH376_DATAWR	;
143)   8C0E CD 0F 90    		     CALL CH376_WTCMDEND	;
144)   8C11 C9          		 RET	;
147)   8C12 C9          		STRG_GETSIZE: RET	;
148)   8C13 C9          		STRG_GETEOF: RET	;
155)   8C14 3E 27       		STRG_PRDRVINFO: LD A,CMD_RDUSB_DATA0	;
156)   8C16 CD 7E 90    		 CALL CH376_COMMD	;
157)   8C19 CD BD 8F    		 CALL CH376_GETDATA	;
158)   8C1C F5          		 PUSH AF	;
159)   8C1D D6 08       		 SUB 8  	;
160)   8C1F 47          		 LD B,A	;
161)   8C20 F1          		 POP AF   	;
162)   8C21 21 8B 00    		 LD HL,USBBUF+8  ;SKIP 8 BYTES	;SKIP 8 BYTES
163)   8C24 7E          		PDI_NXT: LD A,(HL)	;
164)   8C25 E5          		 PUSH HL	;
165)   8C26 C5          		 PUSH BC	;
166)   8C27 CD 16 80    		 CALL OS_PRINTCHAR	;
167)   8C2A C1          		 POP BC	;
168)   8C2B E1          		 POP HL	;
169)   8C2C 23          		 INC HL	;
170)   8C2D 10 F5       		 DJNZ PDI_NXT  	;
171)   8C2F CD 50 8B    		 CALL RS_NEWLINE	;
173)   8C32 3E 3F       		 LD A,CMD_DISK_QUERY   	;
174)   8C34 CD 7E 90    		 CALL CH376_COMMD	;
175)   8C37 CD 0F 90    		 CALL CH376_WTCMDEND	;
176)   8C3A C0          		 RET NZ	;
177)   8C3B 3E 27       		 LD A,CMD_RDUSB_DATA0	;
178)   8C3D CD 7E 90    		 CALL CH376_COMMD  	;
179)   8C40 CD BD 8F    		 CALL CH376_GETDATA	;
181)   8C43 DD 21 83 00 		 LD IX,USBBUF 	;
182)   8C47 DD E5       		 PUSH IX   	;
183)   8C49 DD 56 03    		 LD D,(IX+3)	;
184)   8C4C DD 5E 02    		 LD E,(IX+2)	;
185)   8C4F DD 66 01    		 LD H,(IX+1)	;
186)   8C52 DD 6E 00    		 LD L,(IX+0)	;
187)   8C55 CD 9A 94    		 CALL B2D32    ;DE:HL RES ON B2DBUF	;DE:HL RES ON B2DBUF
188)   8C58 21 CC 00    		 LD HL,B2DBUF	;
189)   8C5B CD 2A 95    		 CALL SKIPSPC	;
190)   8C5E CD 1A 80    		 CALL OS_PRINTTEXT	;
191)   8C61 CD 26 80    		 CALL OS_PRINTMSG	;
192)   8C64 20 53 45 43 		 DEFM " SECTORS"	;
192)   8C68 54 4F 52 53 		 DEFM " SECTORS"	;
193)   8C6C 0A 0D 00    		 DB 10,13 0	;
194)   8C6F DD E1       		 POP IX	;
196)   8C71 DD E5       		 PUSH IX     	;
197)   8C73 DD 56 07    		 LD D,(IX+7)	;
198)   8C76 DD 5E 06    		 LD E,(IX+6)	;
199)   8C79 DD 66 05    		 LD H,(IX+5)	;
200)   8C7C DD 6E 04    		 LD L,(IX+4)  	;
201)   8C7F CD 9A 94    		 CALL B2D32  ;DE:HL RES ON B2DBUF	;DE:HL RES ON B2DBUF
202)   8C82 21 CC 00    		 LD HL,B2DBUF	;
203)   8C85 CD 2A 95    		 CALL SKIPSPC	;
204)   8C88 CD 1A 80    		 CALL OS_PRINTTEXT	;
205)   8C8B CD 26 80    		 CALL OS_PRINTMSG	;
206)   8C8E 20 53 45 43 		 DEFM " SECTORS FREE   "	;
206)   8C92 54 4F 52 53 		 DEFM " SECTORS FREE   "	;
206)   8C96 20 46 52 45 		 DEFM " SECTORS FREE   "	;
206)   8C9A 45 20 20 20 		 DEFM " SECTORS FREE   "	;
207)   8C9E 0A 0D 00    		 DB 10,13,0   	;
208)   8CA1 DD E1       		 POP IX	;
210)   8CA3 DD 7E 08    		FILESYSTEM: LD A,(IX+8) ;1-FAT12,2-FAT16,3-FAT32	;1-FAT12,2-FAT16,3-FAT32
211)   8CA6 3D          		 DEC A	;
212)   8CA7 28 08       		 JR Z,PDI_NXT0	;
213)   8CA9 3D          		 DEC A	;
214)   8CAA 28 18       		 JR Z,PDI_NXT1	;
215)   8CAC 3D          		 DEC A	;
216)   8CAD 28 28       		 JR Z,PDI_NXT2	;
217)   8CAF 18 39       		 JR PDI_NXT3	;
219)   8CB1 CD 26 80    		PDI_NXT0: CALL OS_PRINTMSG	;
220)   8CB4 46 53 20 49 		 DEFM "FS IS FAT-12"	;
220)   8CB8 53 20 46 41 		 DEFM "FS IS FAT-12"	;
220)   8CBC 54 2D 31 32 		 DEFM "FS IS FAT-12"	;
221)   8CC0 0A 0D 00    		 DB 10,13,0	;
222)   8CC3 C9          		 RET	;
223)   8CC4 CD 26 80    		PDI_NXT1: CALL OS_PRINTMSG	;
224)   8CC7 46 53 20 49 		 DEFM "FS IS FAT-16"	;
224)   8CCB 53 20 46 41 		 DEFM "FS IS FAT-16"	;
224)   8CCF 54 2D 31 36 		 DEFM "FS IS FAT-16"	;
225)   8CD3 0A 0D 00    		 DB 10,13,0	;
226)   8CD6 C9          		 RET	;
227)   8CD7 CD 26 80    		PDI_NXT2: CALL OS_PRINTMSG	;
228)   8CDA 46 53 20 49 		 DEFM "FS IS FAT-32"	;
228)   8CDE 53 20 46 41 		 DEFM "FS IS FAT-32"	;
228)   8CE2 54 2D 33 32 		 DEFM "FS IS FAT-32"	;
229)   8CE6 0A 0D 00    		 DB 10,13,0	;
230)   8CE9 C9          		 RET	;
231)   8CEA CD 26 80    		PDI_NXT3: CALL OS_PRINTMSG	;
232)   8CED 55 4E 4B 4E 		 DEFM "UNKNOWN FS"	;
232)   8CF1 4F 57 4E 20 		 DEFM "UNKNOWN FS"	;
232)   8CF5 46 53       		 DEFM "UNKNOWN FS"	;
233)   8CF7 0A 0D 00    		 DB 10,13,0	;
234)   8CFA DD 7E 08    		 LD A,(IX+8)  ;TO BE PRINTED MAYBE	;TO BE PRINTED MAYBE
235)   8CFD C9          		 RET	;
240)   8CFE F5          		STRG_OPNFILE: PUSH AF	;
241)   8CFF 3E 2F       		 LD A, CMD_SETFILENAME	;
242)   8D01 CD 7E 90    		     CALL CH376_COMMD	;
243)   8D04 21 83 00    		 LD HL, STRGBUFF	;
244)   8D07 CD 33 91    		     CALL CH376_WRSTRING	;
245)   8D0A 28 1E       		 JR Z,OF_WSOK	;
246)   8D0C F1          		 POP AF	;
247)   8D0D CD 26 80    		 CALL OS_PRINTMSG	;
248)   8D10 45 52 52 4F 		 DEFM "ERROR SETTING FILENAME"	;
248)   8D14 52 20 53 45 		 DEFM "ERROR SETTING FILENAME"	;
248)   8D18 54 54 49 4E 		 DEFM "ERROR SETTING FILENAME"	;
248)   8D1C 47 20 46 49 		 DEFM "ERROR SETTING FILENAME"	;
248)   8D20 4C 45 4E 41 		 DEFM "ERROR SETTING FILENAME"	;
248)   8D24 4D 45       		 DEFM "ERROR SETTING FILENAME"	;
249)   8D26 0A 0D 00    		 DB 10,13,0  	;
250)   8D29 C9          		 RET	;
251)   8D2A F1          		OF_WSOK: POP AF	;
255)   8D2B B7          		 OR A  ;0 READ	;0 READ
256)   8D2C 28 0C       		 JR Z,OF_OPEN	;
257)   8D2E D6 01       		 SUB 1  ;1 WRITE	;1 WRITE
258)   8D30 28 08       		 JR Z,OF_OPEN	;
259)   8D32 D6 01       		 SUB 1  ;2 READ/WRITE	;2 READ/WRITE
260)   8D34 28 04       		 JR Z,OF_OPEN	;
270)   8D36 3E 34       		 LD A, CMD_FILE_CREATE  	;
271)   8D38 18 02       		 JR OF_EXEC	;
276)   8D3A 3E 32       		 LD A, CMD_FILE_OPEN	;
280)   8D3C CD 7E 90    		 CALL CH376_COMMD	;
281)   8D3F CD 0F 90    		 CALL CH376_WTCMDEND	;
282)   8D42 C9          		 RET	;
284)   8D43 3E 36       		STRG_CLSFILE: LD A, CMD_FILE_CLOSE	;
285)   8D45 CD 7E 90    		     CALL CH376_COMMD	;
286)   8D48 3E 01       		     LD A, 1                             ; 1 = update file size if necessary	; 1 = update file size if necessary
287)   8D4A CD 82 90    		     CALL CH376_DATAWR	;
288)   8D4D CD 0F 90    		     CALL CH376_WTCMDEND	;
289)   8D50 C9          		     RET	;
295)   8D51 D5          		STRG_BLKREAD: PUSH DE	;
296)   8D52 3E 3A       		 LD A, CMD_BYTE_READ	;
297)   8D54 CD 7E 90    		     CALL CH376_COMMD	;
298)   8D57 79          		     LD A, C                           ; BYTES REQUEST ON BC	; BYTES REQUEST ON BC
299)   8D58 CD 82 90    		     CALL CH376_DATAWR	;
300)   8D5B 78          		     LD A, B	;
301)   8D5C CD 82 90    		     CALL CH376_DATAWR	;
302)   8D5F 2F          		 CPL	;
303)   8D60 2F          		 CPL    	;
307)   8D61 D1          		 POP DE	;
308)   8D62 21 00 00    		 LD HL,0      ;BYTE RECEIVE COUNTER	;BYTE RECEIVE COUNTER
309)   8D65 E5          		STBR_DOREST: PUSH HL	;
310)   8D66 D5          		 PUSH DE	;
311)   8D67 CD 0F 90    		 CALL CH376_WTCMDEND	;
312)   8D6A D1          		 POP DE	;
313)   8D6B E1          		 POP HL	;
314)   8D6C 28 1C       		 JR Z, FR_DONE   ;Z=NO MORE OR CANNOT READ	;Z=NO MORE OR CANNOT READ
315)   8D6E FE 1D       		 CP USB_INT_DISK_READ                    	;
316)   8D70 20 1C       		     JR NZ, FR_ERROR	;
318)   8D72 3E 27       		 LD A,CMD_RDUSB_DATA0	;
319)   8D74 CD 7E 90    		 CALL CH376_COMMD 	;
320)   8D77 CD 91 90    		 CALL CH376_DATARD  ;A= BYTES TO READ TO BUFFER	;A= BYTES TO READ TO BUFFER
321)   8D7A 47          		 LD B,A	;
334)   8D7B CD 91 90    		STBR_NXT1: CALL CH376_DATARD ;READ THE BYTES TO BUFFER	;READ THE BYTES TO BUFFER
335)   8D7E 12          		 LD (DE),A	;
336)   8D7F 13          		 INC DE	;
337)   8D80 23          		 INC HL    ;TOTAL BYTES READ COUNTER	;TOTAL BYTES READ COUNTER
338)   8D81 10 F8       		 DJNZ STBR_NXT1  	;
339)   8D83 3E 3B       		 LD A, CMD_BYTE_RD_GO 	;
340)   8D85 CD 7E 90    		 CALL CH376_COMMD 	;
341)   8D88 18 DB       		 JR STBR_DOREST	;
347)   8D8A 44          		 LD B,H	;
348)   8D8B 4D          		 LD C,L	;
349)   8D8C AF          		 XOR A	;
350)   8D8D C9          		 RET	;
351)   8D8E F5          		FR_ERROR: PUSH AF	;
352)   8D8F CD 23 96    		 CALL PRINTNUM	;
353)   8D92 CD 26 80    		 CALL OS_PRINTMSG	;
354)   8D95 45 52 52 4F 		 DEFM "ERROR READING BLOCK!!! "	;
354)   8D99 52 20 52 45 		 DEFM "ERROR READING BLOCK!!! "	;
354)   8D9D 41 44 49 4E 		 DEFM "ERROR READING BLOCK!!! "	;
354)   8DA1 47 20 42 4C 		 DEFM "ERROR READING BLOCK!!! "	;
354)   8DA5 4F 43 4B 21 		 DEFM "ERROR READING BLOCK!!! "	;
354)   8DA9 21 21 20    		 DEFM "ERROR READING BLOCK!!! "	;
355)   8DAC 00          		 DB 0 	;
356)   8DAD F1          		 POP AF	;
357)   8DAE 06 02       		 LD B,2	;
358)   8DB0 05          		 DEC B	;
359)   8DB1 C9          		 RET  	;
366)   8DB2 D5          		STRG_LOADFILE: PUSH DE	;
367)   8DB3 C5          		 PUSH BC	;
373)   8DB4 CD 58 96    		 CALL COPYFNAME	;
374)   8DB7 AF          		 XOR A   ;READ ONLY 	;READ ONLY
375)   8DB8 CD FE 8C    		 CALL STRG_OPNFILE  	;
376)   8DBB 20 4B       		 JR NZ, FOPENERR	;
381)   8DBD C1          		 POP BC  ;BYTECOUNT	;BYTECOUNT
382)   8DBE D1          		 POP DE  ;DEST BUFFER	;DEST BUFFER
383)   8DBF CD 51 8D    		 CALL STRG_BLKREAD	;
384)   8DC2 28 20       		 JR Z, FREADOK	;
385)   8DC4 CD 23 96    		 CALL PRINTNUM	;
386)   8DC7 CD 26 80    		 CALL OS_PRINTMSG	;
387)   8DCA 20 45 52 52 		 DEFM " ERROR READING FILE"	;
387)   8DCE 4F 52 20 52 		 DEFM " ERROR READING FILE"	;
387)   8DD2 45 41 44 49 		 DEFM " ERROR READING FILE"	;
387)   8DD6 4E 47 20 46 		 DEFM " ERROR READING FILE"	;
387)   8DDA 49 4C 45    		 DEFM " ERROR READING FILE"	;
388)   8DDD 0A 0D 00    		 DB 10,13,0	;
389)   8DE0 D5          		 PUSH DE	;
390)   8DE1 C5          		 PUSH BC	;
391)   8DE2 18 24       		 JR FOPENERR	;
392)   8DE4 C5          		FREADOK: PUSH BC	;
393)   8DE5 CD 96 94    		 CALL B2D16	;
394)   8DE8 21 CC 00    		 LD HL,B2DBUF	;
395)   8DEB CD 2A 95    		 CALL SKIPSPC	;
396)   8DEE CD F0 8A    		 CALL RS_TXT	;
397)   8DF1 CD 26 80    		 CALL OS_PRINTMSG	;
398)   8DF4 20 42 59 54 		 DEFM " BYTES READ"	;
398)   8DF8 45 53 20 52 		 DEFM " BYTES READ"	;
398)   8DFC 45 41 44    		 DEFM " BYTES READ"	;
399)   8DFF 0A 0D 00    		 DB 10,13,0	;
400)   8E02 CD 43 8D    		 CALL STRG_CLSFILE	;
401)   8E05 C1          		 POP BC   ;BYTES LOADED TO BUFFER	;BYTES LOADED TO BUFFER
402)   8E06 AF          		 XOR A	;
403)   8E07 C9          		 RET	;
404)   8E08 C1          		FOPENERR: POP BC	;
405)   8E09 D1          		 POP DE	;
406)   8E0A CD 23 96    		 CALL PRINTNUM	;
407)   8E0D CD 26 80    		 CALL OS_PRINTMSG	;
408)   8E10 2D 2D 3E 45 		 DEFM "-->ERROR AT LOADFILE"	;
408)   8E14 52 52 4F 52 		 DEFM "-->ERROR AT LOADFILE"	;
408)   8E18 20 41 54 20 		 DEFM "-->ERROR AT LOADFILE"	;
408)   8E1C 4C 4F 41 44 		 DEFM "-->ERROR AT LOADFILE"	;
408)   8E20 46 49 4C 45 		 DEFM "-->ERROR AT LOADFILE"	;
409)   8E24 0A 0D 00    		 DB 10,13,0	;
410)   8E27 21 83 00    		 LD HL,STRGBUFF	;
411)   8E2A CD F0 8A    		 CALL RS_TXT	;
412)   8E2D CD 50 8B    		 CALL RS_NEWLINE	;
413)   8E30 37          		 SCF	;
414)   8E31 C9          		 RET	;
422)   8E32 D5          		STRG_READBUFR: PUSH DE	;
423)   8E33 C5          		 PUSH BC	;
429)   8E34 CD 58 96    		 CALL COPYFNAME	;
430)   8E37 AF          		 XOR A   ;READ ONLY 	;READ ONLY
431)   8E38 CD FE 8C    		 CALL STRG_OPNFILE  	;
432)   8E3B 20 32       		 JR NZ, RB_FOPENERR	;
437)   8E3D C1          		 POP BC  ;BYTE OFFSET	;BYTE OFFSET
438)   8E3E CD F0 8B    		 CALL STRG_SETPOS16	;
439)   8E41 01 F4 01    		 LD BC, 500 ;READ 500 BYTES  	;READ 500 BYTES
440)   8E44 D1          		 POP DE  ;DEST BUFFER	;DEST BUFFER
441)   8E45 CD 51 8D    		 CALL STRG_BLKREAD	;
442)   8E48 28 1E       		 JR Z, RB_FREADOK	;
443)   8E4A CD 23 96    		 CALL PRINTNUM	;
444)   8E4D CD 26 80    		 CALL OS_PRINTMSG	;
445)   8E50 20 45 52 52 		 DEFM " ERROR READING FILE"	;
445)   8E54 4F 52 20 52 		 DEFM " ERROR READING FILE"	;
445)   8E58 45 41 44 49 		 DEFM " ERROR READING FILE"	;
445)   8E5C 4E 47 20 46 		 DEFM " ERROR READING FILE"	;
445)   8E60 49 4C 45    		 DEFM " ERROR READING FILE"	;
446)   8E63 0A 0D 00    		 DB 10,13,0	;
447)   8E66 18 09       		 JR RB_FOPENERR2	;
448)   8E68 C5          		RB_FREADOK: PUSH BC	;
456)   8E69 CD 43 8D    		 CALL STRG_CLSFILE	;
457)   8E6C C1          		 POP BC   ;BYTES LOADED TO BUFFER	;BYTES LOADED TO BUFFER
458)   8E6D AF          		 XOR A	;
459)   8E6E C9          		 RET	;
460)   8E6F C1          		RB_FOPENERR: POP BC	;
461)   8E70 D1          		 POP DE	;
462)   8E71 CD 23 96    		RB_FOPENERR2: CALL PRINTNUM	;
463)   8E74 CD 26 80    		 CALL OS_PRINTMSG	;
464)   8E77 2D 2D 3E 45 		 DEFM "-->ERROR OPENING FILE"	;
464)   8E7B 52 52 4F 52 		 DEFM "-->ERROR OPENING FILE"	;
464)   8E7F 20 4F 50 45 		 DEFM "-->ERROR OPENING FILE"	;
464)   8E83 4E 49 4E 47 		 DEFM "-->ERROR OPENING FILE"	;
464)   8E87 20 46 49 4C 		 DEFM "-->ERROR OPENING FILE"	;
464)   8E8B 45          		 DEFM "-->ERROR OPENING FILE"	;
465)   8E8C 0A 0D 00    		 DB 10,13,0	;
466)   8E8F 21 83 00    		 LD HL,STRGBUFF	;
467)   8E92 CD F0 8A    		 CALL RS_TXT	;
468)   8E95 CD 50 8B    		 CALL RS_NEWLINE	;
469)   8E98 37          		 SCF	;
470)   8E99 C9          		 RET	;
475)   8E9A D5          		STRG_BLKWRITE: PUSH DE	;
476)   8E9B 3E 3C       		 LD A, CMD_BYTE_WRITE	;
477)   8E9D CD 7E 90    		     CALL CH376_COMMD	;
478)   8EA0 79          		     LD A, C                           ; BYTES REQUEST ON BC	; BYTES REQUEST ON BC
479)   8EA1 CD 82 90    		     CALL CH376_DATAWR	;
480)   8EA4 78          		     LD A, B	;
481)   8EA5 CD 82 90    		     CALL CH376_DATAWR    	;
485)   8EA8 E1          		 POP HL	;
486)   8EA9 CD 0F 90    		STBW_DOREST: CALL CH376_WTCMDEND 	;
487)   8EAC 28 1B       		 JR Z, WFR_DONE   ;Z=NO MORE OR CANNOT READ	;Z=NO MORE OR CANNOT READ
488)   8EAE FE 1E       		 CP USB_INT_DISK_WRITE                    	;
489)   8EB0 20 19       		     JR NZ, WFR_ERROR	;
490)   8EB2 3E 2D       		 LD A,CMD_WR_REQ_DATA	;
491)   8EB4 CD 7E 90    		 CALL CH376_COMMD 	;
493)   8EB7 CD 91 90    		 CALL CH376_DATARD ;READ BYTE COUNT UP TO 255 BYTES	;READ BYTE COUNT UP TO 255 BYTES
494)   8EBA 47          		 LD B,A   	;
496)   8EBB 7E          		STBW_NXT1: LD A,(HL)	;
497)   8EBC CD 82 90    		 CALL CH376_DATAWR	;
498)   8EBF 23          		 INC HL	;
499)   8EC0 10 F9       		 DJNZ STBW_NXT1	;
500)   8EC2 3E 3D       		 LD A, CMD_BYTE_WR_GO 	;
501)   8EC4 CD 7E 90    		 CALL CH376_COMMD 	;
502)   8EC7 18 E0       		 JR STBW_DOREST	;
508)   8EC9 B7          		 OR A	;
509)   8ECA C9          		 RET	;
510)   8ECB F5          		WFR_ERROR: PUSH AF	;
511)   8ECC CD 23 96    		 CALL PRINTNUM	;
512)   8ECF CD 26 80    		 CALL OS_PRINTMSG	;
513)   8ED2 45 52 52 4F 		 DEFM "ERROR WRITING BLOCK!!! "	;
513)   8ED6 52 20 57 52 		 DEFM "ERROR WRITING BLOCK!!! "	;
513)   8EDA 49 54 49 4E 		 DEFM "ERROR WRITING BLOCK!!! "	;
513)   8EDE 47 20 42 4C 		 DEFM "ERROR WRITING BLOCK!!! "	;
513)   8EE2 4F 43 4B 21 		 DEFM "ERROR WRITING BLOCK!!! "	;
513)   8EE6 21 21 20    		 DEFM "ERROR WRITING BLOCK!!! "	;
514)   8EE9 0D 0A 00    		 DB 13,10,0 	;
515)   8EEC F1          		 POP AF	;
516)   8EED 06 02       		 LD B,2	;
517)   8EEF 05          		 DEC B	;
518)   8EF0 C9          		 RET  	;
526)   8EF1 D5          		STRG_SAVEFILE: PUSH DE	;
527)   8EF2 C5          		 PUSH BC	;
528)   8EF3 E5          		 PUSH HL  	;
529)   8EF4 CD 26 80    		 CALL OS_PRINTMSG	;
530)   8EF7 0A 0D       		 DB 10,13	;
531)   8EF9 53 41 56 45 		 DEFM "SAVE FILE"	;
531)   8EFD 20 46 49 4C 		 DEFM "SAVE FILE"	;
531)   8F01 45          		 DEFM "SAVE FILE"	;
532)   8F02 0A 0D 0A 0D 		 DB 10,13,10,13,0	;
532)   8F06 00          		 DB 10,13,10,13,0	;
533)   8F07 E1          		 POP HL	;
534)   8F08 CD 58 96    		 CALL COPYFNAME	;
535)   8F0B 3E 04       		 LD A,4   ;CREATE THE FILE	;CREATE THE FILE
536)   8F0D CD FE 8C    		 CALL STRG_OPNFILE  	;
537)   8F10 20 4E       		 JR NZ, FSAVEERR	;
538)   8F12 CD 26 80    		 CALL OS_PRINTMSG	;
539)   8F15 0A 0D       		 DB 10,13	;
540)   8F17 46 49 4C 45 		 DEFM "FILE CREATED OK"	;
540)   8F1B 20 43 52 45 		 DEFM "FILE CREATED OK"	;
540)   8F1F 41 54 45 44 		 DEFM "FILE CREATED OK"	;
540)   8F23 20 4F 4B    		 DEFM "FILE CREATED OK"	;
541)   8F26 0A 0D 00    		 DB 10,13,0	;
542)   8F29 C1          		 POP BC  ;BYTECOUNT	;BYTECOUNT
543)   8F2A D1          		 POP DE  ;SOURCE BUFFER	;SOURCE BUFFER
544)   8F2B CD 9A 8E    		 CALL STRG_BLKWRITE	;
545)   8F2E 28 19       		 JR Z, FWRITEOK	;
547)   8F30 CD 26 80    		 CALL OS_PRINTMSG	;
548)   8F33 20 45 52 52 		 DEFM " ERROR WRITING FILE"	;
548)   8F37 4F 52 20 57 		 DEFM " ERROR WRITING FILE"	;
548)   8F3B 52 49 54 49 		 DEFM " ERROR WRITING FILE"	;
548)   8F3F 4E 47 20 46 		 DEFM " ERROR WRITING FILE"	;
548)   8F43 49 4C 45    		 DEFM " ERROR WRITING FILE"	;
549)   8F46 0A 0D 00    		 DB 10,13,0	;
550)   8F49 CD 26 80    		FWRITEOK: CALL OS_PRINTMSG	;
551)   8F4C 42 59 54 45 		 DEFM "BYTE WRITTEN"	;
551)   8F50 20 57 52 49 		 DEFM "BYTE WRITTEN"	;
551)   8F54 54 54 45 4E 		 DEFM "BYTE WRITTEN"	;
552)   8F58 0A 0D 00    		 DB 10,13,0	;
553)   8F5B CD 43 8D    		 CALL STRG_CLSFILE	;
554)   8F5E AF          		 XOR A	;
555)   8F5F C9          		 RET	;
556)   8F60 C1          		FSAVEERR: POP BC	;
557)   8F61 D1          		 POP DE	;
558)   8F62 CD 23 96    		 CALL PRINTNUM	;
559)   8F65 CD 26 80    		 CALL OS_PRINTMSG	;
560)   8F68 2D 2D 3E 45 		 DEFM "-->ERROR CREATING FILE"	;
560)   8F6C 52 52 4F 52 		 DEFM "-->ERROR CREATING FILE"	;
560)   8F70 20 43 52 45 		 DEFM "-->ERROR CREATING FILE"	;
560)   8F74 41 54 49 4E 		 DEFM "-->ERROR CREATING FILE"	;
560)   8F78 47 20 46 49 		 DEFM "-->ERROR CREATING FILE"	;
560)   8F7C 4C 45       		 DEFM "-->ERROR CREATING FILE"	;
561)   8F7E 0A 0D 00    		 DB 10,13,0	;
562)   8F81 21 83 00    		 LD HL,STRGBUFF	;
563)   8F84 CD F0 8A    		 CALL RS_TXT	;
564)   8F87 CD 50 8B    		 CALL RS_NEWLINE	;
565)   8F8A 37          		 SCF	;
566)   8F8B C9          		 RET	;
576)   8F8C C5          		STRG_WRITEBUFR: PUSH BC	;
577)   8F8D D5          		 PUSH DE	;
578)   8F8E CD 58 96    		 CALL COPYFNAME   ;HL NOT NEEDED AFTER THIS	;HL NOT NEEDED AFTER THIS
579)   8F91 3E 01       		 LD A,1    ;OPEN THE FILE FOR W	;OPEN THE FILE FOR W
580)   8F93 CD FE 8C    		 CALL STRG_OPNFILE  	;
581)   8F96 20 0B       		 JR NZ,SWB_CREATE  ;ON ERROR TRY TO CREATE THE FILE	;ON ERROR TRY TO CREATE THE FILE
583)   8F98 01 FF FF    		 LD BC,$FFFF	;
584)   8F9B 11 FF FF    		 LD DE,$FFFF 	;
585)   8F9E CD F9 8B    		 CALL STRG_SETPOS  ;GOTO EOF	;GOTO EOF
586)   8FA1 18 09       		 JR SWB_WRITEBUF	;
588)   8FA3 3E 04       		 LD A,4	;
589)   8FA5 CD FE 8C    		 CALL STRG_OPNFILE  	;
590)   8FA8 3E 97       		 LD A,151   ;ERROR NUMBER	;ERROR NUMBER
591)   8FAA 20 0D       		 JR NZ, SWB_ERR	;
592)   8FAC D1          		SWB_WRITEBUF: POP DE	;
593)   8FAD C1          		 POP BC    ;THE BYTE COUNT  	;THE BYTE COUNT
594)   8FAE CD 9A 8E    		 CALL STRG_BLKWRITE  	;
595)   8FB1 F5          		 PUSH AF	;
596)   8FB2 CD 43 8D    		 CALL STRG_CLSFILE  ;ALWAYS CLOSE FILE	;ALWAYS CLOSE FILE
597)   8FB5 F1          		 POP AF	;
598)   8FB6 C0          		 RET NZ    ;NZ IF ERROR	;NZ IF ERROR
599)   8FB7 AF          		 XOR A	;
600)   8FB8 C9          		 RET	;
601)   8FB9 D1          		SWB_ERR: POP DE	;
602)   8FBA C1          		 POP BC  	;
603)   8FBB 37          		 SCF	;
604)   8FBC C9          		 RET  	;
  3)   8FBD 	            		INT376CMD EQU DEV376+1	;
  4)   8FBD 	            		INT376DAT EQU DEV376	;
 90)   8FBD CD 91 90    		CH376_GETDATA: CALL CH376_DATARD	;
 91)   8FC0 FE 00       		 CP 0	;
 92)   8FC2 C8          		 RET Z   ;NO DATA AVAILABLE	;NO DATA AVAILABLE
 99)   8FC3 F5          		               PUSH AF	;
100)   8FC4 11 83 00    		 LD DE,USBBUF	;
101)   8FC7 47          		 LD B,A	;
102)   8FC8 CD 91 90    		UDC_NXT1: CALL CH376_DATARD	;
104)   8FCB 12          		 LD (DE),A	;
105)   8FCC 13          		 INC DE	;
109)   8FCD 10 F9       		 DJNZ UDC_NXT1 	;
110)   8FCF F1          		               POP AF	;
111)   8FD0 C9          		 RET	;
114)   8FD1 F5          		DISKERROR: PUSH AF	;
115)   8FD2 CD FA 8A    		 CALL RS_MESG	;
116)   8FD5 46 41 54 41 		 DEFM "FATAL ERROR:" 	;
116)   8FD9 4C 20 45 52 		 DEFM "FATAL ERROR:" 	;
116)   8FDD 52 4F 52 3A 		 DEFM "FATAL ERROR:" 	;
117)   8FE1 00          		 DB 0  	;
118)   8FE2 F1          		 POP AF	;
119)   8FE3 CD 23 96    		 CALL PRINTNUM	;
120)   8FE6 21 F2 8F    		 LD HL,ERR_PART	;
121)   8FE9 FE 92       		 CP ERR_TYPE_ERROR	;
122)   8FEB 28 01       		 JR Z,PRNMES	;
123)   8FED C9          		 RET	;
124)   8FEE CD F0 8A    		PRNMES: CALL RS_TXT 	;
125)   8FF1 C9          		 RET	;
127)   8FF2 50 41 52 54 		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
127)   8FF6 49 54 49 4F 		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
127)   8FFA 4E 2E 4E 4F 		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
127)   8FFE 54 2E 53 55 		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
127)   9002 50 50 4F 52 		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
127)   9006 54 45 44 21 		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
127)   900A 21 21       		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
128)   900C 0A 0D 00    		 DB 10,13,0	;
138)   900F E5          		CH376_WTCMDEND: PUSH HL	;
139)   9010 CD 1D 90    		 CALL CH376_WAITINT	;
140)   9013 E1          		 POP HL	;
141)   9014 C0          		               RET NZ	;
142)   9015 D8          		 RET C	;
143)   9016 AF          		 XOR A	;
144)   9017 CD 3C 90    		 CALL CH376_GETSTAT	;
145)   901A FE 14       		 CP USB_INT_SUCCESS  	;
146)   901C C9          		 RET  ;NZ FLAG MEANS ERROR USUALLY	;NZ FLAG MEANS ERROR USUALLY
152)   901D AF          		CH376_WAITINT: XOR A	;
153)   901E 01 32 00    		 LD BC,50	;
154)   9021 CD 8E 90    		C3AGN2: CALL CH376_INSTAT	;
155)   9024 CB 7F       		 BIT 7,A	;
156)   9026 C8          		 RET Z	;
157)   9027 F5          		 PUSH AF	;
158)   9028 C5          		 PUSH BC	;
159)   9029 06 14       		 LD B,20	;
160)   902B CD BE 93    		 CALL DELAYMICRO	;
161)   902E C1          		 POP BC	;
162)   902F F1          		 POP AF	;
163)   9030 0B          		 DEC BC	;
164)   9031 5F          		 LD E,A	;
165)   9032 78          		 LD A,B	;
166)   9033 B1          		 OR C	;
167)   9034 7B          		 LD A,E	;
168)   9035 20 EA       		 JR NZ, C3AGN2  	;
173)   9037 37          		 SCF ;TIMEOUT       	;TIMEOUT
174)   9038 06 02       		 LD B,2	;
175)   903A 05          		 DEC B  ;NZ FLAG	;NZ FLAG
176)   903B C9          		 RET	;
178)   903C 3E 22       		CH376_GETSTAT: LD A,CMD_GET_STATUS	;
179)   903E CD 7E 90    		 CALL CH376_COMMD	;
180)   9041 CD 91 90    		 CALL CH376_DATARD	;
181)   9044 C9          		 RET	;
189)   9045 01 C4 09    		CH376_CHOK: LD BC,2500	;
190)   9048 CD 8E 90    		C3AGN: CALL CH376_INSTAT	;
191)   904B CB 67       		 BIT 4,A   ;CHECK BUSY	;CHECK BUSY
192)   904D C8          		 RET Z   	;
193)   904E C5          		 PUSH BC	;
194)   904F F5          		 PUSH AF	;
195)   9050 06 32       		 LD B,50	;
196)   9052 CD BE 93    		 CALL DELAYMICRO	;
197)   9055 F1          		 POP AF	;
198)   9056 C1          		 POP BC	;
199)   9057 0B          		 DEC BC	;
200)   9058 5F          		 LD E,A	;
201)   9059 78          		 LD A,B	;
202)   905A B1          		 OR C	;
203)   905B 7B          		 LD A,E	;
204)   905C 20 EA       		 JR NZ,C3AGN	;
205)   905E F5          		 PUSH AF  	;
206)   905F CD 23 96    		 CALL PRINTNUM  	;
207)   9062 F1          		 POP AF	;
208)   9063 CD FA 8A    		 CALL RS_MESG	;
209)   9066 2A 2A 2A 43 		 DEFM "***CMD TIMEOUT***"	;
209)   906A 4D 44 20 54 		 DEFM "***CMD TIMEOUT***"	;
209)   906E 49 4D 45 4F 		 DEFM "***CMD TIMEOUT***"	;
209)   9072 55 54 2A 2A 		 DEFM "***CMD TIMEOUT***"	;
209)   9076 2A          		 DEFM "***CMD TIMEOUT***"	;
210)   9077 0A 0D 00    		 DB 10,13,0       	;
211)   907A 06 02       		 LD B,2	;
212)   907C 05          		 DEC B  ;NZ FLAG	;NZ FLAG
213)   907D C9          		 RET	;
219)   907E D3 31       		CH376_COMMD: OUT (INT376CMD),A	;
220)   9080 18 02       		 JR C3D_CONT	;
223)   9082 D3 30       		CH376_DATAWR: OUT (INT376DAT),A 	;
224)   9084 C5          		C3D_CONT: PUSH BC	;
225)   9085 D5          		 PUSH DE	;
226)   9086 E5          		 PUSH HL	;
227)   9087 CD 45 90    		 CALL CH376_CHOK  ;CHECK NOT BUSY	;CHECK NOT BUSY
228)   908A E1          		 POP HL	;
229)   908B D1          		 POP DE	;
230)   908C C1          		 POP BC	;
231)   908D C9          		 RET	;
233)   908E DB 31       		CH376_INSTAT: IN A,(INT376CMD)	;
235)   9090 C9          		 RET	;
238)   9091 DB 30       		CH376_DATARD: IN A,(INT376DAT)	;
243)   9093 C9          		 RET	;
246)   9094 3E 01       		CH376_VERSION: LD A,CMD_GET_IC_VER 	;
247)   9096 CD 7E 90    		 CALL CH376_COMMD	;
248)   9099 CD 91 90    		 CALL CH376_DATARD	;
249)   909C E6 0F       		 AND 00001111B	;
250)   909E C9          		               RET	;
252)   909F 3E 05       		CH376_INIT:    LD A,CMD_RESET_ALL	;
253)   90A1 CD 7E 90    		 CALL CH376_COMMD  	;
254)   90A4 3E 06       		 LD A,CMD_CHECK_EXIST 	;
255)   90A6 CD 7E 90    		 CALL CH376_COMMD	;
256)   90A9 3E 57       		 LD A,87	;
257)   90AB CD 82 90    		 CALL CH376_DATAWR	;
258)   90AE CD 91 90    		 CALL CH376_DATARD	;
259)   90B1 FE A8       		 CP 255 - 87 	;
260)   90B3 C9          		               RET               	;
264)   90B4 F5          		CH376_SETUSB: PUSH AF	;
265)   90B5 3E 15       		               LD A,CMD_SETUSB_MODE	;
266)   90B7 CD 7E 90    		 CALL CH376_COMMD	;
267)   90BA F1          		               POP AF	;
268)   90BB CD 82 90    		 CALL CH376_DATAWR	;
270)   90BE 06 14       		 LD B,20	;
271)   90C0 CD BE 93    		 CALL DELAYMICRO     ;WAIT A BIT	;WAIT A BIT
276)   90C3 CD 3C 90    		 CALL CH376_GETSTAT	;
277)   90C6 FE 15       		 CP USB_INT_CONNECT	;
278)   90C8 C8          		 RET Z	;
280)   90C9 F5          		 PUSH AF	;
281)   90CA CD FA 8A    		 CALL CH376_ERROR	;
282)   90CD 45 52 52 3A 		 DEFM "ERR: SETUSBMODE"	;
282)   90D1 20 53 45 54 		 DEFM "ERR: SETUSBMODE"	;
282)   90D5 55 53 42 4D 		 DEFM "ERR: SETUSBMODE"	;
282)   90D9 4F 44 45    		 DEFM "ERR: SETUSBMODE"	;
283)   90DC 0A 0D 00    		 DB 10,13,0	;
284)   90DF F1          		 POP AF	;
285)   90E0 CD 23 96    		 CALL PRINTNUM	;
286)   90E3 C9          		               RET	;
291)   90E4 3E 30       		CH376_CONNECT: LD A, CMD_DISK_CONNECT	;
292)   90E6 CD 7E 90    		     CALL CH376_COMMD	;
293)   90E9 CD 0F 90    		 CALL CH376_WTCMDEND	;
295)   90EC D8          		 RET C ;TIMEOUT	;TIMEOUT
296)   90ED C8          		 RET Z ;CONNECT OK	;CONNECT OK
301)   90EE C9          		 RET ;NZ HERE	;NZ HERE
311)   90EF 3E 31       		CH376_MOUNT:   LD A,CMD_DISK_MOUNT  	;
312)   90F1 CD 7E 90    		 CALL CH376_COMMD	;
313)   90F4 CD 0F 90    		 CALL CH376_WTCMDEND  	;
314)   90F7 C9          		 RET	;
319)   90F8 06 0A       		CH376_MOUNTDEV:   LD B,10  ;TRY TO MOUNT 10 TIMES	;TRY TO MOUNT 10 TIMES
320)   90FA C5          		CM_AGN1: PUSH BC	;
321)   90FB CD B4 90    		 CALL CH376_SETUSB	;
322)   90FE 20 10       		 JR NZ,CM_ERROR	;
323)   9100 CD E4 90    		 CALL CH376_CONNECT	;
324)   9103 20 0B       		 JR NZ,CM_ERROR	;
325)   9105 3E 31       		        LD A,CMD_DISK_MOUNT  	;
326)   9107 CD 7E 90    		 CALL CH376_COMMD	;
327)   910A CD 0F 90    		 CALL CH376_WTCMDEND	;
328)   910D C1          		 POP BC	;
329)   910E C8          		 RET Z	;
330)   910F C5          		 PUSH BC	;
331)   9110 06 64       		CM_ERROR: LD B,100	;
332)   9112 CD D3 93    		 CALL DELAYMILI     ;WAIT A BIT	;WAIT A BIT
333)   9115 C1          		 POP BC	;
334)   9116 10 E2       		 DJNZ CM_AGN1  	;
335)   9118 06 02       		 LD B,2	;
336)   911A 05          		 DEC B  ;NZ  	;NZ
337)   911B F5          		 PUSH AF	;
338)   911C CD FA 8A    		 CALL CH376_ERROR	;
339)   911F 45 52 52 3A 		 DEFM "ERR: MOUNT DISK"	;
339)   9123 20 4D 4F 55 		 DEFM "ERR: MOUNT DISK"	;
339)   9127 4E 54 20 44 		 DEFM "ERR: MOUNT DISK"	;
339)   912B 49 53 4B    		 DEFM "ERR: MOUNT DISK"	;
340)   912E 0A 0D 00    		 DB 10,13,0	;
341)   9131 F1          		     POP AF	;
342)   9132 C9          		               RET	;
345)   9133 7E          		CH376_WRSTRING: LD A,(HL)	;
351)   9134 CD 82 90    		 CALL CH376_DATAWR	;
352)   9137 C0          		 RET NZ	;
353)   9138 7E          		 LD A,(HL)	;
354)   9139 FE 00       		 CP 0	;
355)   913B C8          		 RET Z	;
356)   913C 23          		 INC HL	;
357)   913D 18 F4       		 JR CH376_WRSTRING	;
  7)   913F 	            		 DI2C_STA EQU DEVI2C+0      ;00 A0=LOW A1=LOW READONLY  DEF $F8	;00 A0=LOW A1=LOW READONLY  DEF $F8
  8)   913F 	            		 DI2C_INDPTR EQU DEVI2C+0     ;00 A0=LOW A1=LOW WRITEONLY DEF $00	;00 A0=LOW A1=LOW WRITEONLY DEF $00
  9)   913F 	            		 DI2C_DAT EQU DEVI2C+1      ;01 A0=HIGH A1=LOW R/W   DEF $00	;01 A0=HIGH A1=LOW R/W   DEF $00
 10)   913F 	            		 DI2C_CON EQU DEVI2C+3      ;11 A0=HIGH A1=HIGH R/W  DEF $00	;11 A0=HIGH A1=HIGH R/W  DEF $00
 11)   913F 	            		 DI2C_INDIR EQU DEVI2C+2     ;10 A0=LOW A1=HIGH R/W  DEF $00	;10 A0=LOW A1=HIGH R/W  DEF $00
 56)   913F C5          		I2C_RDSTAT_WT: PUSH BC	;
 57)   9140 01 00 20    		 LD BC, $2000	;
 58)   9143 DB 73       		I2CRWT_AGN: IN A, (DI2C_CON)      ;READ CONTROL REGISTER BIT 3 IS SI	;READ CONTROL REGISTER BIT 3 IS SI
 59)   9145 CB 5F       		 BIT 3, A        ;CHECK BIT 3 SI	;CHECK BIT 3 SI
 60)   9147 20 05       		 JR NZ, I2CRWT_OK       ;BIT 3 SHOULD BE SET IF VALID STATUS	;BIT 3 SHOULD BE SET IF VALID STATUS
 61)   9149 0B          		 DEC BC	;
 62)   914A 78          		 LD A, B	;
 63)   914B B1          		 OR C	;
 64)   914C 20 F5       		 JR NZ, I2CRWT_AGN	;
 65)   914E C1          		I2CRWT_OK: POP BC	;
 66)   914F DB 70       		 IN A, (DI2C_STA)       ;VALID HERE	;VALID HERE
 67)   9151 C9          		 RET	;
 69)   9152 DB 73       		I2C_RDSTAT_NW: IN A, (DI2C_CON)      ;READ CONTROL REGISTER BIT 3 IS SI	;READ CONTROL REGISTER BIT 3 IS SI
 70)   9154 CB 5F       		 BIT 3, A        ;CHECK BIT 3 SI	;CHECK BIT 3 SI
 71)   9156 3E FF       		 LD A, $FF        ;$FF=INVALID STATUS	;$FF=INVALID STATUS
 72)   9158 C8          		 RET Z         ;BIT 3 SHOULD BE SET IF VALID STATUS	;BIT 3 SHOULD BE SET IF VALID STATUS
 73)   9159 DB 70       		 IN A, (DI2C_STA)       ;VALID HERE	;VALID HERE
 74)   915B C9          		 RET	;
 77)   915C 3E 01       		I2C_INIT: LD A, I2CADR	;
 78)   915E D3 70       		 OUT (DI2C_INDPTR), A	;
 79)   9160 3E E0       		 LD A, $E0	;
 80)   9162 D3 72       		 OUT (DI2C_INDIR), A       ;SET MY SLAVE ADDR	;SET MY SLAVE ADDR
 82)   9164 3E 40       		 LD A, $40        ;INIT	;INIT
 83)   9166 D3 73       		 OUT (DI2C_CON), A      ;	;
 84)   9168 06 FA       		 LD B, 250	;
 85)   916A CD BE 93    		 CALL DELAYMICRO	;
 86)   916D 06 FA       		 LD B, 250	;
 87)   916F CD BE 93    		 CALL DELAYMICRO       ;DELAY 500 MICROSECS	;DELAY 500 MICROSECS
 92)   9172 3E 06       		 LD A, I2CMODE	;
 93)   9174 D3 70       		 OUT (DI2C_INDPTR), A      ;SELECT I2CMODE REGISTER	;SELECT I2CMODE REGISTER
 94)   9176 3E 00       		 LD A, 0        ;SELECT MODE 0	;SELECT MODE 0
 95)   9178 D3 72       		 OUT (DI2C_INDIR), A	;
 96)   917A 3E 02       		 LD A, I2CSCLL	;
 97)   917C D3 70       		 OUT (DI2C_INDPTR), A      ;SELECT I2CMODE REGISTER	;SELECT I2CMODE REGISTER
 98)   917E 3E 9D       		 LD A, $9D        ;SELECT CLK L	;SELECT CLK L
 99)   9180 D3 72       		 OUT (DI2C_INDIR), A	;
100)   9182 3E 03       		 LD A, I2CSCLH	;
101)   9184 D3 70       		 OUT (DI2C_INDPTR), A      ;SELECT I2CMODE REGISTER	;SELECT I2CMODE REGISTER
102)   9186 3E 86       		 LD A, $86        ;SELECT CLK H	;SELECT CLK H
103)   9188 D3 72       		 OUT (DI2C_INDIR), A	;
105)   918A C9          		 RET	;
112)   918B 3E 60       		I2C_WR_BYTE: LD A, $60       ;START	;START
113)   918D D3 73       		 OUT (DI2C_CON), A	;
114)   918F CD 3F 91    		WRB_LP1: CALL I2C_RDSTAT_WT      ;WAIT FOR INTERRUPT SI=1	;WAIT FOR INTERRUPT SI=1
115)   9192 5F          		 LD E, A        ;SAVE STATUS	;SAVE STATUS
116)   9193 FE 08       		 CP MASTER_START_TXed      ;A HAS THE STATUS	;A HAS THE STATUS
117)   9195 28 21       		 JR Z, WRB_S1	;
118)   9197 FE 10       		 CP MASTER_RESTART_TXed	;
119)   9199 28 1D       		 JR Z, WRB_S1	;
120)   919B FE 28       		 CP MASTER_DATA_W_ACK	;
121)   919D 28 26       		 JR Z, WRB_S2	;
122)   919F FE 18       		 CP MASTER_SLA_W_ACK	;
123)   91A1 28 23       		 JR Z, WRB_S3	;
124)   91A3 FE 20       		 CP MASTER_SLA_W_NAK	;
125)   91A5 28 2D       		 JR Z, WRB_EXIT	;
126)   91A7 FE 30       		 CP MASTER_DATA_W_NAK	;
127)   91A9 28 29       		 JR Z, WRB_EXIT	;
128)   91AB FE 38       		 CP MASTER_ARB_LOST	;
129)   91AD C8          		 RET Z	;
130)   91AE FE B0       		 CP SLAVE_AL_ADDRESSED_R	;
131)   91B0 C8          		 RET Z	;
132)   91B1 FE 68       		 CP SLAVE_AL_ADDRESSED_W	;
133)   91B3 C8          		 RET Z	;
134)   91B4 FE D8       		 CP SLAVE_GENERALCALL_AL	;
135)   91B6 C8          		 RET Z	;
136)   91B7 C9          		 RET	;
138)   91B8 7A          		WRB_S1: LD A, D        ;DEVICE ADDR	;DEVICE ADDR
139)   91B9 CB 27       		 SLA A	;
140)   91BB E6 FE       		 AND $FE        ;ADDR+WRITE ON D0=0	;ADDR+WRITE ON D0=0
141)   91BD D3 71       		 OUT (DI2C_DAT), A	;
142)   91BF 3E 40       		 LD A, $40	;
143)   91C1 D3 73       		 OUT (DI2C_CON), A	;
144)   91C3 18 CA       		 JR WRB_LP1	;
145)   91C5 0B          		WRB_S2: DEC BC	;
146)   91C6 78          		WRB_S3: LD A, B	;
147)   91C7 B1          		 OR C	;
148)   91C8 28 0A       		 JR Z, WRB_EXIT	;
149)   91CA 7E          		 LD A, (HL)	;
150)   91CB 23          		 INC HL	;
151)   91CC D3 71       		 OUT (DI2C_DAT), A	;
152)   91CE 3E 40       		 LD A, $40	;
153)   91D0 D3 73       		 OUT (DI2C_CON), A	;
154)   91D2 18 BB       		 JR WRB_LP1	;
156)   91D4 3E 50       		WRB_EXIT: LD A, $50       ;STOP	;STOP
157)   91D6 D3 73       		 OUT (DI2C_CON), A	;
158)   91D8 78          		 LD A, B	;
159)   91D9 B1          		 OR C	;
160)   91DA C9          		 RET         ;IF A NOT ZERO THEN ERROR	;IF A NOT ZERO THEN ERROR
166)   91DB 78          		I2C_RD_BYTE: LD A, B	;
167)   91DC B1          		 OR C	;
168)   91DD C8          		 RET Z        ;RETURN IF ZERO BYTE COUNT	;RETURN IF ZERO BYTE COUNT
169)   91DE 3E 60       		 LD A, $60	;
170)   91E0 D3 73       		 OUT (DI2C_CON), A	;
171)   91E2 CD 3F 91    		RDB_LP1: CALL I2C_RDSTAT_WT      ;WAIT FOR INTERRUPT SI=1	;WAIT FOR INTERRUPT SI=1
172)   91E5 1E 00       		 LD E, 0	;
173)   91E7 FE 08       		 CP MASTER_START_TXed	;
174)   91E9 28 1F       		 JR Z, RDB_S1	;
176)   91EB 28 1D       		 JR Z, RDB_S1	;
177)   91ED FE 58       		 CP MASTER_DATA_R_NAK	;
178)   91EF 28 26       		 JR Z, RDB_S2	;
179)   91F1 FE 50       		 CP MASTER_DATA_R_ACK	;
180)   91F3 28 24       		 JR Z, RDB_S3	;
181)   91F5 FE 40       		 CP MASTER_SLA_R_ACK	;
182)   91F7 28 25       		 JR Z, RDB_S4	;
183)   91F9 FE 48       		 CP MASTER_SLA_R_NAK	;
184)   91FB 28 38       		 JR Z, RDB_EXIT	;
185)   91FD FE 38       		 CP MASTER_ARB_LOST	;
186)   91FF C8          		 RET Z	;
187)   9200 FE B0       		 CP SLAVE_AL_ADDRESSED_R	;
188)   9202 C8          		 RET Z	;
189)   9203 FE 68       		 CP SLAVE_AL_ADDRESSED_W	;
190)   9205 C8          		 RET Z	;
191)   9206 FE D8       		 CP SLAVE_GENERALCALL_AL	;
192)   9208 C8          		 RET Z	;
193)   9209 C9          		 RET	;
196)   920A 7A          		RDB_S1: LD A, D        ;DEVICE ADDR	;DEVICE ADDR
197)   920B CB 27       		 SLA A	;
198)   920D F6 01       		 OR $01         ;ADDR + READ COMMAND	;ADDR + READ COMMAND
199)   920F D3 71       		 OUT (DI2C_DAT), A	;
200)   9211 3E 40       		 LD A, $40	;
201)   9213 D3 73       		 OUT (DI2C_CON), A	;
202)   9215 18 CB       		 JR RDB_LP1	;
203)   9217 1E 01       		RDB_S2: LD E, 1        ;MEANS WE EXIT	;MEANS WE EXIT
204)   9219 DB 71       		RDB_S3: IN A, (DI2C_DAT)       ;READ DATA	;READ DATA
205)   921B 77          		 LD (HL), A	;
206)   921C 23          		 INC HL	;
207)   921D 0B          		 DEC BC	;
208)   921E 78          		RDB_S4: LD A, B        ; IS LENGTH 0	; IS LENGTH 0
209)   921F B1          		 OR C	;
210)   9220 28 13       		 JR Z, RDB_EXIT	;
211)   9222 7B          		 LD A, E	;
212)   9223 FE 01       		 CP 1	;
213)   9225 28 0E       		 JR Z, RDB_EXIT	;
214)   9227 78          		 LD A, B	;
215)   9228 81          		 ADD C	;
216)   9229 FE 01       		 CP 1	;
217)   922B 3E 40       		 LD A, $40	;
218)   922D 28 02       		 JR Z, RDB_NXT1	;
219)   922F 3E C0       		 LD A, $C0	;
220)   9231 D3 73       		RDB_NXT1: OUT (DI2C_CON), A      ;WRITE $40 IF BYTE COUNT BC=1 ELSE WRITE $C0	;WRITE $40 IF BYTE COUNT BC=1 ELSE WRITE $C0
221)   9233 18 AD       		 JR RDB_LP1	;
223)   9235 3E 50       		RDB_EXIT: LD A, $50	;
224)   9237 D3 73       		 OUT (DI2C_CON), A	;
225)   9239 78          		 LD A, B	;
226)   923A B1          		 OR C	;
227)   923B C9          		 RET         ;IF A NOT ZERO THEN ERROR	;IF A NOT ZERO THEN ERROR
112)   923C 16 00       		LCD16_WR4BITS: LD D, 0       ;PIN MAP VALUES FRO 8574 BIT 0-7	;PIN MAP VALUES FRO 8574 BIT 0-7
114)   923E 0F          		 RRCA         ;D4 = D0,D5=D1,D6=D2,D7=D3	;D4 = D0,D5=D1,D6=D2,D7=D3
115)   923F 30 02       		 JR NC, LWNXT1        ;BIT 0 NOT SET JR	;BIT 0 NOT SET JR
116)   9241 CB E2       		 SET D4, D	;
117)   9243 0F          		LWNXT1: RRCA	;
118)   9244 30 02       		 JR NC, LWNXT2        ;BIT 1 NOT SET JR	;BIT 1 NOT SET JR
119)   9246 CB EA       		 SET D5, D	;
120)   9248 0F          		LWNXT2: RRCA	;
121)   9249 30 02       		 JR NC, LWNXT3        ;BIT 2 NOT SET JR	;BIT 2 NOT SET JR
122)   924B CB F2       		 SET D6, D	;
123)   924D 0F          		LWNXT3: RRCA	;
124)   924E 30 02       		 JR NC, LWNXT4        ;BIT 3 NOT SET JR	;BIT 3 NOT SET JR
125)   9250 CB FA       		 SET D7, D	;
126)   9252 7B          		LWNXT4: LD A, E	;
127)   9253 0F          		 RRCA	;
128)   9254 30 02       		 JR NC, LWNXT5	;
129)   9256 CB C2       		 SET RS, D	;
131)   9258 3A 81 00    		 LD A,(LCD_STSMASK)       ;ADD THE BACKLIGHT MASKS  	;ADD THE BACKLIGHT MASKS
132)   925B B2          		 OR D	;
133)   925C 57          		 LD D,A	;
135)   925D CB D2       		 SET EN, D        ;EN=HIGH	;EN=HIGH
136)   925F 7A          		 LD A, D	;
137)   9260 CD 6A 92    		 CALL LCD16_I2CSEND	;
138)   9263 CB 92       		 RES EN, D        ;EN=LOW	;EN=LOW
139)   9265 7A          		 LD A, D	;
140)   9266 CD 6A 92    		 CALL LCD16_I2CSEND	;
141)   9269 C9          		 RET	;
145)   926A D5          		LCD16_I2CSEND: PUSH DE	;
146)   926B E5          		 PUSH HL	;
147)   926C 21 83 00    		 LD HL, BUFFER	;
148)   926F 77          		 LD (HL), A	;
149)   9270 16 27       		 LD D, LCDADDR	;
150)   9272 01 01 00    		 LD BC, 1	;
151)   9275 CD 8B 91    		 CALL I2C_WRITE	;
152)   9278 E1          		 POP HL	;
153)   9279 D1          		 POP DE	;
154)   927A C9          		 RET	;
157)   927B 1E 00       		LCD16_COMMD: LD E, COMMAND	;
158)   927D 18 02       		 JR LCD16_SEND	;
161)   927F 1E 01       		LCD16_DATA: LD E, LCD_DATA 	;
164)   9281 57          		LCD16_SEND: LD D, A       ;SAVE A FOR LATER USE	;SAVE A FOR LATER USE
165)   9282 7B          		 LD A, E	;
166)   9283 0F          		 RRCA	;
167)   9284 38 07       		 JR C, ISCMDDATA	;
168)   9286 0F          		 RRCA	;
169)   9287 30 04       		 JR NC, ISCMDDATA	;
171)   9289 1E 00       		 LD E, COMMAND        ;SEND 4 BITS AS COMMAND E=0	;SEND 4 BITS AS COMMAND E=0
172)   928B 18 0E       		 JR LCSD_4BIT	;
173)   928D 7A          		ISCMDDATA: LD A, D	;
174)   928E CB 3F       		 SRL A	;
175)   9290 CB 3F       		 SRL A	;
176)   9292 CB 3F       		 SRL A	;
177)   9294 CB 3F       		 SRL A	;
178)   9296 D5          		 PUSH DE	;
179)   9297 CD 3C 92    		 CALL LCD16_WR4BITS      ;HIGH 4 BITS FIRST	;HIGH 4 BITS FIRST
180)   929A D1          		 POP DE	;
181)   929B 7A          		LCSD_4BIT: LD A, D	;
182)   929C E6 0F       		 AND $0F	;
183)   929E CD 3C 92    		 CALL LCD16_WR4BITS      ;LOW 4 BITS NEXT	;LOW 4 BITS NEXT
184)   92A1 C9          		 RET	;
186)   92A2 3E 03       		@LCD16_INIT: LD A, 3       ;SET LCD TO 4BIT MODE	;SET LCD TO 4BIT MODE
187)   92A4 1E 02       		 LD E, FOUR_BITS	;
188)   92A6 CD 81 92    		 CALL LCD16_SEND	;
189)   92A9 01 00 30    		 LD BC, $3000	;
190)   92AC CD 82 94    		 CALL PAUSE_LOOP       ;DELAY 4,5ms	;DELAY 4,5ms
191)   92AF 3E 03       		 LD A, 3	;
192)   92B1 1E 02       		 LD E, FOUR_BITS	;
193)   92B3 CD 81 92    		 CALL LCD16_SEND	;
194)   92B6 01 00 30    		 LD BC, $3000	;
195)   92B9 CD 82 94    		 CALL PAUSE_LOOP       ;DELAY 4,5ms	;DELAY 4,5ms
196)   92BC 3E 03       		 LD A, 3	;
197)   92BE 1E 02       		 LD E, FOUR_BITS	;
198)   92C0 CD 81 92    		 CALL LCD16_SEND	;
199)   92C3 01 00 30    		 LD BC, $3000	;
200)   92C6 CD 82 94    		 CALL PAUSE_LOOP       ;DELAY 4,5ms	;DELAY 4,5ms
201)   92C9 3E 02       		 LD A, 2        ;PUT 4 BIT MODE	;PUT 4 BIT MODE
202)   92CB 1E 02       		 LD E, FOUR_BITS	;
203)   92CD CD 81 92    		 CALL LCD16_SEND	;
204)   92D0 01 00 30    		 LD BC, $3000	;
205)   92D3 CD 82 94    		 CALL PAUSE_LOOP       ;DELAY 4,5ms	;DELAY 4,5ms
207)   92D6 3E 28       		 LD A, LCD_FUNCTIONSET OR LCD_2LINE	;
208)   92D8 CD 7B 92    		 CALL LCD16_COMMD	;
209)   92DB 3E 02       		 LD A, LCD_DISPLAYON OR LCD_CURSOROFF OR LCD_BLINKOFF	;
210)   92DD 32 7F 00    		 LD (LCD_DSPCTRL), A	;
211)   92E0 CD 08 93    		 CALL LCD16_DISP	;
212)   92E3 CD 23 93    		 CALL LCD16_CLR	;
213)   92E6 3E 02       		 LD A, LCD_ENTRYLEFT OR LCD_ENTRYSHIFTDECREMENT	;
214)   92E8 32 80 00    		 LD (LCD_DSPMODE), A	;
215)   92EB F6 04       		 OR LCD_ENTRYMODESET	;
216)   92ED CD 7B 92    		 CALL LCD16_COMMD	;
217)   92F0 01 00 30    		 LD BC, $3000	;
218)   92F3 CD 82 94    		 CALL PAUSE_LOOP       ;DELAY 4,5ms	;DELAY 4,5ms
219)   92F6 CD A6 93    		 CALL LCD16_BKLTON      ;BACKLIGHT ON BY DEFAULT	;BACKLIGHT ON BY DEFAULT
220)   92F9 C9          		 RET	;
222)   92FA 3A 7F 00    		@LCD16_NODISP: LD A, (LCD_DSPCTRL)	;
223)   92FD CB 97       		 RES LCD_DISPLAYON, A	;
224)   92FF 32 7F 00    		 LD (LCD_DSPCTRL), A	;
225)   9302 F6 08       		 OR LCD_DISPLAYCONTROL	;
226)   9304 CD 7B 92    		 CALL LCD16_COMMD	;
227)   9307 C9          		 RET	;
228)   9308 3A 7F 00    		@LCD16_DISP: LD A, (LCD_DSPCTRL)	;
229)   930B CB D7       		 SET LCD_DISPLAYON, A	;
230)   930D 32 7F 00    		 LD (LCD_DSPCTRL), A	;
231)   9310 F6 08       		 OR LCD_DISPLAYCONTROL	;
232)   9312 CD 7B 92    		 CALL LCD16_COMMD	;
233)   9315 C9          		 RET	;
235)   9316 01 D0 07    		LCDDELAY: LD BC, HOME_CLEAR_EXEC	;
236)   9319 C5          		LCLR_AGN1: PUSH BC	;
237)   931A CD BE 93    		 CALL DELAYMICRO	;
238)   931D C1          		 POP BC	;
239)   931E 0D          		 DEC C	;
240)   931F E2 19 93    		 JP PO, LCLR_AGN1	;
241)   9322 C9          		 RET	;
243)   9323 3E 01       		@LCD16_CLR: LD A, LCD_CLEARDISPLAY      ;clear display, set cursor position to zero	;clear display, set cursor position to zero
244)   9325 CD 7B 92    		 CALL LCD16_COMMD	;
245)   9328 CD 16 93    		 CALL LCDDELAY	;
246)   932B C9          		 RET	;
249)   932C 7E          		@LCD16_PRINT: LD A, (HL)	;
250)   932D FE 00       		 CP 0	;
251)   932F C8          		 RET Z	;
252)   9330 CD 7F 92    		 CALL LCD16_DATA	;
253)   9333 23          		 INC HL	;
254)   9334 18 F6       		 JR LCD16_PRINT	;
257)   9336 CD 7F 92    		@LCD16_PRCHR: CALL LCD16_DATA	;
258)   9339 C9          		 RET	;
260)   933A 3E 02       		@LCD16_HOME: LD A, LCD_RETURNHOME	;
261)   933C CD 7B 92    		 CALL LCD16_COMMD	;
262)   933F CD 16 93    		 CALL LCDDELAY	;
263)   9342 C9          		 RET	;
266)   9343 00 40 14 54 		ROWOFFSET: DB $00,$40,$14,$54	;
267)   9347 06 00       		@LCD16_SETCURS: LD B, 0	;
268)   9349 4B          		 LD C, E	;
269)   934A 21 43 93    		 LD HL, ROWOFFSET	;
270)   934D 09          		 ADD HL, BC	;
271)   934E 7E          		 LD A, (HL)	;
272)   934F 82          		 ADD D	;
273)   9350 F6 80       		 OR LCD_SETDDRAMADDR	;
274)   9352 CD 7B 92    		 CALL LCD16_COMMD	;
275)   9355 C9          		 RET	;
277)   9356 3A 7F 00    		@LCD16_CURSOFF: LD A, (LCD_DSPCTRL)	;
278)   9359 CB 8F       		 RES LCD_CURSORON, A	;
279)   935B 32 7F 00    		 LD (LCD_DSPCTRL), A	;
280)   935E F6 08       		 OR LCD_DISPLAYCONTROL	;
281)   9360 CD 7B 92    		 CALL LCD16_COMMD	;
282)   9363 C9          		 RET	;
285)   9364 3A 7F 00    		@LCD16_CURSON: LD A, (LCD_DSPCTRL)	;
286)   9367 CB CF       		 SET LCD_CURSORON, A	;
287)   9369 32 7F 00    		 LD (LCD_DSPCTRL), A	;
288)   936C F6 08       		 OR LCD_DISPLAYCONTROL	;
289)   936E CD 7B 92    		 CALL LCD16_COMMD	;
290)   9371 C9          		 RET	;
292)   9372 3A 7F 00    		@LCD16_BLINKOFF: LD A, (LCD_DSPCTRL)	;
293)   9375 CB 87       		 RES LCD_BLINKON, A	;
294)   9377 32 7F 00    		 LD (LCD_DSPCTRL), A	;
295)   937A F6 08       		 OR LCD_DISPLAYCONTROL	;
296)   937C CD 7B 92    		 CALL LCD16_COMMD	;
297)   937F C9          		 RET	;
300)   9380 3A 7F 00    		@LCD16_BLINKON: LD A, (LCD_DSPCTRL)	;
301)   9383 CB C7       		 SET LCD_BLINKON, A	;
302)   9385 32 7F 00    		 LD (LCD_DSPCTRL), A	;
303)   9388 F6 08       		 OR LCD_DISPLAYCONTROL	;
304)   938A CD 7B 92    		 CALL LCD16_COMMD	;
305)   938D C9          		 RET	;
307)   938E 3E 18       		@LCD16_SCRLEFT: LD A, LCD_CURSORSHIFT OR LCD_DISPLAYMOVE OR LCD_MOVELEFT	;
308)   9390 CD 7B 92    		 CALL LCD16_COMMD	;
309)   9393 C9          		 RET	;
311)   9394 3E 1C       		@LCD16_SCRRIGHT: LD A, LCD_CURSORSHIFT OR LCD_DISPLAYMOVE OR LCD_MOVERIGHT	;
312)   9396 CD 7B 92    		 CALL LCD16_COMMD	;
313)   9399 C9          		 RET	;
315)   939A 3E 10       		@LCD16_MOVLEFT: LD A, LCD_CURSORSHIFT OR LCD_CURSORMOVE OR LCD_MOVELEFT	;
316)   939C CD 7B 92    		 CALL LCD16_COMMD	;
317)   939F C9          		 RET	;
319)   93A0 3E 14       		@LCD16_MOVRIGHT: LD A, LCD_CURSORSHIFT OR LCD_CURSORMOVE OR LCD_MOVERIGHT	;
320)   93A2 CD 7B 92    		 CALL LCD16_COMMD	;
321)   93A5 C9          		 RET	;
324)   93A6 3E 08       		@LCD16_BKLTON: LD A, BACKLIGHTPINMASK AND LCD_BACKLIGHT	;
325)   93A8 32 81 00    		 LD (LCD_STSMASK),A	;
326)   93AB CD 6A 92    		 CALL LCD16_I2CSEND	;
327)   93AE C9          		 RET	;
329)   93AF 3E 00       		@LCD16_BKLTOFF: LD A, BACKLIGHTPINMASK AND LCD_NOBACKLIGHT	;
330)   93B1 32 81 00    		 LD (LCD_STSMASK),A	;
331)   93B4 CD 6A 92    		 CALL LCD16_I2CSEND	;
332)   93B7 C9          		 RET	;
 37)   93B8 F5          		DELAYMICROSEC: PUSH AF	;
 38)   93B9 D5          		 PUSH DE	;
 39)   93BA 1B          		 DEC DE	;
 40)   93BB D1          		 POP DE	;
 41)   93BC F1          		 POP AF	;
 42)   93BD C9          		 RET	;
 45)   93BE CD B8 93    		S21: CALL DELAYMICROSEC	;
 46)   93C1 10 FB       		 DJNZ S21	;
 47)   93C3 C9          		 RET	;
 51)   93C4 F5          		DELAYMILISEC: PUSH AF	;
 52)   93C5 D5          		 PUSH DE	;
 53)   93C6 11 2C 01    		 LD DE, 300        ;2000 1 MILISEC =300 ON 8MHZ SO 30= 0.1 MILISECS = 100 MICROSECS	;2000 1 MILISEC =300 ON 8MHZ SO 30= 0.1 MILISECS = 100 MICROSECS
 54)   93C9 1B          		DEL1: DEC DE	;
 55)   93CA 7A          		 LD A, D        ;TEST FOR DE=00	;TEST FOR DE=00
 56)   93CB B3          		 OR E	;
 57)   93CC 20 FB       		 JR NZ, DEL1	;
 58)   93CE D1          		 POP DE	;
 59)   93CF F1          		 POP AF	;
 60)   93D0 C9          		 RET	;
 63)   93D1 06 50       		 LD B, 80	;
 65)   93D3 CD C4 93    		S1: CALL DELAYMILISEC	;
 66)   93D6 10 FB       		 DJNZ S1	;
 67)   93D8 C9          		 RET	;
 72)   93D9 C5          		@DELAYSEC: PUSH BC	;
 73)   93DA 01 E8 03    		 LD BC, 1000	;
 74)   93DD C5          		MYDLAGN: PUSH BC	;
 75)   93DE CD C4 93    		 CALL DELAY        ;1MS ON 8 MHZ	;1MS ON 8 MHZ
 76)   93E1 C1          		 POP BC	;
 77)   93E2 0B          		 DEC BC	;
 78)   93E3 78          		 LD A, B	;
 79)   93E4 B1          		 OR C	;
 80)   93E5 20 F6       		 JR NZ, MYDLAGN	;
 81)   93E7 C1          		 POP BC	;
 82)   93E8 10 EF       		 DJNZ DELAYSEC	;
 83)   93EA C9          		 RET	;
 88)   93EB F5          		OUTASC: PUSH AF	;
 89)   93EC D5          		 PUSH DE	;
 90)   93ED CD 20 94    		 CALL B2Bcd	;
 91)   93F0 D1          		 POP DE	;
 92)   93F1 CD 46 94    		 CALL BCD2HA	;
 93)   93F4 F1          		 POP AF	;
 94)   93F5 C9          		 RET	;
108)   93F6 B7          		BCD2BN: OR A	;
109)   93F7 47          		 LD B, A	;
110)   93F8 E6 F0       		 AND $F0	;
111)   93FA 0F          		 RRCA	;
112)   93FB 4F          		 LD C, A	;
113)   93FC 0F          		 RRCA	;
114)   93FD 0F          		 RRCA	;
115)   93FE 81          		 ADD A, C	;
116)   93FF 4F          		 LD C, A	;
117)   9400 78          		 LD A, B	;
118)   9401 E6 0F       		 AND $0F	;
119)   9403 81          		 ADD A, C	;
120)   9404 C9          		 RET	;
135)   9405 26 FF       		BN2BCD: LD H, $FF	;
136)   9407 24          		D100LP: INC H	;
137)   9408 D6 64       		 SUB 100	;
138)   940A 30 FB       		 JR NC, D100LP	;
139)   940C C6 64       		 ADD A, 100	;
140)   940E 2E FF       		 LD L, $FF	;
141)   9410 2C          		D10LP: INC L	;
142)   9411 D6 0A       		 SUB 10	;
143)   9413 30 FB       		 JR NC, D10LP	;
144)   9415 C6 0A       		 ADD A, 10	;
145)   9417 4F          		 LD C, A	;
146)   9418 7D          		 LD A, L	;
147)   9419 07          		 RLCA	;
148)   941A 07          		 RLCA	;
149)   941B 07          		 RLCA	;
150)   941C 07          		 RLCA	;
151)   941D B1          		 OR C	;
152)   941E 6F          		 LD L, A	;
153)   941F C9          		 RET	;
167)   9420 01 00 10    		 LD BC, 16 * 256 + 0       ; handle 16 bits, one bit per iteration	; handle 16 bits, one bit per iteration
168)   9423 11 00 00    		 LD DE, 0	;
170)   9426 29          		 ADD HL, HL	;
171)   9427 7B          		 LD A, E	;
172)   9428 8F          		 ADC A, A	;
173)   9429 27          		 DAA	;
174)   942A 5F          		 LD E, A	;
175)   942B 7A          		 LD A, D	;
176)   942C 8F          		 ADC A, A	;
177)   942D 27          		 DAA	;
178)   942E 57          		 LD D, A	;
179)   942F 79          		 LD A, C	;
180)   9430 8F          		 ADC A, A	;
181)   9431 27          		 DAA	;
182)   9432 4F          		 LD C, A	;
183)   9433 10 F1       		 DJNZ cvtLp	;
184)   9435 EB          		 EX DE, HL	;
185)   9436 C9          		 RET	;
199)   9437 B7          		BCD2BN: OR A	;
200)   9438 47          		 LD B, A	;
201)   9439 E6 F0       		 AND $F0	;
202)   943B 0F          		 RRCA	;
203)   943C 4F          		 LD C, A	;
204)   943D 0F          		 RRCA	;
205)   943E 0F          		 RRCA	;
206)   943F 81          		 ADD A, C	;
207)   9440 4F          		 LD C, A	;
208)   9441 78          		 LD A, B	;
209)   9442 E6 0F       		 AND $0F	;
210)   9444 81          		 ADD A, C	;
211)   9445 C9          		 RET	;
223)   9446 79          		 LD A, C	;
224)   9447 CD 73 94    		 CALL cvtUN	;
225)   944A 79          		 LD A, C	;
226)   944B CD 77 94    		 CALL cvtLN	;
227)   944E 7C          		 LD A, H	;
228)   944F CD 73 94    		 CALL cvtUN	;
229)   9452 7C          		 LD A, H	;
230)   9453 CD 77 94    		 CALL cvtLN	;
231)   9456 7D          		 LD A, L	;
232)   9457 CD 73 94    		 CALL cvtUN	;
233)   945A 7D          		 LD A, L	;
234)   945B 18 1A       		 JR cvtLN	;
236)   945D 1F          		 RRA         ; move upper nibble into lower nibble	; move upper nibble into lower nibble
237)   945E 1F          		 RRA	;
238)   945F 1F          		 RRA	;
239)   9460 1F          		 RRA	;
241)   9461 E6 0F       		 AND 0Fh        ; isolate lower nibble	; isolate lower nibble
242)   9463 C6 90       		 ADD A, 90h        ; old trick	; old trick
243)   9465 27          		 DAA         ; for converting	; for converting
244)   9466 CE 40       		 ADC A, 40h        ; one nibble	; one nibble
245)   9468 27          		 DAA         ; to hex ASCII	; to hex ASCII
246)   9469 12          		 LD (DE), A	;
247)   946A 13          		 INC DE	;
248)   946B C9          		 RET	;
260)   946C 7D          		 LD A, L	;
261)   946D CD 5D 94    		 CALL cvtUN	;
262)   9470 7D          		 LD A, L	;
263)   9471 18 EE       		 JR cvtLN	;
265)   9473 1F          		 RRA         ; move upper nibble into lower nibble	; move upper nibble into lower nibble
266)   9474 1F          		 RRA	;
267)   9475 1F          		 RRA	;
268)   9476 1F          		 RRA	;
270)   9477 E6 0F       		 AND 0Fh        ; isolate lower nibble	; isolate lower nibble
271)   9479 C6 90       		 ADD A, 90h        ; old trick	; old trick
272)   947B 27          		 DAA         ; for converting	; for converting
273)   947C CE 40       		 ADC A, 40h        ; one nibble	; one nibble
274)   947E 27          		 DAA         ; to hex ASCII	; to hex ASCII
275)   947F 12          		 LD (DE), A	;
276)   9480 13          		 INC DE	;
277)   9481 C9          		 RET	;
294)   9482 F5          		 PUSH AF        ; 11 T-states	; 11 T-states
296)   9483 ED 44       		 NEG         ; 8 T-states	; 8 T-states
297)   9485 ED 44       		 NEG         ; 8 T-states	; 8 T-states
298)   9487 ED 44       		 NEG         ; 8 T-states	; 8 T-states
299)   9489 ED 44       		 NEG         ; 8 T-states	; 8 T-states
300)   948B 0B          		 DEC BC         ; 6 T-states	; 6 T-states
301)   948C 79          		 LD A, C        ; 9 T-states	; 9 T-states
302)   948D B0          		 OR B         ; 4 T-states	; 4 T-states
303)   948E C2 83 94    		 JP NZ, pau_lp        ; 10 T-states	; 10 T-states
304)   9491 F1          		 POP AF         ; 10 T-states	; 10 T-states
305)   9492 C9          		 RET         ; Pause complete, RETurn	; Pause complete, RETurn
343)   9493 26 00       		@B2D8: LD H, 0	;
344)   9495 6F          		 LD L, A	;
345)   9496 1E 00       		@B2D16: LD E, 0	;
346)   9498 16 00       		@B2D24: LD D, 0	;
347)   949A 01 00 00    		@B2D32: LD BC, 0	;
348)   949D DD 21 00 00 		@B2D48: LD IX, 0        ; zero all non-used bits	; zero all non-used bits
349)   94A1 22 C4 00    		@B2D64: LD (B2DINV), HL	;
350)   94A4 ED 53 C6 00 		 LD (B2DINV + 2), DE	;
351)   94A8 ED 43 C8 00 		 LD (B2DINV + 4), BC	;
352)   94AC DD 22 CA 00 		 LD (B2DINV + 6), IX       ; place full 64-bit input value in buffer	; place full 64-bit input value in buffer
353)   94B0 21 CC 00    		 LD HL, B2DBUF	;
354)   94B3 11 CD 00    		 LD DE, B2DBUF + 1	;
355)   94B6 36 20       		 LD (HL), ' '	;
357)   94B8 01 12 00    		 LD BC, 18	;
358)   94BB ED B0       		 LDIR         ; fill 1st 19 bytes of buffer with spaces	; fill 1st 19 bytes of buffer with spaces
359)   94BD ED 43 DF 00 		 LD (B2DEND - 1), BC       ;set BCD value to "0" & place terminating 0	;set BCD value to "0" & place terminating 0
360)   94C1 1E 01       		 LD E, 1        ; no. of bytes in BCD value	; no. of bytes in BCD value
361)   94C3 21 CC 00    		 LD HL, B2DINV + 8       ; (address MSB input)+1	; (address MSB input)+1
362)   94C6 01 09 09    		 LD BC, 0x0909	;
363)   94C9 AF          		 XOR A	;
364)   94CA 05          		B2DSKP0: DEC B	;
365)   94CB 28 29       		 JR Z, B2DSIZ        ; all 0: continue with postprocessing	; all 0: continue with postprocessing
366)   94CD 2B          		 DEC HL	;
367)   94CE B6          		 OR (HL)        ; find first byte <>0	; find first byte <>0
368)   94CF 28 F9       		 JR Z, B2DSKP0	;
369)   94D1 0D          		B2DFND1: DEC C	;
370)   94D2 17          		 RLA	;
371)   94D3 30 FC       		 JR NC, B2DFND1        ; determine no. of most significant 1-bit	; determine no. of most significant 1-bit
372)   94D5 1F          		 RRA	;
373)   94D6 57          		 LD D, A        ; byte from binary input value	; byte from binary input value
374)   94D7 E5          		B2DLUS2: PUSH HL	;
375)   94D8 C5          		 PUSH BC	;
376)   94D9 21 DF 00    		B2DLUS1: LD HL, B2DEND - 1      ; address LSB of BCD value	; address LSB of BCD value
377)   94DC 43          		 LD B, E        ; current length of BCD value in bytes	; current length of BCD value in bytes
378)   94DD CB 12       		 RL D         ; highest bit from input value -> carry	; highest bit from input value -> carry
379)   94DF 7E          		B2DLUS0: LD A, (HL)	;
380)   94E0 8F          		 ADC A, A	;
381)   94E1 27          		 DAA	;
382)   94E2 77          		 LD (HL), A        ; double 1 BCD byte from intermediate result	; double 1 BCD byte from intermediate result
383)   94E3 2B          		 DEC HL	;
384)   94E4 10 F9       		 DJNZ B2DLUS0        ; and go on to double entire BCD value (+carry!)	; and go on to double entire BCD value (+carry!)
385)   94E6 30 03       		 JR NC, B2DNXT	;
386)   94E8 1C          		 INC E         ; carry at MSB -> BCD value grew 1 byte larger	; carry at MSB -> BCD value grew 1 byte larger
387)   94E9 36 01       		 LD (HL), 1        ; initialize new MSB of BCD value	; initialize new MSB of BCD value
388)   94EB 0D          		B2DNXT: DEC C	;
389)   94EC 20 EB       		 JR NZ, B2DLUS1        ; repeat for remaining bits from 1 input byte	; repeat for remaining bits from 1 input byte
390)   94EE C1          		 POP BC         ; no. of remaining bytes in input value	; no. of remaining bytes in input value
391)   94EF 0E 08       		 LD C, 8        ; reset bit-counter	; reset bit-counter
392)   94F1 E1          		 POP HL         ; pointer to byte from input value	; pointer to byte from input value
393)   94F2 2B          		 DEC HL	;
394)   94F3 56          		 LD D, (HL)        ; get next group of 8 bits	; get next group of 8 bits
395)   94F4 10 E1       		 DJNZ B2DLUS2        ; and repeat until last byte from input value	; and repeat until last byte from input value
396)   94F6 21 E0 00    		B2DSIZ: LD HL, B2DEND        ; address of terminating 0	; address of terminating 0
397)   94F9 4B          		 LD C, E        ; size of BCD value in bytes	; size of BCD value in bytes
398)   94FA B7          		 OR A	;
399)   94FB ED 42       		 SBC HL, BC        ; calculate address of MSB BCD	; calculate address of MSB BCD
400)   94FD 54          		 LD D, H	;
401)   94FE 5D          		 LD E, L	;
402)   94FF ED 42       		 SBC HL, BC	;
403)   9501 EB          		 EX DE, HL        ; HL=address BCD value, DE=start of decimal value	; HL=address BCD value, DE=start of decimal value
404)   9502 41          		 LD B, C        ; no. of bytes BCD	; no. of bytes BCD
405)   9503 CB 21       		 SLA C         ; no. of bytes decimal (possibly 1 too high)	; no. of bytes decimal (possibly 1 too high)
406)   9505 3E 30       		 LD A, '0'	;
407)   9507 ED 6F       		 RLD         ; shift bits 4-7 of (HL) into bit 0-3 of A	; shift bits 4-7 of (HL) into bit 0-3 of A
408)   9509 FE 30       		 CP '0'         ; (HL) was > 9h?	; (HL) was > 9h?
409)   950B 20 06       		 JR NZ, B2DEXPH        ; if yes, start with recording high digit	; if yes, start with recording high digit
410)   950D 0D          		 DEC C         ; correct number of decimals	; correct number of decimals
411)   950E 13          		 INC DE         ; correct start address	; correct start address
412)   950F 18 04       		 JR B2DEXPL        ; continue with converting low digit	; continue with converting low digit
413)   9511 ED 6F       		B2DEXP: RLD         ; shift high digit (HL) into low digit of A	; shift high digit (HL) into low digit of A
414)   9513 12          		B2DEXPH: LD (DE), A       ; record resulting ASCII-code	; record resulting ASCII-code
415)   9514 13          		 INC DE	;
416)   9515 ED 6F       		B2DEXPL: RLD	;
417)   9517 12          		 LD (DE), A	;
418)   9518 13          		 INC DE	;
419)   9519 23          		 INC HL         ; next BCD-byte	; next BCD-byte
420)   951A 10 F5       		 DJNZ B2DEXP        ; and go on to convert each BCD-byte into 2 ASCII	; and go on to convert each BCD-byte into 2 ASCII
421)   951C ED 42       		 SBC HL, BC        ; return with HL pointing to 1st decimal	; return with HL pointing to 1st decimal
422)   951E C9          		 RET	;
426)   951F EB          		 ex de, hl        ; Get destination into DE	; Get destination into DE
427)   9520 21 CC 00    		 ld hl, B2DBUF	;
428)   9523 CD 2A 95    		 call SkipWhitespace	;
429)   9526 ED B0       		 ldir	;
430)   9528 EB          		 ex de, hl        ; Get destination into DE	; Get destination into DE
431)   9529 C9          		 ret	;
436)   952A 7E          		 ld a, (hl)	;
437)   952B FE 20       		 cp ' '	;
438)   952D C0          		 ret nz	;
439)   952E 23          		 inc hl	;
440)   952F 18 F9       		 jr SkipWhitespace	;
444)   9531 06 08       		@REVBITS: ld b, 8	;
445)   9533 6F          		 ld l, a	;
447)   9534 CB 15       		 rl l	;
448)   9536 1F          		 rra	;
449)   9537 10 FB       		 djnz REVLOOP	;
450)   9539 C9          		 RET	;
460)   953A E5          		 push hl	;
462)   953B 7E          		 ld a, (hl)	;
464)   953C FE 00       		 cp  0	;
465)   953E 28 0E       		 jr z, IsStrDecTrue	;
467)   9540 FE 30       		 cp  '0'	;
468)   9542 38 06       		 jr c, IsStrDecFalse	;
470)   9544 FE 3A       		 cp  '9'+1	;
471)   9546 38 09       		 jr c, IsStrDecContinue	;
472)   9548 FE 39       		 cp  '9'	;
475)   954A F6 01       		 or 1         ; Reset zero flag	; Reset zero flag
476)   954C E1          		 pop hl	;
477)   954D C9          		 ret	;
479)   954E BF          		 cp a         ; Set zero flag	; Set zero flag
480)   954F E1          		 pop hl	;
481)   9550 C9          		 ret	;
483)   9551 23          		 inc hl	;
484)   9552 18 E7       		 jr IsStrDec00	;
491)   9554 E5          		 push hl	;
493)   9555 7E          		 ld a, (hl)	;
495)   9556 FE 00       		 cp  0	;
496)   9558 28 14       		 jr z, IsStrHexTrue	;
498)   955A FE 30       		 cp  '0'	;
499)   955C 38 0C       		 jr c, IsStrHexFalse	;
501)   955E FE 3A       		 cp  '9'+1	;
502)   9560 38 0F       		 jr c, IsStrHexContinue	;
504)   9562 FE 30       		 cp  '0'	;
505)   9564 38 04       		 jr c, IsStrHexFalse	;
507)   9566 FE 47       		 cp  'F'+1	;
508)   9568 38 07       		 jr c, IsStrHexContinue	;
511)   956A F6 01       		 or 1         ; Reset zero flag	; Reset zero flag
512)   956C E1          		 pop hl	;
513)   956D C9          		 ret	;
515)   956E BF          		 cp a         ; Set zero flag	; Set zero flag
516)   956F E1          		 pop hl	;
517)   9570 C9          		 ret	;
519)   9571 23          		 inc hl	;
520)   9572 18 E1       		 jr IsStrHex00	;
527)   9574 AF          		 xor a	;
528)   9575 CD 7A 95    		 call loop	;
529)   9578 7A          		 ld a, d	;
530)   9579 C9          		 ret	;
532)   957A 57          		 ld d, a	;
533)   957B 7E          		 ld a, (hl)	;
534)   957C 23          		 inc hl	;
535)   957D D6 3A       		 sub '9' + 1	;
536)   957F C6 0A       		 add 10	;
537)   9581 D0          		 ret nc	;
538)   9582 5F          		 ld e, a	;
539)   9583 7A          		 ld a, d	;
540)   9584 87          		 add a, a        ;double our accumulator	;double our accumulator
541)   9585 87          		 add a, a        ;double again (now x4)	;double again (now x4)
542)   9586 82          		 add a, d        ;add the original (now x5)	;add the original (now x5)
543)   9587 87          		 add a, a        ;double again (now x10)	;double again (now x10)
544)   9588 83          		 add a, e        ;add in the incoming digit	;add in the incoming digit
545)   9589 18 EF       		 jr loop	;
553)   958B 7E          		 ld a, (hl)        ; Copy first char to A	; Copy first char to A
554)   958C CD 9C 95    		 call Hex12        ; Convert first char	; Convert first char
555)   958F 87          		 add a, a        ; Multiply by 16...	; Multiply by 16...
556)   9590 87          		 add a, a        ; ...	; ...
557)   9591 87          		 add a, a        ; ...	; ...
558)   9592 87          		 add a, a        ; ...done!	; ...done!
559)   9593 57          		 ld d, a        ; Store top 4 bits in D	; Store top 4 bits in D
560)   9594 23          		 inc hl         ; Advance to next char	; Advance to next char
561)   9595 7E          		 ld a, (hl)	;
562)   9596 CD 9C 95    		 call Hex12        ; Convert second char	; Convert second char
563)   9599 B2          		 or d         ; Add back top bits	; Add back top bits
564)   959A 23          		 inc hl         ; Advance for next guy	; Advance for next guy
565)   959B C9          		 ret	;
566)   959C D6 30       		Hex12: sub  '0'	;
567)   959E FE 0A       		 cp 10	;
568)   95A0 D8          		 ret c	;
569)   95A1 D6 07       		 sub 'A' - '0' - 10	;
570)   95A3 C9          		 ret	;
577)   95A4 CD 8B 95    		 call Read8bit	;
578)   95A7 47          		 ld b, a	;
579)   95A8 CD 8B 95    		 call Read8bit	;
580)   95AB 4F          		 ld c, a	;
581)   95AC C9          		 ret	;
589)   95AD 7E          		 ld a, (hl)	;
590)   95AE 23          		 inc hl	;
591)   95AF D6 30       		 sub '0'	;
592)   95B1 CB 27       		 sla a	;
593)   95B3 CB 27       		 sla a	;
594)   95B5 CB 27       		 sla a	;
595)   95B7 CB 27       		 sla a	;
596)   95B9 47          		 ld b, a	;
597)   95BA 7E          		 ld a, (hl)	;
598)   95BB 23          		 inc hl	;
599)   95BC D6 30       		 sub '0'	;
600)   95BE B0          		 or b	;
601)   95BF C9          		 ret	;
606)   95C0 4F          		 ld c, a        ; a = number to convert	; a = number to convert
607)   95C1 CD CD 95    		 call Num1	;
608)   95C4 77          		 ld (hl), a	;
609)   95C5 23          		 inc hl	;
610)   95C6 79          		 ld a, c	;
611)   95C7 CD D1 95    		 call Num2	;
612)   95CA 77          		 ld (hl), a	;
613)   95CB 23          		 inc hl	;
614)   95CC C9          		 ret	;
615)   95CD 1F          		Num1: rra	;
616)   95CE 1F          		 rra	;
617)   95CF 1F          		 rra	;
618)   95D0 1F          		 rra	;
619)   95D1 F6 F0       		Num2: or $F0	;
620)   95D3 27          		 daa	;
621)   95D4 C6 A0       		 add a, $A0	;
622)   95D6 CE 40       		 adc a, $40        ; Ascii hex at this point (0 to F)	; Ascii hex at this point (0 to F)
623)   95D8 C9          		 ret	;
634)   95D9 22 E1 00    		STR_SET: LD (LINESTR),HL	;
635)   95DC C9          		 RET	;
638)   95DD AF          		STR_CLR: XOR A	;
639)   95DE 32 E3 00    		 LD (LINEPOS),A	;
640)   95E1 32 E1 00    		 LD (LINESTR),A	;
641)   95E4 32 E2 00    		 LD (LINESTR+1),A	;
642)   95E7 C9          		 RET	;
645)   95E8 3A E1 00    		STR_VALID: LD A,(LINESTR)	;
646)   95EB 47          		 LD B,A	;
647)   95EC 3A E2 00    		 LD A,(LINESTR+1)	;
648)   95EF 80          		 ADD B	;
649)   95F0 B7          		 OR A	;
650)   95F1 C9          		 RET	;
656)   95F2 F5          		STR_CALCADDR: PUSH AF	;
657)   95F3 ED 5B E1 00 		 LD DE,(LINESTR)	;
658)   95F7 EB          		 EX DE,HL	;
659)   95F8 3A E3 00    		 LD A,(LINEPOS)	;
660)   95FB 4F          		 LD C,A	;
661)   95FC 06 00       		 LD B,0	;
662)   95FE 09          		 ADD HL,BC	;
663)   95FF EB          		 EX DE,HL	;
664)   9600 F1          		 POP AF	;
665)   9601 C9          		 RET	;
669)   9602 3A E3 00    		STR_NEXTPOS: LD A,(LINEPOS)	;
670)   9605 3C          		 INC A	;
671)   9606 32 E3 00    		 LD (LINEPOS),A	;
672)   9609 C9          		 RET	;
676)   960A CD F2 95    		STR_ADD: CALL STR_CALCADDR	;
677)   960D CD 02 96    		STRA_AGN: CALL STR_NEXTPOS	;
678)   9610 7E          		 LD A,(HL)	;
679)   9611 12          		 LD (DE),A	;
680)   9612 23          		 INC HL	;
681)   9613 13          		 INC DE	;
682)   9614 B7          		 OR A	;
683)   9615 C8          		 RET Z	;
684)   9616 18 F5       		 JR STRA_AGN	;
687)   9618 CD F2 95    		STR_ADDCHAR: CALL STR_CALCADDR	;
688)   961B 12          		 LD (DE),A	;
689)   961C CD 02 96    		 CALL STR_NEXTPOS	;
690)   961F 13          		 INC DE	;
691)   9620 AF          		 XOR A	;
692)   9621 12          		 LD (DE),A	;
693)   9622 C9          		 RET	;
701)   9623 26 00       		@PRINTNUM: LD H,0	;
702)   9625 6F          		 LD L,A	;
703)   9626 F5          		@PRINTNUM16: PUSH AF	;
705)   9627 11 E4 00    		 LD DE,NUMBUF	;
706)   962A CD 6C 94    		 CALL Bcd2ASC  ;FOR HEX	;FOR HEX
707)   962D 3E 68       		 LD A,'h'	;
708)   962F 12          		 LD (DE),A  	;
709)   9630 13          		 INC DE	;
710)   9631 AF          		 XOR A	;
711)   9632 12          		 LD (DE),A  	;
713)   9633 21 E4 00    		 LD HL,NUMBUF	;
714)   9636 CD F0 8A    		 CALL RS_TXT	;
715)   9639 CD 50 8B    		 CALL RS_NEWLINE	;
716)   963C F1          		 POP AF	;
717)   963D C9          		 RET	;
725)   963E E5          		@NUM_ADDZERO: PUSH HL	;
726)   963F 0E 00       		 LD C,0	;
727)   9641 7E          		AZ_AGN: LD A,(HL)   	;
728)   9642 23          		 INC HL	;
729)   9643 0C          		 INC C	;
730)   9644 FE 00       		 CP 0	;
731)   9646 20 F9       		 JR NZ,AZ_AGN	;
732)   9648 0D          		 DEC C ;EXCLUDE ZERO TERM	;EXCLUDE ZERO TERM
733)   9649 E1          		 POP HL	;
734)   964A 79          		 LD A,C	;
735)   964B B8          		 CP B	;
736)   964C C8          		 RET Z	;
738)   964D 78          		 LD A,B	;
739)   964E 91          		 SUB C	;
740)   964F D8          		 RET C ;RETURN IF CARRY MEANS WE HAVE MORE DIGITS	;RETURN IF CARRY MEANS WE HAVE MORE DIGITS
741)   9650 47          		 LD B,A	;
742)   9651 3E 30       		 LD A,'0'	;
743)   9653 2B          		AZ_AGN2: DEC HL	;
744)   9654 77          		 LD (HL),A	;
745)   9655 10 FC       		 DJNZ AZ_AGN2 	;
746)   9657 C9          		 RET	;
752)   9658 11 83 00    		@COPYFNAME: LD DE,STRGBUFF	;
753)   965B 7E          		@COPYSTRING:   LD A,(HL)	;
754)   965C 12          		 LD (DE),A	;
755)   965D FE 00       		 CP 0	;
756)   965F C8          		 RET Z  	;
757)   9660 13          		 INC DE	;
758)   9661 23          		 INC HL	;
759)   9662 18 F7       		 JR COPYSTRING	;
  1)   9664 00 00 00 00 		DS 0A000H-$	;
  1)   9668 00 00 00 00 		DS 0A000H-$	;
  1)   966C 00 00 00 00 		DS 0A000H-$	;
  1)   9670 00 00 00 00 		DS 0A000H-$	;
  1)   9674 00 00 00 00 		DS 0A000H-$	;
  1)   9678 00 00 00 00 		DS 0A000H-$	;
  1)   967C 00 00 00 00 		DS 0A000H-$	;
  1)   9680 00 00 00 00 		DS 0A000H-$	;
  1)   9684 00 00 00 00 		DS 0A000H-$	;
  1)   9688 00 00 00 00 		DS 0A000H-$	;
  1)   968C 00 00 00 00 		DS 0A000H-$	;
  1)   9690 00 00 00 00 		DS 0A000H-$	;
  1)   9694 00 00 00 00 		DS 0A000H-$	;
  1)   9698 00 00 00 00 		DS 0A000H-$	;
  1)   969C 00 00 00 00 		DS 0A000H-$	;
  1)   96A0 00 00 00 00 		DS 0A000H-$	;
  1)   96A4 00 00 00 00 		DS 0A000H-$	;
  1)   96A8 00 00 00 00 		DS 0A000H-$	;
  1)   96AC 00 00 00 00 		DS 0A000H-$	;
  1)   96B0 00 00 00 00 		DS 0A000H-$	;
  1)   96B4 00 00 00 00 		DS 0A000H-$	;
  1)   96B8 00 00 00 00 		DS 0A000H-$	;
  1)   96BC 00 00 00 00 		DS 0A000H-$	;
  1)   96C0 00 00 00 00 		DS 0A000H-$	;
  1)   96C4 00 00 00 00 		DS 0A000H-$	;
  1)   96C8 00 00 00 00 		DS 0A000H-$	;
  1)   96CC 00 00 00 00 		DS 0A000H-$	;
  1)   96D0 00 00 00 00 		DS 0A000H-$	;
  1)   96D4 00 00 00 00 		DS 0A000H-$	;
  1)   96D8 00 00 00 00 		DS 0A000H-$	;
  1)   96DC 00 00 00 00 		DS 0A000H-$	;
  1)   96E0 00 00 00 00 		DS 0A000H-$	;
  1)   96E4 00 00 00 00 		DS 0A000H-$	;
  1)   96E8 00 00 00 00 		DS 0A000H-$	;
  1)   96EC 00 00 00 00 		DS 0A000H-$	;
  1)   96F0 00 00 00 00 		DS 0A000H-$	;
  1)   96F4 00 00 00 00 		DS 0A000H-$	;
  1)   96F8 00 00 00 00 		DS 0A000H-$	;
  1)   96FC 00 00 00 00 		DS 0A000H-$	;
  1)   9700 00 00 00 00 		DS 0A000H-$	;
  1)   9704 00 00 00 00 		DS 0A000H-$	;
  1)   9708 00 00 00 00 		DS 0A000H-$	;
  1)   970C 00 00 00 00 		DS 0A000H-$	;
  1)   9710 00 00 00 00 		DS 0A000H-$	;
  1)   9714 00 00 00 00 		DS 0A000H-$	;
  1)   9718 00 00 00 00 		DS 0A000H-$	;
  1)   971C 00 00 00 00 		DS 0A000H-$	;
  1)   9720 00 00 00 00 		DS 0A000H-$	;
  1)   9724 00 00 00 00 		DS 0A000H-$	;
  1)   9728 00 00 00 00 		DS 0A000H-$	;
  1)   972C 00 00 00 00 		DS 0A000H-$	;
  1)   9730 00 00 00 00 		DS 0A000H-$	;
  1)   9734 00 00 00 00 		DS 0A000H-$	;
  1)   9738 00 00 00 00 		DS 0A000H-$	;
  1)   973C 00 00 00 00 		DS 0A000H-$	;
  1)   9740 00 00 00 00 		DS 0A000H-$	;
  1)   9744 00 00 00 00 		DS 0A000H-$	;
  1)   9748 00 00 00 00 		DS 0A000H-$	;
  1)   974C 00 00 00 00 		DS 0A000H-$	;
  1)   9750 00 00 00 00 		DS 0A000H-$	;
  1)   9754 00 00 00 00 		DS 0A000H-$	;
  1)   9758 00 00 00 00 		DS 0A000H-$	;
  1)   975C 00 00 00 00 		DS 0A000H-$	;
  1)   9760 00 00 00 00 		DS 0A000H-$	;
  1)   9764 00 00 00 00 		DS 0A000H-$	;
  1)   9768 00 00 00 00 		DS 0A000H-$	;
  1)   976C 00 00 00 00 		DS 0A000H-$	;
  1)   9770 00 00 00 00 		DS 0A000H-$	;
  1)   9774 00 00 00 00 		DS 0A000H-$	;
  1)   9778 00 00 00 00 		DS 0A000H-$	;
  1)   977C 00 00 00 00 		DS 0A000H-$	;
  1)   9780 00 00 00 00 		DS 0A000H-$	;
  1)   9784 00 00 00 00 		DS 0A000H-$	;
  1)   9788 00 00 00 00 		DS 0A000H-$	;
  1)   978C 00 00 00 00 		DS 0A000H-$	;
  1)   9790 00 00 00 00 		DS 0A000H-$	;
  1)   9794 00 00 00 00 		DS 0A000H-$	;
  1)   9798 00 00 00 00 		DS 0A000H-$	;
  1)   979C 00 00 00 00 		DS 0A000H-$	;
  1)   97A0 00 00 00 00 		DS 0A000H-$	;
  1)   97A4 00 00 00 00 		DS 0A000H-$	;
  1)   97A8 00 00 00 00 		DS 0A000H-$	;
  1)   97AC 00 00 00 00 		DS 0A000H-$	;
  1)   97B0 00 00 00 00 		DS 0A000H-$	;
  1)   97B4 00 00 00 00 		DS 0A000H-$	;
  1)   97B8 00 00 00 00 		DS 0A000H-$	;
  1)   97BC 00 00 00 00 		DS 0A000H-$	;
  1)   97C0 00 00 00 00 		DS 0A000H-$	;
  1)   97C4 00 00 00 00 		DS 0A000H-$	;
  1)   97C8 00 00 00 00 		DS 0A000H-$	;
  1)   97CC 00 00 00 00 		DS 0A000H-$	;
  1)   97D0 00 00 00 00 		DS 0A000H-$	;
  1)   97D4 00 00 00 00 		DS 0A000H-$	;
  1)   97D8 00 00 00 00 		DS 0A000H-$	;
  1)   97DC 00 00 00 00 		DS 0A000H-$	;
  1)   97E0 00 00 00 00 		DS 0A000H-$	;
  1)   97E4 00 00 00 00 		DS 0A000H-$	;
  1)   97E8 00 00 00 00 		DS 0A000H-$	;
  1)   97EC 00 00 00 00 		DS 0A000H-$	;
  1)   97F0 00 00 00 00 		DS 0A000H-$	;
  1)   97F4 00 00 00 00 		DS 0A000H-$	;
  1)   97F8 00 00 00 00 		DS 0A000H-$	;
  1)   97FC 00 00 00 00 		DS 0A000H-$	;
  1)   9800 00 00 00 00 		DS 0A000H-$	;
  1)   9804 00 00 00 00 		DS 0A000H-$	;
  1)   9808 00 00 00 00 		DS 0A000H-$	;
  1)   980C 00 00 00 00 		DS 0A000H-$	;
  1)   9810 00 00 00 00 		DS 0A000H-$	;
  1)   9814 00 00 00 00 		DS 0A000H-$	;
  1)   9818 00 00 00 00 		DS 0A000H-$	;
  1)   981C 00 00 00 00 		DS 0A000H-$	;
  1)   9820 00 00 00 00 		DS 0A000H-$	;
  1)   9824 00 00 00 00 		DS 0A000H-$	;
  1)   9828 00 00 00 00 		DS 0A000H-$	;
  1)   982C 00 00 00 00 		DS 0A000H-$	;
  1)   9830 00 00 00 00 		DS 0A000H-$	;
  1)   9834 00 00 00 00 		DS 0A000H-$	;
  1)   9838 00 00 00 00 		DS 0A000H-$	;
  1)   983C 00 00 00 00 		DS 0A000H-$	;
  1)   9840 00 00 00 00 		DS 0A000H-$	;
  1)   9844 00 00 00 00 		DS 0A000H-$	;
  1)   9848 00 00 00 00 		DS 0A000H-$	;
  1)   984C 00 00 00 00 		DS 0A000H-$	;
  1)   9850 00 00 00 00 		DS 0A000H-$	;
  1)   9854 00 00 00 00 		DS 0A000H-$	;
  1)   9858 00 00 00 00 		DS 0A000H-$	;
  1)   985C 00 00 00 00 		DS 0A000H-$	;
  1)   9860 00 00 00 00 		DS 0A000H-$	;
  1)   9864 00 00 00 00 		DS 0A000H-$	;
  1)   9868 00 00 00 00 		DS 0A000H-$	;
  1)   986C 00 00 00 00 		DS 0A000H-$	;
  1)   9870 00 00 00 00 		DS 0A000H-$	;
  1)   9874 00 00 00 00 		DS 0A000H-$	;
  1)   9878 00 00 00 00 		DS 0A000H-$	;
  1)   987C 00 00 00 00 		DS 0A000H-$	;
  1)   9880 00 00 00 00 		DS 0A000H-$	;
  1)   9884 00 00 00 00 		DS 0A000H-$	;
  1)   9888 00 00 00 00 		DS 0A000H-$	;
  1)   988C 00 00 00 00 		DS 0A000H-$	;
  1)   9890 00 00 00 00 		DS 0A000H-$	;
  1)   9894 00 00 00 00 		DS 0A000H-$	;
  1)   9898 00 00 00 00 		DS 0A000H-$	;
  1)   989C 00 00 00 00 		DS 0A000H-$	;
  1)   98A0 00 00 00 00 		DS 0A000H-$	;
  1)   98A4 00 00 00 00 		DS 0A000H-$	;
  1)   98A8 00 00 00 00 		DS 0A000H-$	;
  1)   98AC 00 00 00 00 		DS 0A000H-$	;
  1)   98B0 00 00 00 00 		DS 0A000H-$	;
  1)   98B4 00 00 00 00 		DS 0A000H-$	;
  1)   98B8 00 00 00 00 		DS 0A000H-$	;
  1)   98BC 00 00 00 00 		DS 0A000H-$	;
  1)   98C0 00 00 00 00 		DS 0A000H-$	;
  1)   98C4 00 00 00 00 		DS 0A000H-$	;
  1)   98C8 00 00 00 00 		DS 0A000H-$	;
  1)   98CC 00 00 00 00 		DS 0A000H-$	;
  1)   98D0 00 00 00 00 		DS 0A000H-$	;
  1)   98D4 00 00 00 00 		DS 0A000H-$	;
  1)   98D8 00 00 00 00 		DS 0A000H-$	;
  1)   98DC 00 00 00 00 		DS 0A000H-$	;
  1)   98E0 00 00 00 00 		DS 0A000H-$	;
  1)   98E4 00 00 00 00 		DS 0A000H-$	;
  1)   98E8 00 00 00 00 		DS 0A000H-$	;
  1)   98EC 00 00 00 00 		DS 0A000H-$	;
  1)   98F0 00 00 00 00 		DS 0A000H-$	;
  1)   98F4 00 00 00 00 		DS 0A000H-$	;
  1)   98F8 00 00 00 00 		DS 0A000H-$	;
  1)   98FC 00 00 00 00 		DS 0A000H-$	;
  1)   9900 00 00 00 00 		DS 0A000H-$	;
  1)   9904 00 00 00 00 		DS 0A000H-$	;
  1)   9908 00 00 00 00 		DS 0A000H-$	;
  1)   990C 00 00 00 00 		DS 0A000H-$	;
  1)   9910 00 00 00 00 		DS 0A000H-$	;
  1)   9914 00 00 00 00 		DS 0A000H-$	;
  1)   9918 00 00 00 00 		DS 0A000H-$	;
  1)   991C 00 00 00 00 		DS 0A000H-$	;
  1)   9920 00 00 00 00 		DS 0A000H-$	;
  1)   9924 00 00 00 00 		DS 0A000H-$	;
  1)   9928 00 00 00 00 		DS 0A000H-$	;
  1)   992C 00 00 00 00 		DS 0A000H-$	;
  1)   9930 00 00 00 00 		DS 0A000H-$	;
  1)   9934 00 00 00 00 		DS 0A000H-$	;
  1)   9938 00 00 00 00 		DS 0A000H-$	;
  1)   993C 00 00 00 00 		DS 0A000H-$	;
  1)   9940 00 00 00 00 		DS 0A000H-$	;
  1)   9944 00 00 00 00 		DS 0A000H-$	;
  1)   9948 00 00 00 00 		DS 0A000H-$	;
  1)   994C 00 00 00 00 		DS 0A000H-$	;
  1)   9950 00 00 00 00 		DS 0A000H-$	;
  1)   9954 00 00 00 00 		DS 0A000H-$	;
  1)   9958 00 00 00 00 		DS 0A000H-$	;
  1)   995C 00 00 00 00 		DS 0A000H-$	;
  1)   9960 00 00 00 00 		DS 0A000H-$	;
  1)   9964 00 00 00 00 		DS 0A000H-$	;
  1)   9968 00 00 00 00 		DS 0A000H-$	;
  1)   996C 00 00 00 00 		DS 0A000H-$	;
  1)   9970 00 00 00 00 		DS 0A000H-$	;
  1)   9974 00 00 00 00 		DS 0A000H-$	;
  1)   9978 00 00 00 00 		DS 0A000H-$	;
  1)   997C 00 00 00 00 		DS 0A000H-$	;
  1)   9980 00 00 00 00 		DS 0A000H-$	;
  1)   9984 00 00 00 00 		DS 0A000H-$	;
  1)   9988 00 00 00 00 		DS 0A000H-$	;
  1)   998C 00 00 00 00 		DS 0A000H-$	;
  1)   9990 00 00 00 00 		DS 0A000H-$	;
  1)   9994 00 00 00 00 		DS 0A000H-$	;
  1)   9998 00 00 00 00 		DS 0A000H-$	;
  1)   999C 00 00 00 00 		DS 0A000H-$	;
  1)   99A0 00 00 00 00 		DS 0A000H-$	;
  1)   99A4 00 00 00 00 		DS 0A000H-$	;
  1)   99A8 00 00 00 00 		DS 0A000H-$	;
  1)   99AC 00 00 00 00 		DS 0A000H-$	;
  1)   99B0 00 00 00 00 		DS 0A000H-$	;
  1)   99B4 00 00 00 00 		DS 0A000H-$	;
  1)   99B8 00 00 00 00 		DS 0A000H-$	;
  1)   99BC 00 00 00 00 		DS 0A000H-$	;
  1)   99C0 00 00 00 00 		DS 0A000H-$	;
  1)   99C4 00 00 00 00 		DS 0A000H-$	;
  1)   99C8 00 00 00 00 		DS 0A000H-$	;
  1)   99CC 00 00 00 00 		DS 0A000H-$	;
  1)   99D0 00 00 00 00 		DS 0A000H-$	;
  1)   99D4 00 00 00 00 		DS 0A000H-$	;
  1)   99D8 00 00 00 00 		DS 0A000H-$	;
  1)   99DC 00 00 00 00 		DS 0A000H-$	;
  1)   99E0 00 00 00 00 		DS 0A000H-$	;
  1)   99E4 00 00 00 00 		DS 0A000H-$	;
  1)   99E8 00 00 00 00 		DS 0A000H-$	;
  1)   99EC 00 00 00 00 		DS 0A000H-$	;
  1)   99F0 00 00 00 00 		DS 0A000H-$	;
  1)   99F4 00 00 00 00 		DS 0A000H-$	;
  1)   99F8 00 00 00 00 		DS 0A000H-$	;
  1)   99FC 00 00 00 00 		DS 0A000H-$	;
  1)   9A00 00 00 00 00 		DS 0A000H-$	;
  1)   9A04 00 00 00 00 		DS 0A000H-$	;
  1)   9A08 00 00 00 00 		DS 0A000H-$	;
  1)   9A0C 00 00 00 00 		DS 0A000H-$	;
  1)   9A10 00 00 00 00 		DS 0A000H-$	;
  1)   9A14 00 00 00 00 		DS 0A000H-$	;
  1)   9A18 00 00 00 00 		DS 0A000H-$	;
  1)   9A1C 00 00 00 00 		DS 0A000H-$	;
  1)   9A20 00 00 00 00 		DS 0A000H-$	;
  1)   9A24 00 00 00 00 		DS 0A000H-$	;
  1)   9A28 00 00 00 00 		DS 0A000H-$	;
  1)   9A2C 00 00 00 00 		DS 0A000H-$	;
  1)   9A30 00 00 00 00 		DS 0A000H-$	;
  1)   9A34 00 00 00 00 		DS 0A000H-$	;
  1)   9A38 00 00 00 00 		DS 0A000H-$	;
  1)   9A3C 00 00 00 00 		DS 0A000H-$	;
  1)   9A40 00 00 00 00 		DS 0A000H-$	;
  1)   9A44 00 00 00 00 		DS 0A000H-$	;
  1)   9A48 00 00 00 00 		DS 0A000H-$	;
  1)   9A4C 00 00 00 00 		DS 0A000H-$	;
  1)   9A50 00 00 00 00 		DS 0A000H-$	;
  1)   9A54 00 00 00 00 		DS 0A000H-$	;
  1)   9A58 00 00 00 00 		DS 0A000H-$	;
  1)   9A5C 00 00 00 00 		DS 0A000H-$	;
  1)   9A60 00 00 00 00 		DS 0A000H-$	;
  1)   9A64 00 00 00 00 		DS 0A000H-$	;
  1)   9A68 00 00 00 00 		DS 0A000H-$	;
  1)   9A6C 00 00 00 00 		DS 0A000H-$	;
  1)   9A70 00 00 00 00 		DS 0A000H-$	;
  1)   9A74 00 00 00 00 		DS 0A000H-$	;
  1)   9A78 00 00 00 00 		DS 0A000H-$	;
  1)   9A7C 00 00 00 00 		DS 0A000H-$	;
  1)   9A80 00 00 00 00 		DS 0A000H-$	;
  1)   9A84 00 00 00 00 		DS 0A000H-$	;
  1)   9A88 00 00 00 00 		DS 0A000H-$	;
  1)   9A8C 00 00 00 00 		DS 0A000H-$	;
  1)   9A90 00 00 00 00 		DS 0A000H-$	;
  1)   9A94 00 00 00 00 		DS 0A000H-$	;
  1)   9A98 00 00 00 00 		DS 0A000H-$	;
  1)   9A9C 00 00 00 00 		DS 0A000H-$	;
  1)   9AA0 00 00 00 00 		DS 0A000H-$	;
  1)   9AA4 00 00 00 00 		DS 0A000H-$	;
  1)   9AA8 00 00 00 00 		DS 0A000H-$	;
  1)   9AAC 00 00 00 00 		DS 0A000H-$	;
  1)   9AB0 00 00 00 00 		DS 0A000H-$	;
  1)   9AB4 00 00 00 00 		DS 0A000H-$	;
  1)   9AB8 00 00 00 00 		DS 0A000H-$	;
  1)   9ABC 00 00 00 00 		DS 0A000H-$	;
  1)   9AC0 00 00 00 00 		DS 0A000H-$	;
  1)   9AC4 00 00 00 00 		DS 0A000H-$	;
  1)   9AC8 00 00 00 00 		DS 0A000H-$	;
  1)   9ACC 00 00 00 00 		DS 0A000H-$	;
  1)   9AD0 00 00 00 00 		DS 0A000H-$	;
  1)   9AD4 00 00 00 00 		DS 0A000H-$	;
  1)   9AD8 00 00 00 00 		DS 0A000H-$	;
  1)   9ADC 00 00 00 00 		DS 0A000H-$	;
  1)   9AE0 00 00 00 00 		DS 0A000H-$	;
  1)   9AE4 00 00 00 00 		DS 0A000H-$	;
  1)   9AE8 00 00 00 00 		DS 0A000H-$	;
  1)   9AEC 00 00 00 00 		DS 0A000H-$	;
  1)   9AF0 00 00 00 00 		DS 0A000H-$	;
  1)   9AF4 00 00 00 00 		DS 0A000H-$	;
  1)   9AF8 00 00 00 00 		DS 0A000H-$	;
  1)   9AFC 00 00 00 00 		DS 0A000H-$	;
  1)   9B00 00 00 00 00 		DS 0A000H-$	;
  1)   9B04 00 00 00 00 		DS 0A000H-$	;
  1)   9B08 00 00 00 00 		DS 0A000H-$	;
  1)   9B0C 00 00 00 00 		DS 0A000H-$	;
  1)   9B10 00 00 00 00 		DS 0A000H-$	;
  1)   9B14 00 00 00 00 		DS 0A000H-$	;
  1)   9B18 00 00 00 00 		DS 0A000H-$	;
  1)   9B1C 00 00 00 00 		DS 0A000H-$	;
  1)   9B20 00 00 00 00 		DS 0A000H-$	;
  1)   9B24 00 00 00 00 		DS 0A000H-$	;
  1)   9B28 00 00 00 00 		DS 0A000H-$	;
  1)   9B2C 00 00 00 00 		DS 0A000H-$	;
  1)   9B30 00 00 00 00 		DS 0A000H-$	;
  1)   9B34 00 00 00 00 		DS 0A000H-$	;
  1)   9B38 00 00 00 00 		DS 0A000H-$	;
  1)   9B3C 00 00 00 00 		DS 0A000H-$	;
  1)   9B40 00 00 00 00 		DS 0A000H-$	;
  1)   9B44 00 00 00 00 		DS 0A000H-$	;
  1)   9B48 00 00 00 00 		DS 0A000H-$	;
  1)   9B4C 00 00 00 00 		DS 0A000H-$	;
  1)   9B50 00 00 00 00 		DS 0A000H-$	;
  1)   9B54 00 00 00 00 		DS 0A000H-$	;
  1)   9B58 00 00 00 00 		DS 0A000H-$	;
  1)   9B5C 00 00 00 00 		DS 0A000H-$	;
  1)   9B60 00 00 00 00 		DS 0A000H-$	;
  1)   9B64 00 00 00 00 		DS 0A000H-$	;
  1)   9B68 00 00 00 00 		DS 0A000H-$	;
  1)   9B6C 00 00 00 00 		DS 0A000H-$	;
  1)   9B70 00 00 00 00 		DS 0A000H-$	;
  1)   9B74 00 00 00 00 		DS 0A000H-$	;
  1)   9B78 00 00 00 00 		DS 0A000H-$	;
  1)   9B7C 00 00 00 00 		DS 0A000H-$	;
  1)   9B80 00 00 00 00 		DS 0A000H-$	;
  1)   9B84 00 00 00 00 		DS 0A000H-$	;
  1)   9B88 00 00 00 00 		DS 0A000H-$	;
  1)   9B8C 00 00 00 00 		DS 0A000H-$	;
  1)   9B90 00 00 00 00 		DS 0A000H-$	;
  1)   9B94 00 00 00 00 		DS 0A000H-$	;
  1)   9B98 00 00 00 00 		DS 0A000H-$	;
  1)   9B9C 00 00 00 00 		DS 0A000H-$	;
  1)   9BA0 00 00 00 00 		DS 0A000H-$	;
  1)   9BA4 00 00 00 00 		DS 0A000H-$	;
  1)   9BA8 00 00 00 00 		DS 0A000H-$	;
  1)   9BAC 00 00 00 00 		DS 0A000H-$	;
  1)   9BB0 00 00 00 00 		DS 0A000H-$	;
  1)   9BB4 00 00 00 00 		DS 0A000H-$	;
  1)   9BB8 00 00 00 00 		DS 0A000H-$	;
  1)   9BBC 00 00 00 00 		DS 0A000H-$	;
  1)   9BC0 00 00 00 00 		DS 0A000H-$	;
  1)   9BC4 00 00 00 00 		DS 0A000H-$	;
  1)   9BC8 00 00 00 00 		DS 0A000H-$	;
  1)   9BCC 00 00 00 00 		DS 0A000H-$	;
  1)   9BD0 00 00 00 00 		DS 0A000H-$	;
  1)   9BD4 00 00 00 00 		DS 0A000H-$	;
  1)   9BD8 00 00 00 00 		DS 0A000H-$	;
  1)   9BDC 00 00 00 00 		DS 0A000H-$	;
  1)   9BE0 00 00 00 00 		DS 0A000H-$	;
  1)   9BE4 00 00 00 00 		DS 0A000H-$	;
  1)   9BE8 00 00 00 00 		DS 0A000H-$	;
  1)   9BEC 00 00 00 00 		DS 0A000H-$	;
  1)   9BF0 00 00 00 00 		DS 0A000H-$	;
  1)   9BF4 00 00 00 00 		DS 0A000H-$	;
  1)   9BF8 00 00 00 00 		DS 0A000H-$	;
  1)   9BFC 00 00 00 00 		DS 0A000H-$	;
  1)   9C00 00 00 00 00 		DS 0A000H-$	;
  1)   9C04 00 00 00 00 		DS 0A000H-$	;
  1)   9C08 00 00 00 00 		DS 0A000H-$	;
  1)   9C0C 00 00 00 00 		DS 0A000H-$	;
  1)   9C10 00 00 00 00 		DS 0A000H-$	;
  1)   9C14 00 00 00 00 		DS 0A000H-$	;
  1)   9C18 00 00 00 00 		DS 0A000H-$	;
  1)   9C1C 00 00 00 00 		DS 0A000H-$	;
  1)   9C20 00 00 00 00 		DS 0A000H-$	;
  1)   9C24 00 00 00 00 		DS 0A000H-$	;
  1)   9C28 00 00 00 00 		DS 0A000H-$	;
  1)   9C2C 00 00 00 00 		DS 0A000H-$	;
  1)   9C30 00 00 00 00 		DS 0A000H-$	;
  1)   9C34 00 00 00 00 		DS 0A000H-$	;
  1)   9C38 00 00 00 00 		DS 0A000H-$	;
  1)   9C3C 00 00 00 00 		DS 0A000H-$	;
  1)   9C40 00 00 00 00 		DS 0A000H-$	;
  1)   9C44 00 00 00 00 		DS 0A000H-$	;
  1)   9C48 00 00 00 00 		DS 0A000H-$	;
  1)   9C4C 00 00 00 00 		DS 0A000H-$	;
  1)   9C50 00 00 00 00 		DS 0A000H-$	;
  1)   9C54 00 00 00 00 		DS 0A000H-$	;
  1)   9C58 00 00 00 00 		DS 0A000H-$	;
  1)   9C5C 00 00 00 00 		DS 0A000H-$	;
  1)   9C60 00 00 00 00 		DS 0A000H-$	;
  1)   9C64 00 00 00 00 		DS 0A000H-$	;
  1)   9C68 00 00 00 00 		DS 0A000H-$	;
  1)   9C6C 00 00 00 00 		DS 0A000H-$	;
  1)   9C70 00 00 00 00 		DS 0A000H-$	;
  1)   9C74 00 00 00 00 		DS 0A000H-$	;
  1)   9C78 00 00 00 00 		DS 0A000H-$	;
  1)   9C7C 00 00 00 00 		DS 0A000H-$	;
  1)   9C80 00 00 00 00 		DS 0A000H-$	;
  1)   9C84 00 00 00 00 		DS 0A000H-$	;
  1)   9C88 00 00 00 00 		DS 0A000H-$	;
  1)   9C8C 00 00 00 00 		DS 0A000H-$	;
  1)   9C90 00 00 00 00 		DS 0A000H-$	;
  1)   9C94 00 00 00 00 		DS 0A000H-$	;
  1)   9C98 00 00 00 00 		DS 0A000H-$	;
  1)   9C9C 00 00 00 00 		DS 0A000H-$	;
  1)   9CA0 00 00 00 00 		DS 0A000H-$	;
  1)   9CA4 00 00 00 00 		DS 0A000H-$	;
  1)   9CA8 00 00 00 00 		DS 0A000H-$	;
  1)   9CAC 00 00 00 00 		DS 0A000H-$	;
  1)   9CB0 00 00 00 00 		DS 0A000H-$	;
  1)   9CB4 00 00 00 00 		DS 0A000H-$	;
  1)   9CB8 00 00 00 00 		DS 0A000H-$	;
  1)   9CBC 00 00 00 00 		DS 0A000H-$	;
  1)   9CC0 00 00 00 00 		DS 0A000H-$	;
  1)   9CC4 00 00 00 00 		DS 0A000H-$	;
  1)   9CC8 00 00 00 00 		DS 0A000H-$	;
  1)   9CCC 00 00 00 00 		DS 0A000H-$	;
  1)   9CD0 00 00 00 00 		DS 0A000H-$	;
  1)   9CD4 00 00 00 00 		DS 0A000H-$	;
  1)   9CD8 00 00 00 00 		DS 0A000H-$	;
  1)   9CDC 00 00 00 00 		DS 0A000H-$	;
  1)   9CE0 00 00 00 00 		DS 0A000H-$	;
  1)   9CE4 00 00 00 00 		DS 0A000H-$	;
  1)   9CE8 00 00 00 00 		DS 0A000H-$	;
  1)   9CEC 00 00 00 00 		DS 0A000H-$	;
  1)   9CF0 00 00 00 00 		DS 0A000H-$	;
  1)   9CF4 00 00 00 00 		DS 0A000H-$	;
  1)   9CF8 00 00 00 00 		DS 0A000H-$	;
  1)   9CFC 00 00 00 00 		DS 0A000H-$	;
  1)   9D00 00 00 00 00 		DS 0A000H-$	;
  1)   9D04 00 00 00 00 		DS 0A000H-$	;
  1)   9D08 00 00 00 00 		DS 0A000H-$	;
  1)   9D0C 00 00 00 00 		DS 0A000H-$	;
  1)   9D10 00 00 00 00 		DS 0A000H-$	;
  1)   9D14 00 00 00 00 		DS 0A000H-$	;
  1)   9D18 00 00 00 00 		DS 0A000H-$	;
  1)   9D1C 00 00 00 00 		DS 0A000H-$	;
  1)   9D20 00 00 00 00 		DS 0A000H-$	;
  1)   9D24 00 00 00 00 		DS 0A000H-$	;
  1)   9D28 00 00 00 00 		DS 0A000H-$	;
  1)   9D2C 00 00 00 00 		DS 0A000H-$	;
  1)   9D30 00 00 00 00 		DS 0A000H-$	;
  1)   9D34 00 00 00 00 		DS 0A000H-$	;
  1)   9D38 00 00 00 00 		DS 0A000H-$	;
  1)   9D3C 00 00 00 00 		DS 0A000H-$	;
  1)   9D40 00 00 00 00 		DS 0A000H-$	;
  1)   9D44 00 00 00 00 		DS 0A000H-$	;
  1)   9D48 00 00 00 00 		DS 0A000H-$	;
  1)   9D4C 00 00 00 00 		DS 0A000H-$	;
  1)   9D50 00 00 00 00 		DS 0A000H-$	;
  1)   9D54 00 00 00 00 		DS 0A000H-$	;
  1)   9D58 00 00 00 00 		DS 0A000H-$	;
  1)   9D5C 00 00 00 00 		DS 0A000H-$	;
  1)   9D60 00 00 00 00 		DS 0A000H-$	;
  1)   9D64 00 00 00 00 		DS 0A000H-$	;
  1)   9D68 00 00 00 00 		DS 0A000H-$	;
  1)   9D6C 00 00 00 00 		DS 0A000H-$	;
  1)   9D70 00 00 00 00 		DS 0A000H-$	;
  1)   9D74 00 00 00 00 		DS 0A000H-$	;
  1)   9D78 00 00 00 00 		DS 0A000H-$	;
  1)   9D7C 00 00 00 00 		DS 0A000H-$	;
  1)   9D80 00 00 00 00 		DS 0A000H-$	;
  1)   9D84 00 00 00 00 		DS 0A000H-$	;
  1)   9D88 00 00 00 00 		DS 0A000H-$	;
  1)   9D8C 00 00 00 00 		DS 0A000H-$	;
  1)   9D90 00 00 00 00 		DS 0A000H-$	;
  1)   9D94 00 00 00 00 		DS 0A000H-$	;
  1)   9D98 00 00 00 00 		DS 0A000H-$	;
  1)   9D9C 00 00 00 00 		DS 0A000H-$	;
  1)   9DA0 00 00 00 00 		DS 0A000H-$	;
  1)   9DA4 00 00 00 00 		DS 0A000H-$	;
  1)   9DA8 00 00 00 00 		DS 0A000H-$	;
  1)   9DAC 00 00 00 00 		DS 0A000H-$	;
  1)   9DB0 00 00 00 00 		DS 0A000H-$	;
  1)   9DB4 00 00 00 00 		DS 0A000H-$	;
  1)   9DB8 00 00 00 00 		DS 0A000H-$	;
  1)   9DBC 00 00 00 00 		DS 0A000H-$	;
  1)   9DC0 00 00 00 00 		DS 0A000H-$	;
  1)   9DC4 00 00 00 00 		DS 0A000H-$	;
  1)   9DC8 00 00 00 00 		DS 0A000H-$	;
  1)   9DCC 00 00 00 00 		DS 0A000H-$	;
  1)   9DD0 00 00 00 00 		DS 0A000H-$	;
  1)   9DD4 00 00 00 00 		DS 0A000H-$	;
  1)   9DD8 00 00 00 00 		DS 0A000H-$	;
  1)   9DDC 00 00 00 00 		DS 0A000H-$	;
  1)   9DE0 00 00 00 00 		DS 0A000H-$	;
  1)   9DE4 00 00 00 00 		DS 0A000H-$	;
  1)   9DE8 00 00 00 00 		DS 0A000H-$	;
  1)   9DEC 00 00 00 00 		DS 0A000H-$	;
  1)   9DF0 00 00 00 00 		DS 0A000H-$	;
  1)   9DF4 00 00 00 00 		DS 0A000H-$	;
  1)   9DF8 00 00 00 00 		DS 0A000H-$	;
  1)   9DFC 00 00 00 00 		DS 0A000H-$	;
  1)   9E00 00 00 00 00 		DS 0A000H-$	;
  1)   9E04 00 00 00 00 		DS 0A000H-$	;
  1)   9E08 00 00 00 00 		DS 0A000H-$	;
  1)   9E0C 00 00 00 00 		DS 0A000H-$	;
  1)   9E10 00 00 00 00 		DS 0A000H-$	;
  1)   9E14 00 00 00 00 		DS 0A000H-$	;
  1)   9E18 00 00 00 00 		DS 0A000H-$	;
  1)   9E1C 00 00 00 00 		DS 0A000H-$	;
  1)   9E20 00 00 00 00 		DS 0A000H-$	;
  1)   9E24 00 00 00 00 		DS 0A000H-$	;
  1)   9E28 00 00 00 00 		DS 0A000H-$	;
  1)   9E2C 00 00 00 00 		DS 0A000H-$	;
  1)   9E30 00 00 00 00 		DS 0A000H-$	;
  1)   9E34 00 00 00 00 		DS 0A000H-$	;
  1)   9E38 00 00 00 00 		DS 0A000H-$	;
  1)   9E3C 00 00 00 00 		DS 0A000H-$	;
  1)   9E40 00 00 00 00 		DS 0A000H-$	;
  1)   9E44 00 00 00 00 		DS 0A000H-$	;
  1)   9E48 00 00 00 00 		DS 0A000H-$	;
  1)   9E4C 00 00 00 00 		DS 0A000H-$	;
  1)   9E50 00 00 00 00 		DS 0A000H-$	;
  1)   9E54 00 00 00 00 		DS 0A000H-$	;
  1)   9E58 00 00 00 00 		DS 0A000H-$	;
  1)   9E5C 00 00 00 00 		DS 0A000H-$	;
  1)   9E60 00 00 00 00 		DS 0A000H-$	;
  1)   9E64 00 00 00 00 		DS 0A000H-$	;
  1)   9E68 00 00 00 00 		DS 0A000H-$	;
  1)   9E6C 00 00 00 00 		DS 0A000H-$	;
  1)   9E70 00 00 00 00 		DS 0A000H-$	;
  1)   9E74 00 00 00 00 		DS 0A000H-$	;
  1)   9E78 00 00 00 00 		DS 0A000H-$	;
  1)   9E7C 00 00 00 00 		DS 0A000H-$	;
  1)   9E80 00 00 00 00 		DS 0A000H-$	;
  1)   9E84 00 00 00 00 		DS 0A000H-$	;
  1)   9E88 00 00 00 00 		DS 0A000H-$	;
  1)   9E8C 00 00 00 00 		DS 0A000H-$	;
  1)   9E90 00 00 00 00 		DS 0A000H-$	;
  1)   9E94 00 00 00 00 		DS 0A000H-$	;
  1)   9E98 00 00 00 00 		DS 0A000H-$	;
  1)   9E9C 00 00 00 00 		DS 0A000H-$	;
  1)   9EA0 00 00 00 00 		DS 0A000H-$	;
  1)   9EA4 00 00 00 00 		DS 0A000H-$	;
  1)   9EA8 00 00 00 00 		DS 0A000H-$	;
  1)   9EAC 00 00 00 00 		DS 0A000H-$	;
  1)   9EB0 00 00 00 00 		DS 0A000H-$	;
  1)   9EB4 00 00 00 00 		DS 0A000H-$	;
  1)   9EB8 00 00 00 00 		DS 0A000H-$	;
  1)   9EBC 00 00 00 00 		DS 0A000H-$	;
  1)   9EC0 00 00 00 00 		DS 0A000H-$	;
  1)   9EC4 00 00 00 00 		DS 0A000H-$	;
  1)   9EC8 00 00 00 00 		DS 0A000H-$	;
  1)   9ECC 00 00 00 00 		DS 0A000H-$	;
  1)   9ED0 00 00 00 00 		DS 0A000H-$	;
  1)   9ED4 00 00 00 00 		DS 0A000H-$	;
  1)   9ED8 00 00 00 00 		DS 0A000H-$	;
  1)   9EDC 00 00 00 00 		DS 0A000H-$	;
  1)   9EE0 00 00 00 00 		DS 0A000H-$	;
  1)   9EE4 00 00 00 00 		DS 0A000H-$	;
  1)   9EE8 00 00 00 00 		DS 0A000H-$	;
  1)   9EEC 00 00 00 00 		DS 0A000H-$	;
  1)   9EF0 00 00 00 00 		DS 0A000H-$	;
  1)   9EF4 00 00 00 00 		DS 0A000H-$	;
  1)   9EF8 00 00 00 00 		DS 0A000H-$	;
  1)   9EFC 00 00 00 00 		DS 0A000H-$	;
  1)   9F00 00 00 00 00 		DS 0A000H-$	;
  1)   9F04 00 00 00 00 		DS 0A000H-$	;
  1)   9F08 00 00 00 00 		DS 0A000H-$	;
  1)   9F0C 00 00 00 00 		DS 0A000H-$	;
  1)   9F10 00 00 00 00 		DS 0A000H-$	;
  1)   9F14 00 00 00 00 		DS 0A000H-$	;
  1)   9F18 00 00 00 00 		DS 0A000H-$	;
  1)   9F1C 00 00 00 00 		DS 0A000H-$	;
  1)   9F20 00 00 00 00 		DS 0A000H-$	;
  1)   9F24 00 00 00 00 		DS 0A000H-$	;
  1)   9F28 00 00 00 00 		DS 0A000H-$	;
  1)   9F2C 00 00 00 00 		DS 0A000H-$	;
  1)   9F30 00 00 00 00 		DS 0A000H-$	;
  1)   9F34 00 00 00 00 		DS 0A000H-$	;
  1)   9F38 00 00 00 00 		DS 0A000H-$	;
  1)   9F3C 00 00 00 00 		DS 0A000H-$	;
  1)   9F40 00 00 00 00 		DS 0A000H-$	;
  1)   9F44 00 00 00 00 		DS 0A000H-$	;
  1)   9F48 00 00 00 00 		DS 0A000H-$	;
  1)   9F4C 00 00 00 00 		DS 0A000H-$	;
  1)   9F50 00 00 00 00 		DS 0A000H-$	;
  1)   9F54 00 00 00 00 		DS 0A000H-$	;
  1)   9F58 00 00 00 00 		DS 0A000H-$	;
  1)   9F5C 00 00 00 00 		DS 0A000H-$	;
  1)   9F60 00 00 00 00 		DS 0A000H-$	;
  1)   9F64 00 00 00 00 		DS 0A000H-$	;
  1)   9F68 00 00 00 00 		DS 0A000H-$	;
  1)   9F6C 00 00 00 00 		DS 0A000H-$	;
  1)   9F70 00 00 00 00 		DS 0A000H-$	;
  1)   9F74 00 00 00 00 		DS 0A000H-$	;
  1)   9F78 00 00 00 00 		DS 0A000H-$	;
  1)   9F7C 00 00 00 00 		DS 0A000H-$	;
  1)   9F80 00 00 00 00 		DS 0A000H-$	;
  1)   9F84 00 00 00 00 		DS 0A000H-$	;
  1)   9F88 00 00 00 00 		DS 0A000H-$	;
  1)   9F8C 00 00 00 00 		DS 0A000H-$	;
  1)   9F90 00 00 00 00 		DS 0A000H-$	;
  1)   9F94 00 00 00 00 		DS 0A000H-$	;
  1)   9F98 00 00 00 00 		DS 0A000H-$	;
  1)   9F9C 00 00 00 00 		DS 0A000H-$	;
  1)   9FA0 00 00 00 00 		DS 0A000H-$	;
  1)   9FA4 00 00 00 00 		DS 0A000H-$	;
  1)   9FA8 00 00 00 00 		DS 0A000H-$	;
  1)   9FAC 00 00 00 00 		DS 0A000H-$	;
  1)   9FB0 00 00 00 00 		DS 0A000H-$	;
  1)   9FB4 00 00 00 00 		DS 0A000H-$	;
  1)   9FB8 00 00 00 00 		DS 0A000H-$	;
  1)   9FBC 00 00 00 00 		DS 0A000H-$	;
  1)   9FC0 00 00 00 00 		DS 0A000H-$	;
  1)   9FC4 00 00 00 00 		DS 0A000H-$	;
  1)   9FC8 00 00 00 00 		DS 0A000H-$	;
  1)   9FCC 00 00 00 00 		DS 0A000H-$	;
  1)   9FD0 00 00 00 00 		DS 0A000H-$	;
  1)   9FD4 00 00 00 00 		DS 0A000H-$	;
  1)   9FD8 00 00 00 00 		DS 0A000H-$	;
  1)   9FDC 00 00 00 00 		DS 0A000H-$	;
  1)   9FE0 00 00 00 00 		DS 0A000H-$	;
  1)   9FE4 00 00 00 00 		DS 0A000H-$	;
  1)   9FE8 00 00 00 00 		DS 0A000H-$	;
  1)   9FEC 00 00 00 00 		DS 0A000H-$	;
  1)   9FF0 00 00 00 00 		DS 0A000H-$	;
  1)   9FF4 00 00 00 00 		DS 0A000H-$	;
  1)   9FF8 00 00 00 00 		DS 0A000H-$	;
  1)   9FFC 00 00 00 00 		DS 0A000H-$	;

 36)   007A 00          		 @KEYCTR DEFS 1        ;IN NB SYSTEM VARS	;IN NB SYSTEM VARS
 37)   007B 00          		 @SERERR DEFS 1	;
 39)   007C 00          		 @DISPCT DEFS 1	;
 40)   007D 00          		 @LCDCX DEFS 1        ;DISPLAY X POS (0..F  FOR 1..16)	;DISPLAY X POS (0..F  FOR 1..16)
 41)   007E 00          		 @LCDCX DEFS 1        ;DISPLAY Y POS (0 OR 1 FOR LINE 1 AND 2)	;DISPLAY Y POS (0 OR 1 FOR LINE 1 AND 2)
 42)   007F 00          		 @LCD_DSPCTRL DEFS 1       ;LCD I2C 16X2	;LCD I2C 16X2
 43)   0080 00          		 @LCD_DSPMODE DEFS 1       ;LCD I2C 16X2	;LCD I2C 16X2
 44)   0081 00          		 @LCD_STSMASK DEFS 1       ;LCD I2C 16X2	;LCD I2C 16X2
 45)   0082 00          		 @STRG_STAT DEFS 1       ;STORAGE_NEW STAUS BIT 0=0 NOT CONNECTED,1=CONNECTED,BIT 7 DEVICE EXISTS	;STORAGE_NEW STAUS BIT 0=0 NOT CONNECTED, 1=CONNECTED, BIT 7 DEVICE EXISTS
 46)   0083 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   0087 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   008B 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   008F 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   0093 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   0097 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   009B 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   009F 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   00A3 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   00A7 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   00AB 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   00AF 00 00 00 00 		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 46)   00B3 00 00       		 @USBBUF DEFS 50       ;CH376 USB BUFFER	;CH376 USB BUFFER
 47)   00B5 00 00 00 00 		 @BANKS DEFS 8        ;8 PAGES FOR THE 8 BANKS 0..7	;8 PAGES FOR THE 8 BANKS 0..7
 47)   00B9 00 00 00 00 		 @BANKS DEFS 8        ;8 PAGES FOR THE 8 BANKS 0..7	;8 PAGES FOR THE 8 BANKS 0..7
 48)   00BD 00 00 00 00 		 @TMPG DEFS 4        ;TEMP PAGE FOR VIDEO VGA	;TEMP PAGE FOR VIDEO VGA
 50)   00C1 00 00       		 @PRGEX DEFS 2        ;ONLY FOR BOOTL	;ONLY FOR BOOTL
 51)   00C3 00          		 @TVSTAT DEFS 1        ;ONLY FOR BOOTL	;ONLY FOR BOOTL
 52)   00C4 00 00 00 00 		 @B2DINV DEFS 8        ;BINARY NUMBER TO BE CONVERTED	;BINARY NUMBER TO BE CONVERTED
 52)   00C8 00 00 00 00 		 @B2DINV DEFS 8        ;BINARY NUMBER TO BE CONVERTED	;BINARY NUMBER TO BE CONVERTED
 53)   00CC 00 00 00 00 		 @B2DBUF DEFS 20       ;ASCCI STRING OF THE NUMBER	;ASCCI STRING OF THE NUMBER
 53)   00D0 00 00 00 00 		 @B2DBUF DEFS 20       ;ASCCI STRING OF THE NUMBER	;ASCCI STRING OF THE NUMBER
 53)   00D4 00 00 00 00 		 @B2DBUF DEFS 20       ;ASCCI STRING OF THE NUMBER	;ASCCI STRING OF THE NUMBER
 53)   00D8 00 00 00 00 		 @B2DBUF DEFS 20       ;ASCCI STRING OF THE NUMBER	;ASCCI STRING OF THE NUMBER
 53)   00DC 00 00 00 00 		 @B2DBUF DEFS 20       ;ASCCI STRING OF THE NUMBER	;ASCCI STRING OF THE NUMBER
 54)   00E0 00          		 @B2DEND DEFS 1        ;0 FOR TERMINATE THE STRING	;0 FOR TERMINATE THE STRING
 55)   00E1 00 00       		 @LINESTR DEFS 2       ;ADDRESS OF LINEBUF FOR PRINTING ON STRING	;ADDRESS OF LINEBUF FOR PRINTING ON STRING
 56)   00E3 00          		 @LINEPOS DEFS 1	;
 57)   00E4 00 00 00 00 		 @NUMBUF DEFS 7	;
 57)   00E8 00 00 00    		 @NUMBUF DEFS 7	;
 58)   00EB 00 00 00 00 		 @MYNUM DEFS 13        ;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED	;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED
 58)   00EF 00 00 00 00 		 @MYNUM DEFS 13        ;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED	;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED
 58)   00F3 00 00 00 00 		 @MYNUM DEFS 13        ;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED	;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED
 58)   00F7 00          		 @MYNUM DEFS 13        ;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED	;10CHARS MESSAGE FOR NUMBER AND 3 TERMINATED
 81)   8000 2F          		 CPL         ;ROM IS HERE	;ROM IS HERE
 82)   8001 C3 E8 80    		 JP START	;
 83)   8004 C3 37 80    		 JP GETKEY        ;CALL HERE FROM NB ROM TO FIND THE GTNBKEY  $8004	;CALL HERE FROM NB ROM TO FIND THE GTNBKEY  $8004
 84)   8007 C3 4C 80    		 JP RSTX        ; CALL HERE FROM NB TO FIND SERIAL TRASMIT  $8007	; CALL HERE FROM NB TO FIND SERIAL TRASMIT  $8007
 85)   800A C3 50 80    		 JP RSRX        ; CALL HERE FROM NB TO FIND SERIAL RECEIVE  $800A	; CALL HERE FROM NB TO FIND SERIAL RECEIVE  $800A
 86)   800D C3 54 80    		 JP NBSTLCD        ;CALL HERE FROM NB TO FIND THE NBSETLCD $800D	;CALL HERE FROM NB TO FIND THE NBSETLCD $800D
 87)   8010 C3 AE 81    		 JP MENU	;
 88)   8013 C3 2D 80    		 JP CHKKEY       ;CALL HERE FROM NB TO FIND THE CHKKEY $8013	;CALL HERE FROM NB TO FIND THE CHKKEY $8013
 90)   8016 CD 66 89    		@OS_PRINTCHAR: CALL RS_TX	;
 91)   8019 C9          		 RET	;
 95)   801A 7E          		@OS_PRINTTEXT: LD A, (HL)	;
 96)   801B FE 00       		 CP 0	;
 97)   801D C8          		 RET Z	;
 98)   801E E5          		 PUSH HL	;
 99)   801F CD 16 80    		 CALL OS_PRINTCHAR	;
100)   8022 E1          		 POP HL	;
101)   8023 23          		 INC HL	;
102)   8024 18 F4       		 JR OS_PRINTTEXT	;
105)   8026 E1          		@OS_PRINTMSG: POP HL	;
106)   8027 CD 1A 80    		 CALL OS_PRINTTEXT	;
107)   802A 23          		 INC HL	;
108)   802B E5          		 PUSH HL        ;CONTINUE AFTER THE MESG	;CONTINUE AFTER THE MESG
109)   802C C9          		 RET	;
111)   802D 47          		CHKKEY: LD B,A	;
112)   802E CD CD 89    		 CALL RS_KEYRD  	;
113)   8031 78          		 LD A,B	;
114)   8032 16 A0       		 LD D,$A0        ;DISPCOM 	;DISPCOM
115)   8034 CB B6       		 RES 6,(HL)       ;KDATA= BIT 6 	;KDATA= BIT 6
116)   8036 C9          		 RET	;
123)   8037 E5          		KEYAVAIL: PUSH HL	;
124)   8038 D5          		 PUSH DE	;
125)   8039 C5          		 PUSH BC	;
126)   803A CD 9D 89    		 CALL RS_RX        ;GET A CHAR FROM RS232 OR PS2_KEYB	;GET A CHAR FROM RS232 OR PS2_KEYB
127)   803D CD 76 86    		RGT: CALL GTNBKEY        ;KEY PRESSED	;KEY PRESSED
136)   8040 C1          		 POP BC	;
137)   8041 D1          		 POP DE	;
138)   8042 E1          		 POP HL  	;
139)   8043 FE 00       		 CP 0         ;CHECK IF INVALID KEY	;CHECK IF INVALID KEY
140)   8045 C0          		 RET NZ	;
141)   8046 CB B6       		 RES KDATA (HL)        ; KEY INVALID RESET KDATA TEST BIT	; KEY INVALID RESET KDATA TEST BIT
142)   8048 23          		 INC HL         ;GET TO THE LAST VALID KEY	;GET TO THE LAST VALID KEY
143)   8049 7E          		 LD A, (HL)	;
144)   804A 2B          		 DEC HL	;
145)   804B C9          		 RET	;
147)   804C CD 66 89    		RSTX: CALL RS_TX	;
148)   804F C9          		 RET	;
150)   8050 CD 9D 89    		RSRX: CALL RS_RX	;
151)   8053 C9          		 RET	;
157)   8054 D5          		NBSTLCD: PUSH DE	;
158)   8055 42          		 LD B, D        ;TOTAL CHARS	;TOTAL CHARS
159)   8056 05          		 DEC B	;
160)   8057 05          		 DEC B         ;SKIP 2	;SKIP 2
161)   8058 11 11 00    		 LD DE, 17        ;START FROM THE END	;START FROM THE END
162)   805B 19          		 ADD HL, DE	;
163)   805C AF          		 XOR A	;
164)   805D 11 7E 00    		 LD DE, LCDCX        ;LCD POSITION	;LCD POSITION
165)   8060 12          		 LD (DE), A	;
166)   8061 13          		 INC DE	;
167)   8062 12          		 LD (DE), A	;
169)   8063 D5          		 PUSH DE	;
170)   8064 57          		 LD D, A	;
171)   8065 5F          		 LD E, A	;
172)   8066 CD 6C 92    		 CALL LCD16_SETCURS       ;SET LCD TO LCDCX,LCDCY	;SET LCD TO LCDCX,LCDCY
173)   8069 D1          		 POP DE	;
174)   806A 1B          		 DEC DE         ;POSITION ON LCDCX	;POSITION ON LCDCX
175)   806B 0E 00       		 LD C, 0        ;LCD POSITION COUNT	;LCD POSITION COUNT
176)   806D 7E          		NBSETLP: LD A, (HL)	;
177)   806E CB 7F       		 BIT 7, A        ;CHECK IF CURSOR HERE	;CHECK IF CURSOR HERE
178)   8070 28 06       		 JR Z, NBNXT	;
179)   8072 F5          		 PUSH AF	;
180)   8073 79          		 LD A, C	;
181)   8074 12          		 LD (DE), A        ;POSITION CURSOR	;POSITION CURSOR
182)   8075 F1          		 POP AF	;
183)   8076 CB BF       		 RES 7, A        ;CLEAR CHAR FROM CURSOR INFO	;CLEAR CHAR FROM CURSOR INFO
184)   8078 CD 5B 92    		NBNXT: CALL LCD16_PRCHR       ;OUTPUT CHAR TO LCD	;OUTPUT CHAR TO LCD
185)   807B 2B          		 DEC HL	;
186)   807C 0C          		 INC C	;
187)   807D 10 EE       		 DJNZ NBSETLP        ;LOOP NEXT CHAR	;LOOP NEXT CHAR
188)   807F 16 00       		 LD D, 0	;
189)   8081 59          		 LD E, C	;
190)   8082 CD 6C 92    		 CALL LCD16_SETCURS       ;POSITION CURSOR	;POSITION CURSOR
191)   8085 D1          		 POP DE	;
192)   8086 C9          		 RET	;
196)   8087 F5          		SOUTAS: PUSH AF        ;SERIAL PRINT ASCII IN DECIMAL	;SERIAL PRINT ASCII IN DECIMAL
197)   8088 26 00       		 LD H, 0	;
198)   808A 6F          		 LD L, A	;
199)   808B 11 00 65    		 LD DE, MYNUM	;
200)   808E CD 10 93    		 CALL OUTASC	;
202)   8091 3E 0A       		 LD A, 10	;
203)   8093 12          		 LD (DE), A	;
204)   8094 13          		 INC DE	;
205)   8095 3E 0D       		 LD A, 13	;
206)   8097 12          		 LD (DE), A	;
207)   8098 13          		 INC DE	;
208)   8099 AF          		 XOR A	;
209)   809A 12          		 LD (DE), A	;
211)   809B 21 00 65    		 LD HL, MYNUM	;
212)   809E CD 75 89    		 CALL RS_TXT	;
213)   80A1 F1          		 POP AF	;
214)   80A2 C9          		 RET	;
217)   80A3 5C 43 48 53 		FONTNAME1 DEFM "\CHSET2.CHR"	;
217)   80A7 45 54 32 2E 		FONTNAME1 DEFM "\CHSET2.CHR"	;
217)   80AB 43 48 52    		FONTNAME1 DEFM "\CHSET2.CHR"	;
218)   80AE 00          		 DB 0	;
219)   80AF 5C 43 48 53 		FONTNAME2 DEFM "\CHSET4.CHR"	;
219)   80B3 45 54 34 2E 		FONTNAME2 DEFM "\CHSET4.CHR"	;
219)   80B7 43 48 52    		FONTNAME2 DEFM "\CHSET4.CHR"	;
220)   80BA 00          		 DB 0	;
222)   80BB 06 02       		LOADFONTS: LD B,2  ;BANK2	;BANK2
223)   80BD 3E 08       		 LD A,8   ;VIDEO PAGE FOR FONTS   	;VIDEO PAGE FOR FONTS
224)   80BF CD 22 89    		 CALL PUTPGINBANK  	;
225)   80C2 21 A3 80    		 LD HL,FONTNAME1	;
226)   80C5 01 B8 0B    		 LD BC,3000  ;MAX FILE SIZE	;MAX FILE SIZE
227)   80C8 11 00 40    		 LD DE,$4000  ;0000 ON PAGE 8	;0000 ON PAGE 8
228)   80CB CD 77 8C    		 CALL STRG_LOADFILE	;
229)   80CE 30 01       		 JR NC, LFFILOK	;
230)   80D0 76          		 HALT   ;STOP EXEC	;STOP EXEC
231)   80D1 21 AF 80    		LFFILOK: LD HL,FONTNAME2	;
232)   80D4 01 B8 0B    		 LD BC,3000  ;MAX FILE SIZE	;MAX FILE SIZE
233)   80D7 11 00 50    		 LD DE,$5000  ;1000h ON PAGE 8	;1000h ON PAGE 8
234)   80DA CD 77 8C    		 CALL STRG_LOADFILE  	;
235)   80DD 30 01       		 JR NC, LFFILOK2	;
236)   80DF 76          		 HALT   ;STOP EXEC	;STOP EXEC
237)   80E0 3E 0D       		LFFILOK2: LD A,13  ;BANK 2 ON NBRAIN RESTORE PAGE 13	;BANK 2 ON NBRAIN RESTORE PAGE 13
238)   80E2 06 02       		 LD B,2	;
239)   80E4 CD 22 89    		 CALL PUTPGINBANK	;
240)   80E7 C9          		 RET 	;
243)   80E8 F3          		START: DI	;
244)   80E9 3A 00 00    		 LD A, (0000)	;
245)   80EC FE F3       		 CP $F3	;
247)   80EE C2 FD 80    		 JP NZ, CN1	;
248)   80F1 CD 26 88    		 CALL STNEWD        ;SET NEWDRIVERS AND DEFSTORE DEVICE	;SET NEWDRIVERS AND DEFSTORE DEVICE
249)   80F4 21 81 84    		 LD HL, STRBT	;
250)   80F7 CD 75 89    		 CALL RS_TXT        ;OUTPUT MENU COMMANDS AT RS232	;OUTPUT MENU COMMANDS AT RS232
251)   80FA C3 96 81    		 JP ALLOK	;
256)   80FD 06 05       		CN1: LD B, 5	;
257)   80FF 0E 63       		AGN1: LD C, 99	;
258)   8101 3E 00       		 LD A, 0	;
259)   8103 ED 79       		 OUT (C), A	;
260)   8105 0E 63       		 LD C, 99	;
261)   8107 3E FF       		 LD A, 255	;
262)   8109 ED 79       		 OUT (C), A	;
263)   810B 10 F2       		 DJNZ AGN1	;
268)   810D 11 01 00    		 LD DE, 1	;
269)   8110 3E 00       		 LD A, 0        ;WRITE 0	;WRITE 0
270)   8112 4F          		 LD C, A	;
271)   8113 21 00 60    		 LD HL, RAMAD	;
272)   8116 06 08       		 LD B, 8	;
273)   8118 77          		AGN2: LD (HL), A	;
274)   8119 4E          		 LD C, (HL)	;
275)   811A B9          		 CP C	;
276)   811B C2 35 81    		 JP NZ, ERR	;
277)   811E 19          		 ADD HL, DE	;
278)   811F C6 20       		 ADD A, 32        ;WRITE +32	;WRITE +32
279)   8121 4F          		 LD C, A	;
280)   8122 10 F4       		 DJNZ AGN2	;
282)   8124 06 05       		 LD B, 5	;
283)   8126 0E 62       		AGN3: LD C, 98	;
284)   8128 3E 40       		 LD A, 64	;
285)   812A ED 79       		 OUT (C), A	;
286)   812C C6 80       		 ADD A, 128	;
287)   812E ED 79       		 OUT (C), A	;
288)   8130 10 F4       		 DJNZ AGN3        ; SIGNAL ALL OK CONTINUOUS 10 TIMES ON PORT 98	; SIGNAL ALL OK CONTINUOUS 10 TIMES ON PORT 98
289)   8132 C3 6C 81    		 JP BOOT	;
292)   8135 0E 61       		ERR: LD C, 97	;
293)   8137 3E 40       		 LD A, 64	;
294)   8139 ED 79       		 OUT (C), A	;
296)   813B C3 35 81    		 JP ERR         ;DO AGAIN PORT 1	;DO AGAIN PORT 1
298)   813E 15 02 00 18 		SCRDATA DB        $15,$02,$00,$18,$18,$28,$40,$20	;
298)   8142 18 28 40 20 		SCRDATA DB        $15,$02,$00,$18,$18,$28,$40,$20	;
299)   8146 00 02 00 00 		 DB $00,$02,$00,$00,$00,$00,$0A,$00,$00,$00,$FF,$00,$AB,$00,$00,$00	;
299)   814A 00 00 0A 00 		 DB $00,$02,$00,$00,$00,$00,$0A,$00,$00,$00,$FF,$00,$AB,$00,$00,$00	;
299)   814E 00 00 FF 00 		 DB $00,$02,$00,$00,$00,$00,$0A,$00,$00,$00,$FF,$00,$AB,$00,$00,$00	;
299)   8152 AB 00 00 00 		 DB $00,$02,$00,$00,$00,$00,$0A,$00,$00,$00,$FF,$00,$AB,$00,$00,$00	;
300)   8156 00 B1       		 DB $00,$B1	;
302)   8158 21 3E 81    		SETSCRDATA: LD HL,SCRDATA	;
303)   815B 11 68 02    		 LD DE,$268	;
304)   815E 01 1A 00    		 LD BC,26	;
305)   8161 ED B0       		 LDIR	;
306)   8163 21 5C 00    		 LD HL,$5C	;
307)   8166 36 68       		 LD (HL),$68  ;VIDEO START	;VIDEO START
308)   8168 23          		 INC HL	;
309)   8169 36 02       		 LD (HL),$02	;
310)   816B C9          		 RET	;
312)   816C ED 56       		BOOT: IM 1	;
313)   816E F3          		 DI	;
316)   816F 31 64 60    		 LD SP, STACKP	;
318)   8172 AF          		 XOR A	;
319)   8173 D3 07       		 OUT (7), A        ; tv oFF	; tv oFF
320)   8175 3E 02       		 LD A, 2	;
321)   8177 D3 0C       		 OUT (12), A        ;TV CONTROL	;TV CONTROL
323)   8179 CD 81 90    		 CALL I2C_INIT	;
324)   817C CD C7 91    		 CALL LCD16_INIT       ;LCD 16x2 Initialized	;LCD 16x2 Initialized
325)   817F 21 D3 83    		 LD HL, STR0	;
326)   8182 CD 51 92    		 CALL LCD16_PRINT	;
330)   8185 3E 01       		 LD A, 1        ;1=115200 BPS	;1=115200 BPS
331)   8187 CD 4D 89    		 CALL RS_INI        ;RS232 INITIALIZE	;RS232 INITIALIZE
332)   818A 21 A9 84    		 LD HL, STR00	;
333)   818D CD 75 89    		 CALL RS_TXT	;
336)   8190 21 96 84    		 LD HL, STRSCR	;
337)   8193 CD 75 89    		 CALL RS_TXT	;
347)   8196 CD 58 81    		ALLOK: CALL SETSCRDATA	;
348)   8199 CD FA 84    		 CALL SCCLS        ;CLEAR SCREEN BUFFER	;CLEAR SCREEN BUFFER
350)   819C 21 FD 83    		 LD HL, STR02	;
351)   819F CD 3A 85    		 CALL SCPRN        ;PRINT WAITING AT SCREEN BUFFER	;PRINT WAITING AT SCREEN BUFFER
354)   81A2 CD E9 92    		 CALL DELAY	;
355)   81A5 CD E9 92    		 CALL DELAY	;
359)   81A8 CD BB 80    		 CALL LOADFONTS       ;LOAD NEWBRAIN FONTS TO VIDEO RAM	;LOAD NEWBRAIN FONTS TO VIDEO RAM
360)   81AB CD 64 82    		 CALL TVON	;
364)   81AE 21 51 84    		 LD HL, STRMN	;
365)   81B1 CD 75 89    		 CALL RS_TXT        ;OUTPUT MENU COMMANDS AT RS232	;OUTPUT MENU COMMANDS AT RS232
366)   81B4 21 BF 84    		 LD HL, STR01	;
367)   81B7 CD 75 89    		 CALL RS_TXT        ;OUTPUT WAITING AT RS232	;OUTPUT WAITING AT RS232
369)   81BA CD 76 82    		 CALL TVOFTM	;
370)   81BD CD 48 92    		 CALL LCD16_CLR	;
372)   81C0 21 FD 83    		 LD HL, STR02	;
373)   81C3 CD 51 92    		 CALL LCD16_PRINT	;
374)   81C6 CD 7A 82    		 CALL RESTV	;
376)   81C9 21 A5 83    		 LD HL, SMENU	;
377)   81CC 3E 02       		 LD A, 2	;
378)   81CE CD 3A 85    		 CALL SCPRN	;
380)   81D1 CD 13 82    		 CALL GET_CHAR        ;TAKE A CHAR FROM RS232 OR PS2 KEYB	;TAKE A CHAR FROM RS232 OR PS2 KEYB
383)   81D4 FE 55       		 CP 'U'         ;UPLOAD PROGRAM	;UPLOAD PROGRAM
384)   81D6 CC A4 82    		 CALL Z, UPLOD	;
385)   81D9 FE 58       		 CP 'X'	;
386)   81DB CA 87 82    		 JP Z, EXEC	;
387)   81DE FE 54       		 CP 'T'	;
388)   81E0 CC 5B 83    		 CALL Z, RSTST	;
389)   81E3 FE 53       		 CP 'S'	;
390)   81E5 CC 8D 83    		 CALL Z, TXTSCR	;
391)   81E8 FE 4E       		 CP 'N'	;
392)   81EA CA 03 E0    		 JP Z, $E003	;
393)   81ED FE 4D       		 CP 'M'	;
394)   81EF CA 3E 82    		 JP Z, GONB        ;$E090	;$E090
395)   81F2 FE 43       		 CP 'C'	;
396)   81F4 CC 64 82    		 CALL Z, TVON	;
397)   81F7 FE 56       		 CP 'V'	;
398)   81F9 CC 6D 82    		 CALL Z, TVOFF	;
399)   81FC FE 49       		 CP 'I'	;
400)   81FE CC F3 82    		 CALL Z, UPLOD2	;
401)   8201 FE 59       		 CP 'Y'	;
402)   8203 CC 71 83    		 CALL Z, RSTST2	;
403)   8206 FE 48       		 CP 'H'	;
404)   8208 CC 80 83    		 CALL Z, XMTST	;
405)   820B FE 4A       		 CP 'J'	;
406)   820D CC 25 83    		 CALL Z, DNLOD	;
408)   8210 C3 AE 81    		 JP MENU	;
412)   8213 AF          		GET_CHAR: XOR A	;
415)   8214 CD CD 89    		 CALL RS_KEYRD        ;CHAR IN RS232?	;CHAR IN RS232?
417)   8217 CA 13 82    		 JP Z, GET_CHAR	;
418)   821A CD 9D 89    		 CALL RS_RX        ; GET THAT CHAR	; GET THAT CHAR
419)   821D C9          		 RET	;
429)   821E F5          		 PUSH AF	;
430)   821F CD 66 89    		 CALL RS_TX	;
431)   8222 3E 0A       		 LD A, 10	;
432)   8224 CD 66 89    		 CALL RS_TX	;
433)   8227 3E 0D       		 LD A, 13	;
434)   8229 CD 66 89    		 CALL RS_TX	;
435)   822C F1          		 POP AF	;
436)   822D C9          		 RET	;
438)   822E 16 00       		LCDLN1: LD D, 0	;
439)   8230 1E 00       		 LD E, 0	;
440)   8232 CD 6C 92    		 CALL LCD16_SETCURS	;
441)   8235 C9          		 RET	;
443)   8236 16 00       		LCDLN2: LD D, 0	;
444)   8238 1E 00       		 LD E, 0	;
445)   823A CD 6C 92    		 CALL LCD16_SETCURS	;
446)   823D C9          		 RET	;
448)   823E CD 36 82    		GONB: CALL LCDLN2	;
449)   8241 21 53 82    		 LD HL, DSPMES	;
450)   8244 CD 51 92    		 CALL LCD16_PRINT	;
451)   8247 CD 7B 92    		 CALL LCD16_CURSOFF       ;CURSOR OFF	;CURSOR OFF
452)   824A CD A5 92    		 CALL LCD16_BLINKON       ;BLINK ON	;BLINK ON
453)   824D AF          		 XOR A	;
454)   824E D3 E0       		 OUT (INTENB),A       ;ENABLE INTERRUPTS ON NB	;ENABLE INTERRUPTS ON NB
455)   8250 C3 15 A0    		 JP $A015	;
457)   8253 3C 3C 20 43 		DSPMES: DEFM "<< CDESP 2016 >>"	;
457)   8257 44 45 53 50 		DSPMES: DEFM "<< CDESP 2016 >>"	;
457)   825B 20 32 30 31 		DSPMES: DEFM "<< CDESP 2016 >>"	;
457)   825F 36 20 3E 3E 		DSPMES: DEFM "<< CDESP 2016 >>"	;
458)   8263 00          		 DB 0	;
460)   8264 E5          		TVON: PUSH HL	;
461)   8265 21 C3 00    		 LD HL, TVSTAT	;
462)   8268 CB D6       		 SET 2, (HL)	;
463)   826A E1          		 POP HL	;
464)   826B 18 0D       		 JR RESTV	;
467)   826D E5          		TVOFF: PUSH HL	;
468)   826E 21 C3 00    		 LD HL, TVSTAT	;
469)   8271 CB 96       		 RES 2, (HL)	;
470)   8273 E1          		 POP HL	;
471)   8274 18 04       		 JR RESTV	;
474)   8276 AF          		TVOFTM: XOR A         ;TV OFF	;TV OFF
475)   8277 D3 07       		 OUT (7), A	;
476)   8279 C9          		 RET	;
478)   827A E5          		RESTV: PUSH HL	;
479)   827B 21 C3 00    		 LD HL, TVSTAT	;
480)   827E 7E          		 LD A, (HL)	;
481)   827F D3 07       		 OUT (7), A	;
482)   8281 3E 05       		 LD A, 5	;
483)   8283 D3 09       		 OUT (9), A        ; SET DISPLAY ADDRESS	; SET DISPLAY ADDRESS
484)   8285 E1          		 POP HL	;
485)   8286 C9          		 RET	;
487)   8287 CD 48 92    		EXEC: CALL LCD16_CLR	;
488)   828A CD 36 82    		 CALL LCDLN2	;
489)   828D 21 24 84    		 LD HL, SPRGX	;
490)   8290 CD 51 92    		 CALL LCD16_PRINT	;
491)   8293 CD 2E 82    		 CALL LCDLN1	;
493)   8296 3E 05       		 LD A, 5	;
494)   8298 CD 3A 85    		 CALL SCPRN	;
496)   829B 11 C1 00    		 LD DE, PRGEX	;
497)   829E 1A          		 LD A, (DE)	;
498)   829F 6F          		 LD L, A	;
499)   82A0 13          		 INC DE	;
500)   82A1 1A          		 LD A, (DE)	;
501)   82A2 67          		 LD H, A	;
502)   82A3 E9          		 JP (HL)	;
504)   82A4 CD 76 82    		UPLOD: CALL TVOFTM	;
505)   82A7 21 17 84    		 LD HL, DATST	;
506)   82AA CD 36 82    		 CALL LCDLN2	;
507)   82AD CD 51 92    		 CALL LCD16_PRINT	;
509)   82B0 CD 9D 89    		 CALL RS_RX        ;HL HAS RAM ADDRESS	;HL HAS RAM ADDRESS
510)   82B3 6F          		 LD L, A	;
511)   82B4 CD 9D 89    		 CALL RS_RX	;
512)   82B7 67          		 LD H, A	;
513)   82B8 CD 9D 89    		 CALL RS_RX        ;BC HAS TOTAL DATA TO BE SEND	;BC HAS TOTAL DATA TO BE SEND
514)   82BB 4F          		 LD C, A	;
515)   82BC CD 9D 89    		 CALL RS_RX	;
516)   82BF 47          		 LD B, A	;
518)   82C0 11 C1 00    		 LD DE, PRGEX        ;SAVE TO PRGEX THE PROG EXEC ADDR=HL	;SAVE TO PRGEX THE PROG EXEC ADDR=HL
519)   82C3 7D          		 LD A, L	;
520)   82C4 12          		 LD (DE), A	;
521)   82C5 13          		 INC DE	;
522)   82C6 7C          		 LD A, H	;
523)   82C7 12          		 LD (DE), A	;
525)   82C8 FE 80       		 CP $80	;
526)   82CA 28 02       		 JR Z, ROMWR	;
527)   82CC 38 02       		 JR C, NORWR	;
529)   82CE D3 7C       		 ROMWR OUT (124), A       ;SET ROM WRITABLE = '0'	;SET ROM WRITABLE = '0'
534)   82D0 E5          		NORWR: PUSH HL	;
535)   82D1 CD 9D 89    		NXB: CALL RS_RX	;
536)   82D4 77          		 LD (HL), A	;
537)   82D5 23          		 INC HL	;
538)   82D6 0B          		 DEC BC	;
539)   82D7 78          		 LD A, B	;
540)   82D8 B1          		 OR C	;
541)   82D9 20 F6       		 JR NZ, NXB        ;LOOP ALL BYTES	;LOOP ALL BYTES
543)   82DB D3 7D       		 OUT (125), A        ;SET ROM NON WRITABLE ='1'	;SET ROM NON WRITABLE ='1'
545)   82DD 21 08 84    		 LD HL, DATTR	;
546)   82E0 CD 48 92    		 CALL LCD16_CLR	;
547)   82E3 CD 51 92    		 CALL LCD16_PRINT	;
548)   82E6 3E 05       		 LD A, 5	;
549)   82E8 CD 3A 85    		 CALL SCPRN	;
550)   82EB CD E9 92    		 CALL DELAY	;
552)   82EE E1          		 POP HL	;
555)   82EF CD 7A 82    		 CALL RESTV	;
557)   82F2 C9          		 RET	;
561)   82F3 CD 76 82    		UPLOD2: CALL TVOFTM	;
562)   82F6 21 17 84    		 LD HL, DATST	;
563)   82F9 CD 36 82    		 CALL LCDLN2	;
564)   82FC CD 51 92    		 CALL LCD16_PRINT	;
566)   82FF CD 9D 89    		 CALL RS_RX        ;HL HAS RAM ADDRESS	;HL HAS RAM ADDRESS
567)   8302 6F          		 LD L, A	;
568)   8303 CD 9D 89    		 CALL RS_RX	;
569)   8306 67          		 LD H, A	;
570)   8307 CD 9D 89    		 CALL RS_RX        ;BC HAS TOTAL DATA TO BE SEND	;BC HAS TOTAL DATA TO BE SEND
571)   830A 4F          		 LD C, A	;
572)   830B CD 9D 89    		 CALL RS_RX	;
573)   830E 47          		 LD B, A	;
575)   830F 11 C1 00    		 LD DE, PRGEX        ;SAVE TO PRGEX THE PROG EXEC ADDR=HL	;SAVE TO PRGEX THE PROG EXEC ADDR=HL
576)   8312 7D          		 LD A, L	;
577)   8313 12          		 LD (DE), A	;
578)   8314 13          		 INC DE	;
579)   8315 7C          		 LD A, H	;
580)   8316 12          		 LD (DE), A	;
582)   8317 CD 9D 89    		NXB2: CALL RS_RX	;
583)   831A 77          		 LD (HL), A	;
584)   831B 23          		 INC HL	;
585)   831C 0B          		 DEC BC	;
586)   831D 78          		 LD A, B	;
587)   831E B1          		 OR C	;
588)   831F 20 F6       		 JR NZ, NXB2        ;LOOP ALL BYTES	;LOOP ALL BYTES
590)   8321 CD 7A 82    		 CALL RESTV	;
591)   8324 C9          		 RET	;
593)   8325 CD 76 82    		DNLOD: CALL TVOFTM	;
598)   8328 CD 9D 89    		 CALL RS_RX        ;HL HAS RAM ADDRESS	;HL HAS RAM ADDRESS
599)   832B 6F          		 LD L, A	;
600)   832C CD 9D 89    		 CALL RS_RX	;
601)   832F 67          		 LD H, A	;
602)   8330 CD 9D 89    		 CALL RS_RX        ;BC HAS TOTAL DATA TO BE SEND	;BC HAS TOTAL DATA TO BE SEND
603)   8333 4F          		 LD C, A	;
604)   8334 CD 9D 89    		 CALL RS_RX	;
605)   8337 47          		 LD B, A	;
607)   8338 7E          		NXB3: LD A, (HL)	;
608)   8339 CD 66 89    		 CALL RS_TX        ;SEND BYTE	;SEND BYTE
609)   833C 23          		 INC HL	;
610)   833D 0B          		 DEC BC	;
611)   833E 78          		 LD A, B	;
612)   833F B1          		 OR C	;
613)   8340 20 F6       		 JR NZ, NXB3        ;LOOP ALL BYTES	;LOOP ALL BYTES
615)   8342 CD 7A 82    		 CALL RESTV	;
617)   8345 C9          		 RET	;
621)   8346 FE 00       		 CP 0	;
622)   8348 28 FC       		 JR Z, PS2AGN	;
623)   834A FE FF       		 CP 255	;
624)   834C 28 F8       		 JR Z, PS2AGN	;
625)   834E FE 01       		 CP 1	;
626)   8350 CA 46 83    		 JP Z, PS2AGN	;
628)   8353 CD 66 89    		 CALL RS_TX	;
629)   8356 CD F6 92    		 CALL DEL2	;
631)   8359 18 EB       		 JR PS2AGN	;
634)   835B 00          		RSTST: NOP         ;GET A KEY FROM RS232	;GET A KEY FROM RS232
635)   835C 06 0A       		 LD B, 10	;
636)   835E C5          		TEN: PUSH BC	;
637)   835F CD 9D 89    		 CALL RS_RX	;
639)   8362 CD 66 89    		 CALL RS_TX        ;SEND BACK THE CHAR	;SEND BACK THE CHAR
641)   8365 3E 20       		 LD A, ' '	;
643)   8367 3E 52       		 LD A, 'R'	;
646)   8369 CD F6 92    		 CALL DEL2	;
648)   836C C1          		 POP BC	;
649)   836D 10 EF       		 DJNZ TEN	;
651)   836F AF          		 XOR A	;
652)   8370 C9          		 RET	;
654)   8371 00          		RSTST2: NOP         ;TEST RECEIVING AND SENDING 255 BYTES	;TEST RECEIVING AND SENDING 255 BYTES
655)   8372 06 FF       		 LD B, 255	;
656)   8374 C5          		TEN2: PUSH BC	;
657)   8375 CD 9D 89    		 CALL RS_RX	;
659)   8378 CD 66 89    		 CALL RS_TX        ;SEND BACK THE CHAR	;SEND BACK THE CHAR
661)   837B C1          		 POP BC	;
662)   837C 10 F6       		 DJNZ TEN2	;
663)   837E AF          		 XOR A	;
664)   837F C9          		 RET	;
667)   8380 00          		XMTST: NOP         ;TEST XMIT ALL 8 BITS	;TEST XMIT ALL 8 BITS
668)   8381 06 FF       		 LD B, 255	;
669)   8383 C5          		TEN3: PUSH BC	;
670)   8384 78          		 LD A, B	;
671)   8385 CD 66 89    		 CALL RS_TX        ;SEND  THE BYTE	;SEND  THE BYTE
672)   8388 C1          		 POP BC	;
673)   8389 10 F8       		 DJNZ TEN3	;
674)   838B AF          		 XOR A	;
675)   838C C9          		 RET	;
679)   838D 21 3B 84    		TXTSCR: LD HL, TXTMES        ;SCREEN START	;SCREEN START
680)   8390 11 82 02    		 LD DE, TXTRAM	;
681)   8393 01 15 00    		 LD BC, 21	;
682)   8396 ED B0       		 LDIR	;
684)   8398 21 3B 84    		 LD HL, TXTMES	;
685)   839B 11 C2 02    		 LD DE, TXTRAM + 64       ;SCREEN START+64 40chars screen +24 excess	;SCREEN START+64 40chars screen +24 excess
686)   839E 01 15 00    		 LD BC, 21	;
687)   83A1 ED B0       		 LDIR	;
689)   83A3 AF          		 XOR A	;
690)   83A4 C9          		 RET	;
694)   83A5 55 49 3A 55 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
694)   83A9 50 2C 58 3A 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
694)   83AD 52 55 4E 2C 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
694)   83B1 54 59 48 3A 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
694)   83B5 52 53 2C 53 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
694)   83B9 3A 44 49 53 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
694)   83BD 50 2C 4E 4D 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
694)   83C1 3A 4E 42 52 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
694)   83C5 4F 4D 2C 43 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
694)   83C9 56 3A 54 56 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
694)   83CD 2C 4A 3A 44 		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
694)   83D1 4E          		SMENU: DEFM "UI:UP,X:RUN,TYH:RS,S:DISP,NM:NBROM,CV:TV,J:DN"	;
695)   83D2 00          		 DB 0	;
698)   83D3 4C 43 44 20 		STR0: DEFM "LCD INITIALIZED"	;
698)   83D7 49 4E 49 54 		STR0: DEFM "LCD INITIALIZED"	;
698)   83DB 49 41 4C 49 		STR0: DEFM "LCD INITIALIZED"	;
698)   83DF 5A 45 44    		STR0: DEFM "LCD INITIALIZED"	;
699)   83E2 00          		 DB 0	;
701)   83E3 52 53 32 33 		STR1: DEFM "RS232 INIT"	;
701)   83E7 32 20 49 4E 		STR1: DEFM "RS232 INIT"	;
701)   83EB 49 54       		STR1: DEFM "RS232 INIT"	;
702)   83ED 00          		 DB 0	;
704)   83EE 50 52 4F 47 		STR2: DEFM "PROGRAM HALTED"	;
704)   83F2 52 41 4D 20 		STR2: DEFM "PROGRAM HALTED"	;
704)   83F6 48 41 4C 54 		STR2: DEFM "PROGRAM HALTED"	;
704)   83FA 45 44       		STR2: DEFM "PROGRAM HALTED"	;
705)   83FC 00          		 DB 0	;
707)   83FD 57 41 49 54 		STR02: DEFM "WAITING..."	;
707)   8401 49 4E 47 2E 		STR02: DEFM "WAITING..."	;
707)   8405 2E 2E       		STR02: DEFM "WAITING..."	;
708)   8407 00          		 DB 0	;
710)   8408 50 52 47 20 		DATTR: DEFM "PRG TRANSFERED"	;
710)   840C 54 52 41 4E 		DATTR: DEFM "PRG TRANSFERED"	;
710)   8410 53 46 45 52 		DATTR: DEFM "PRG TRANSFERED"	;
710)   8414 45 44       		DATTR: DEFM "PRG TRANSFERED"	;
711)   8416 00          		 DB 0	;
713)   8417 52 45 43 45 		DATST: DEFM "RECEIVING..."	;
713)   841B 49 56 49 4E 		DATST: DEFM "RECEIVING..."	;
713)   841F 47 2E 2E 2E 		DATST: DEFM "RECEIVING..."	;
714)   8423 00          		 DB 0	;
716)   8424 50 52 47 20 		SPRGX: DEFM "PRG EXECUTE"	;
716)   8428 45 58 45 43 		SPRGX: DEFM "PRG EXECUTE"	;
716)   842C 55 54 45    		SPRGX: DEFM "PRG EXECUTE"	;
717)   842F 00          		 DB 0	;
719)   8430 49 4D 41 47 		STIMG: DEFM "IMAGE COPY"	;
719)   8434 45 20 43 4F 		STIMG: DEFM "IMAGE COPY"	;
719)   8438 50 59       		STIMG: DEFM "IMAGE COPY"	;
720)   843A 00          		 DB 0	;
722)   843B 4E 45 57 42 		TXTMES: DEFM "NEWBRAIN SCREEN READY"	;
722)   843F 52 41 49 4E 		TXTMES: DEFM "NEWBRAIN SCREEN READY"	;
722)   8443 20 53 43 52 		TXTMES: DEFM "NEWBRAIN SCREEN READY"	;
722)   8447 45 45 4E 20 		TXTMES: DEFM "NEWBRAIN SCREEN READY"	;
722)   844B 52 45 41 44 		TXTMES: DEFM "NEWBRAIN SCREEN READY"	;
722)   844F 59          		TXTMES: DEFM "NEWBRAIN SCREEN READY"	;
723)   8450 00          		 DB 0	;
727)   8451 55 3A 55 50 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
727)   8455 2C 58 3A 52 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
727)   8459 55 4E 2C 54 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
727)   845D 3A 52 53 2C 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
727)   8461 53 3A 44 49 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
727)   8465 53 50 2C 4E 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
727)   8469 3A 4E 42 52 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
727)   846D 4F 4D 2C 43 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
727)   8471 3A 54 56 4F 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
727)   8475 4E 2C 56 3A 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
727)   8479 54 56 4F 46 		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
727)   847D 46          		STRMN: DEFM "U:UP,X:RUN,T:RS,S:DISP,N:NBROM,C:TVON,V:TVOFF"	;
728)   847E 0A 0D 00    		 DB 10,13,0	;
731)   8481 4E 45 57 42 		STRBT: DEFM "NEWBRAIN BOOTED OK"	;
731)   8485 52 41 49 4E 		STRBT: DEFM "NEWBRAIN BOOTED OK"	;
731)   8489 20 42 4F 4F 		STRBT: DEFM "NEWBRAIN BOOTED OK"	;
731)   848D 54 45 44 20 		STRBT: DEFM "NEWBRAIN BOOTED OK"	;
731)   8491 4F 4B       		STRBT: DEFM "NEWBRAIN BOOTED OK"	;
732)   8493 0A 0D 00    		 DB 10,13,0	;
734)   8496 43 4C 45 41 		STRSCR: DEFM "CLEARING SCREEN."	;
734)   849A 52 49 4E 47 		STRSCR: DEFM "CLEARING SCREEN."	;
734)   849E 20 53 43 52 		STRSCR: DEFM "CLEARING SCREEN."	;
734)   84A2 45 45 4E 2E 		STRSCR: DEFM "CLEARING SCREEN."	;
735)   84A6 0A 0D 00    		 DB 10,13,0	;
737)   84A9 0A 0D       		STR00: DB 10,13	;
738)   84AB 52 53 32 33 		 DEFM "RS232 INITIALIZED"	;
738)   84AF 32 20 49 4E 		 DEFM "RS232 INITIALIZED"	;
738)   84B3 49 54 49 41 		 DEFM "RS232 INITIALIZED"	;
738)   84B7 4C 49 5A 45 		 DEFM "RS232 INITIALIZED"	;
738)   84BB 44          		 DEFM "RS232 INITIALIZED"	;
739)   84BC 0A 0D 00    		 DB 10,13,0	;
741)   84BF 0A 0D       		STR01: DB 10,13	;
742)   84C1 57 41 49 54 		 DEFM "WAITING..."	;
742)   84C5 49 4E 47 2E 		 DEFM "WAITING..."	;
742)   84C9 2E 2E       		 DEFM "WAITING..."	;
743)   84CB 0A 0D 00    		 DB 10,13,0	;
744)   84CE 00          		 DB 0	;
746)   84CF 0A 0D       		STR06: DB 10,13	;
747)   84D1 4B 45 59 20 		 DEFM "KEY PRESSED"	;
747)   84D5 50 52 45 53 		 DEFM "KEY PRESSED"	;
747)   84D9 53 45 44    		 DEFM "KEY PRESSED"	;
748)   84DC 0A 0D 00    		 DB 10,13,0	;
749)   84DF 00          		 DB 0	;
753)   84E0 80 00 80 00 		 DB 128,0,128,0,255,255	;
753)   84E4 FF FF       		 DB 128,0,128,0,255,255	;
754)   84E6 00          		IMAGE: DB 0	;
 14)   84E7 E5          		SCCLL: PUSH HL	;
 15)   84E8 F5          		 PUSH AF	;
 16)   84E9 21 59 85    		 LD HL, STCL4        ;40 LINE CLEAR	;40 LINE CLEAR
 17)   84EC CD 3D 85    		 CALL SCPRN1	;
 18)   84EF F1          		 POP AF	;
 19)   84F0 E1          		 POP HL	;
 20)   84F1 C9          		 RET	;
 23)   84F2 AF          		 XOR A         ;LINE 0	;LINE 0
 24)   84F3 21 66 86    		 LD HL, SCRDY	;
 25)   84F6 CD 3A 85    		 CALL SCPRN	;
 26)   84F9 C9          		 RET	;
 30)   84FA 06 19       		SCCLS: LD B, 25	;
 31)   84FC AF          		 XOR A         ;; PRINT STR0 AT LINE 1	;; PRINT STR0 AT LINE 1
 32)   84FD C5          		 TSTLP1 PUSH BC	;
 33)   84FE CD E7 84    		 CALL SCCLL	;
 34)   8501 3C          		 INC A         ; NEXT LINE	; NEXT LINE
 35)   8502 C1          		 POP BC	;
 36)   8503 10 F8       		 DJNZ TSTLP1	;
 37)   8505 CD F2 84    		 CALL SCMSG1	;
 38)   8508 C9          		 RET	;
 43)   8509 F5          		 PRNRGA PUSH AF	;
 44)   850A 06 08       		 LD B, 8	;
 45)   850C CB 07       		LPN5: RLC A         ; BIT 7 FIRST	; BIT 7 FIRST
 46)   850E F5          		 PUSH AF	;
 47)   850F 3E 00       		 LD A, 0	;
 48)   8511 30 02       		 JR NC, SKP5	;
 49)   8513 3E 01       		 LD A, 1	;
 50)   8515 C6 30       		 SKP5 ADD A, 48	;
 51)   8517 CD 20 85    		 CALL PRNCL        ; PRINT A AT COL,LINE	; PRINT A AT COL,LINE
 52)   851A 1C          		 INC E	;
 53)   851B F1          		 POP AF	;
 54)   851C 10 EE       		 DJNZ LPN5	;
 55)   851E F1          		 POP AF	;
 56)   851F C9          		 RET	;
 59)   8520 E5          		PRNCL: PUSH HL	;
 60)   8521 D5          		 PUSH DE	;
 61)   8522 F5          		 PUSH AF	;
 62)   8523 C5          		 PUSH BC	;
 63)   8524 21 82 02    		 LD HL, TXTRAM	;
 64)   8527 42          		 LD B, D        ; D HAS THE LINE	; D HAS THE LINE
 65)   8528 D5          		 PUSH DE	;
 66)   8529 11 40 00    		 LD DE, 40 + 24        ; FOR 40 COLUMN SCREEN	; FOR 40 COLUMN SCREEN
 67)   852C 19          		LPN2: ADD HL, DE	;
 68)   852D 10 FD       		 DJNZ LPN2	;
 69)   852F D1          		 POP DE	;
 70)   8530 43          		 LD B, E        ; E HAS THE COLUMN	; E HAS THE COLUMN
 71)   8531 23          		LPN3: INC HL	;
 72)   8532 10 FD       		 DJNZ LPN3	;
 73)   8534 77          		 LD (HL), A        ; A HAS THE CHAR TO PRINT	; A HAS THE CHAR TO PRINT
 74)   8535 C1          		 POP BC	;
 75)   8536 F1          		 POP AF	;
 76)   8537 D1          		 POP DE	;
 77)   8538 E1          		 POP HL	;
 78)   8539 C9          		 RET	;
 81)   853A CD E7 84    		SCPRN: CALL SCCLL        ; CLEAR THE LINE	; CLEAR THE LINE
 82)   853D E5          		SCPRN1: PUSH HL	;
 83)   853E 21 82 02    		 LD HL, TXTRAM	;
 84)   8541 FE 00       		 CP 0	;
 85)   8543 28 07       		 JR Z, SCSKIP        ;SKIP FOR LINE 0	;SKIP FOR LINE 0
 86)   8545 47          		 LD B, A	;
 87)   8546 11 40 00    		 LD DE, 40 + 24        ; FOR 40 COLUMN SCREEN	; FOR 40 COLUMN SCREEN
 88)   8549 19          		LPN1: ADD HL, DE	;
 89)   854A 10 FD       		 DJNZ LPN1	;
 90)   854C EB          		SCSKIP: EX DE, HL	;
 91)   854D E1          		 POP HL	;
 92)   854E 7E          		SCLP: LD A, (HL)	;
 93)   854F FE 00       		 CP 0	;
 94)   8551 28 05       		 JR Z SCEXT	;
 95)   8553 12          		 LD (DE), A	;
 96)   8554 23          		 INC HL	;
 97)   8555 13          		 INC DE	;
 98)   8556 18 F6       		 JR SCLP	;
 99)   8558 C9          		SCEXT: RET	;
101)   8559 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   855D 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8561 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8565 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8569 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   856D 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8571 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8575 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8579 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   857D 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8581 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8585 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8589 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   858D 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8591 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8595 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   8599 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   859D 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   85A1 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   85A5 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   85A9 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   85AD 20 20 20 20 		STCL4: DEFM "                                                                                         "	;
101)   85B1 20          		STCL4: DEFM "                                                                                         "	;
102)   85B2 00          		 DB 0	;
104)   85B3 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85B7 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85BB 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85BF 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85C3 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85C7 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85CB 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85CF 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85D3 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85D7 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85DB 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85DF 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85E3 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85E7 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85EB 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85EF 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85F3 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85F7 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85FB 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   85FF 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   8603 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   8607 20 20 20 20 		STCL8: DEFM "                                                                                         "	;
104)   860B 20          		STCL8: DEFM "                                                                                         "	;
105)   860C 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8610 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8614 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8618 20 20 20 20 		 DEFM "                                                                                         "	;
105)   861C 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8620 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8624 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8628 20 20 20 20 		 DEFM "                                                                                         "	;
105)   862C 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8630 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8634 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8638 20 20 20 20 		 DEFM "                                                                                         "	;
105)   863C 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8640 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8644 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8648 20 20 20 20 		 DEFM "                                                                                         "	;
105)   864C 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8650 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8654 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8658 20 20 20 20 		 DEFM "                                                                                         "	;
105)   865C 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8660 20 20 20 20 		 DEFM "                                                                                         "	;
105)   8664 20          		 DEFM "                                                                                         "	;
106)   8665 00          		 DB 0	;
108)   8666 53 43 52 45 		SCRDY: DEFM "SCREEN READY!!!"	;
108)   866A 45 4E 20 52 		SCRDY: DEFM "SCREEN READY!!!"	;
108)   866E 45 41 44 59 		SCRDY: DEFM "SCREEN READY!!!"	;
108)   8672 21 21 21    		SCRDY: DEFM "SCREEN READY!!!"	;
109)   8675 00          		 DB 0	;
  6)   8676 FE 00       		 CP 0	;
  7)   8678 C8          		 RET Z	;
  8)   8679 CD 1D 87    		 CALL NBLOOKASC	;
  9)   867C C9          		 RET	;
 11)   867D 21 9B 86    		NBLOOK: LD HL, NBTAB	;
 12)   8680 06 00       		 LD B, 0	;
 13)   8682 4F          		 LD C, A	;
 14)   8683 09          		 ADD HL, BC	;
 15)   8684 7E          		 LD A, (HL)	;
 16)   8685 FE 00       		 CP 0	;
 17)   8687 C8          		 RET Z	;
 18)   8688 21 7A 00    		 LD HL, KEYCTR        ;BIT 6=SHIFT BIT 7=CTRL  BIT 6+7=GRPH	;BIT 6=SHIFT BIT 7=CTRL  BIT 6+7=GRPH
 19)   868B CB 6E       		 BIT 5, (HL)	;
 20)   868D 28 04       		 JR Z, NOGRPH	;
 21)   868F 06 C0       		 LD B, 192        ;SET BIT 6 AND 7	;SET BIT 6 AND 7
 22)   8691 18 06       		 JR NBLKEX	;
 23)   8693 4F          		NOGRPH: LD C, A	;
 24)   8694 7E          		 LD A, (HL)	;
 25)   8695 E6 C0       		 AND 11000000	;
 26)   8697 47          		 LD B, A	;
 27)   8698 79          		 LD A, C	;
 28)   8699 B0          		NBLKEX: OR B	;
 29)   869A C9          		 RET	;
 31)   869B 00 00 00 00 		NBTAB: DB 0,0,0,0,0,0,0,0,0,0       ;  0-  9	;  0-  9
 31)   869F 00 00 00 00 		NBTAB: DB 0,0,0,0,0,0,0,0,0,0       ;  0-  9	;  0-  9
 31)   86A3 00 00       		NBTAB: DB 0,0,0,0,0,0,0,0,0,0       ;  0-  9	;  0-  9
 32)   86A5 00 00 00 A4 		 DB 0,0,0,36+128,0,0,0,0,0,0      ; 10- 19 0,0,0,TAB	; 10- 19 0,0,0,TAB
 32)   86A9 00 00 00 00 		 DB 0,0,0,36+128,0,0,0,0,0,0      ; 10- 19 0,0,0,TAB	; 10- 19 0,0,0,TAB
 32)   86AD 00 00       		 DB 0,0,0,36+128,0,0,0,0,0,0      ; 10- 19 0,0,0,TAB	; 10- 19 0,0,0,TAB
 33)   86AF 00 0E 09 00 		 DB 0,14,9,0,0,0,60,45,46,13      ; 20- 29	; 20- 29
 33)   86B3 00 00 3C 2D 		 DB 0,14,9,0,0,0,60,45,46,13      ; 20- 29	; 20- 29
 33)   86B7 2E 0D       		 DB 0,14,9,0,0,0,60,45,46,13      ; 20- 29	; 20- 29
 34)   86B9 08 00 00 3A 		 DB 8,0,0,58,59,44,12,6,7,0      ; 30- 39	; 30- 39
 34)   86BD 3B 2C 0C 06 		 DB 8,0,0,58,59,44,12,6,7,0      ; 30- 39	; 30- 39
 34)   86C1 07 00       		 DB 8,0,0,58,59,44,12,6,7,0      ; 30- 39	; 30- 39
 35)   86C3 00 0F 39 2B 		 DB 0,15,57,43,10,11,5,0,0,52      ; 40- 49	; 40- 49
 35)   86C7 0A 0B 05 00 		 DB 0,15,57,43,10,11,5,0,0,52      ; 40- 49	; 40- 49
 35)   86CB 00 34       		 DB 0,15,57,43,10,11,5,0,0,52      ; 40- 49	; 40- 49
 36)   86CD 38 29 2A 25 		 DB 56,41,42,37,4,0,0,0,53,51      ; 50- 59	; 50- 59
 36)   86D1 04 00 00 00 		 DB 56,41,42,37,4,0,0,0,53,51      ; 50- 59	; 50- 59
 36)   86D5 35 33       		 DB 56,41,42,37,4,0,0,0,53,51      ; 50- 59	; 50- 59
 37)   86D7 23 03 13 00 		 DB 35,3,19,0,0,54,62,36,38,21      ; 60- 69	; 60- 69
 37)   86DB 00 36 3E 24 		 DB 35,3,19,0,0,54,62,36,38,21      ; 60- 69	; 60- 69
 37)   86DF 26 15       		 DB 35,3,19,0,0,54,62,36,38,21      ; 60- 69	; 60- 69
 38)   86E1 14 00 00 37 		 DB 20,0,0,55,47,39,40,26,28,0      ; 70- 79	; 70- 79
 38)   86E5 2F 27 28 1A 		 DB 20,0,0,55,47,39,40,26,28,0      ; 70- 79	; 70- 79
 38)   86E9 1C 00       		 DB 20,0,0,55,47,39,40,26,28,0      ; 70- 79	; 70- 79
 39)   86EB 00 00 43 00 		 DB 0,0,67,0,86,27,0,0,0,0      ; 80- 89	; 80- 89
 39)   86EF 56 1B 00 00 		 DB 0,0,67,0,86,27,0,0,0,0      ; 80- 89	; 80- 89
 39)   86F3 00 00       		 DB 0,0,67,0,86,27,0,0,0,0      ; 80- 89	; 80- 89
 40)   86F5 1E 00 00 00 		 DB 30,0,0,0,0,0,0,0,0,0      ; 90- 99	; 90- 99
 40)   86F9 00 00 00 00 		 DB 30,0,0,0,0,0,0,0,0,0      ; 90- 99	; 90- 99
 40)   86FD 00 00       		 DB 30,0,0,0,0,0,0,0,0,0      ; 90- 99	; 90- 99
 41)   86FF 00 00 40 00 		 DB 0,0,64,0,0,26+128,0,2,63,0      ;100-109  0,0,64,0,0,END	;100-109  0,0,64,0,0,END
 41)   8703 00 9A 00 02 		 DB 0,0,64,0,0,26+128,0,2,63,0      ;100-109  0,0,64,0,0,END	;100-109  0,0,64,0,0,END
 41)   8707 3F 00       		 DB 0,0,64,0,0,26+128,0,2,63,0      ;100-109  0,0,64,0,0,END	;100-109  0,0,64,0,0,END
 42)   8709 00 00 3D A5 		 DB 0,0,61,37+128,34,0,18,50,31,25     ;110-119  0,0,INS,DEL	;110-119  0,0,INS,DEL
 42)   870D 22 00 12 32 		 DB 0,0,61,37+128,34,0,18,50,31,25     ;110-119  0,0,INS,DEL	;110-119  0,0,INS,DEL
 42)   8711 1F 19       		 DB 0,0,61,37+128,34,0,18,50,31,25     ;110-119  0,0,INS,DEL	;110-119  0,0,INS,DEL
 43)   8713 00 1D 07 1C 		 DB 0,29,7,28,24,20,0,0,0,0      ;120-129	;120-129
 43)   8717 18 14 00 00 		 DB 0,29,7,28,24,20,0,0,0,0      ;120-129	;120-129
 43)   871B 00 00       		 DB 0,29,7,28,24,20,0,0,0,0      ;120-129	;120-129
 46)   871D 21 26 87    		NBLOOKASC:     LD HL, NBRSTAB	;
 47)   8720 06 00       		 LD B, 0	;
 48)   8722 4F          		 LD C, A	;
 49)   8723 09          		 ADD HL, BC	;
 50)   8724 7E          		 LD A, (HL)	;
 51)   8725 C9          		 RET	;
 54)   8726 00 3D 00 12 		NBRSTAB:      DB 0,61,0,18,2,0,64,0,64,0      ;  0-  9	;  0-  9
 54)   872A 02 00 40 00 		NBRSTAB:      DB 0,61,0,18,2,0,64,0,64,0      ;  0-  9	;  0-  9
 54)   872E 40 00       		NBRSTAB:      DB 0,61,0,18,2,0,64,0,64,0      ;  0-  9	;  0-  9
 55)   8730 22 32 00 1E 		 DB 34,50,0,30,0,0,0,0,0,0     ; 10- 19 	; 10- 19
 55)   8734 00 00 00 00 		 DB 34,50,0,30,0,0,0,0,0,0     ; 10- 19 	; 10- 19
 55)   8738 00 00       		 DB 34,50,0,30,0,0,0,0,0,0     ; 10- 19 	; 10- 19
 56)   873A 00 00 00 00 		 DB 0,0,0,0,0,0,0,31,0,0      ; 20- 29	; 20- 29
 56)   873E 00 00 00 1F 		 DB 0,0,0,0,0,0,0,31,0,0      ; 20- 29	; 20- 29
 56)   8742 00 00       		 DB 0,0,0,0,0,0,0,31,0,0      ; 20- 29	; 20- 29
 57)   8744 00 00 0F 49 		 DB 0,0,15,9+64,8+64,7+64,6+64,5+64,0,3+64          ; 30- 39  	; 30- 39
 57)   8748 48 47 46 45 		 DB 0,0,15,9+64,8+64,7+64,6+64,5+64,0,3+64          ; 30- 39  	; 30- 39
 57)   874C 00 43       		 DB 0,0,15,9+64,8+64,7+64,6+64,5+64,0,3+64          ; 30- 39  	; 30- 39
 58)   874E 16 17 18 1D 		 DB 22,23,24,29,54,28,55,47,21,9     ; 40- 49	; 40- 49
 58)   8752 36 1C 37 2F 		 DB 22,23,24,29,54,28,55,47,21,9     ; 40- 49	; 40- 49
 58)   8756 15 09       		 DB 22,23,24,29,54,28,55,47,21,9     ; 40- 49	; 40- 49
 59)   8758 08 07 06 05 		 DB 8,7,6,5,4,3,19,20,40+64,40             ; 50- 59	; 50- 59
 59)   875C 04 03 13 14 		 DB 8,7,6,5,4,3,19,20,40+64,40             ; 50- 59	; 50- 59
 59)   8760 68 28       		 DB 8,7,6,5,4,3,19,20,40+64,40             ; 50- 59	; 50- 59
 60)   8762 00 1B 00 6F 		 DB 0,27,0,47+64,0,46+64,56+64,58+64,44+64,12+64   ; 60- 69	; 60- 69
 60)   8766 00 6E 78 7A 		 DB 0,27,0,47+64,0,46+64,56+64,58+64,44+64,12+64   ; 60- 69	; 60- 69
 60)   876A 6C 4C       		 DB 0,27,0,47+64,0,46+64,56+64,58+64,44+64,12+64   ; 60- 69	; 60- 69
 61)   876C 6B 6A 69 64 		 DB 43+64,42+64,41+64,36+64,51+64,62+64,39+64,53+64,52+64,38+64 ; 70- 79	; 70- 79
 61)   8770 73 7E 67 75 		 DB 43+64,42+64,41+64,36+64,51+64,62+64,39+64,53+64,52+64,38+64 ; 70- 79	; 70- 79
 61)   8774 74 66       		 DB 43+64,42+64,41+64,36+64,51+64,62+64,39+64,53+64,52+64,38+64 ; 70- 79	; 70- 79
 62)   8776 5A 4E 4B 6D 		 DB 26+64,14+64,11+64,45+64,10+64,35+64,57+64,13+64,59+64,37+64 ; 80- 89	; 80- 89
 62)   877A 4A 63 79 4D 		 DB 26+64,14+64,11+64,45+64,10+64,35+64,57+64,13+64,59+64,37+64 ; 80- 89	; 80- 89
 62)   877E 7B 65       		 DB 26+64,14+64,11+64,45+64,10+64,35+64,57+64,13+64,59+64,37+64 ; 80- 89	; 80- 89
 63)   8780 7C 56 5C 57 		 DB 60+64,22+64,92,23+64,0,0,0,46,56,58    ; 90- 99	; 90- 99
 63)   8784 00 00 00 2E 		 DB 60+64,22+64,92,23+64,0,0,0,46,56,58    ; 90- 99	; 90- 99
 63)   8788 38 3A       		 DB 60+64,22+64,92,23+64,0,0,0,46,56,58    ; 90- 99	; 90- 99
 64)   878A 2C 0C 2B 2A 		 DB 44,12,43,42,41,36,51,62,39,53    ;100-109  	;100-109
 64)   878E 29 24 33 3E 		 DB 44,12,43,42,41,36,51,62,39,53    ;100-109  	;100-109
 64)   8792 27 35       		 DB 44,12,43,42,41,36,51,62,39,53    ;100-109  	;100-109
 65)   8794 34 26 1A 0E 		 DB 52,38,26,14,11,45,10,35,57,13           ;110-119  	;110-119
 65)   8798 0B 2D 0A 23 		 DB 52,38,26,14,11,45,10,35,57,13           ;110-119  	;110-119
 65)   879C 39 0D       		 DB 52,38,26,14,11,45,10,35,57,13           ;110-119  	;110-119
 66)   879E 3B 25 3C 00 		 DB 59,37,60,0,0,0,0,0,0,0       ;120-129	;120-129
 66)   87A2 00 00 00 00 		 DB 59,37,60,0,0,0,0,0,0,0       ;120-129	;120-129
 66)   87A6 00 00       		 DB 59,37,60,0,0,0,0,0,0,0       ;120-129	;120-129
 67)   87A8 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;130-  9	;130-  9
 67)   87AC 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;130-  9	;130-  9
 67)   87B0 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;130-  9	;130-  9
 68)   87B2 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;140-  9	;140-  9
 68)   87B6 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;140-  9	;140-  9
 68)   87BA 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;140-  9	;140-  9
 69)   87BC 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;150-  9	;150-  9
 69)   87C0 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;150-  9	;150-  9
 69)   87C4 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;150-  9	;150-  9
 70)   87C6 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;160-  9	;160-  9
 70)   87CA 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;160-  9	;160-  9
 70)   87CE 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;160-  9	;160-  9
 71)   87D0 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;170-  9	;170-  9
 71)   87D4 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;170-  9	;170-  9
 71)   87D8 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;170-  9	;170-  9
 72)   87DA 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;180-  9	;180-  9
 72)   87DE 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;180-  9	;180-  9
 72)   87E2 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;180-  9	;180-  9
 73)   87E4 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;190-  9	;190-  9
 73)   87E8 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;190-  9	;190-  9
 73)   87EC 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;190-  9	;190-  9
 74)   87EE 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;200-  9	;200-  9
 74)   87F2 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;200-  9	;200-  9
 74)   87F6 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;200-  9	;200-  9
 75)   87F8 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;210-  9	;210-  9
 75)   87FC 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;210-  9	;210-  9
 75)   8800 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;210-  9	;210-  9
 76)   8802 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;220-  9	;220-  9
 76)   8806 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;220-  9	;220-  9
 76)   880A 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;220-  9	;220-  9
 77)   880C 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;230-  9	;230-  9
 77)   8810 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;230-  9	;230-  9
 77)   8814 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;230-  9	;230-  9
 78)   8816 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;240-  9	;240-  9
 78)   881A 00 00 00 00 		               DB 0,0,0,0,0,0,0,0,0,0       ;240-  9	;240-  9
 78)   881E 00 00       		               DB 0,0,0,0,0,0,0,0,0,0       ;240-  9	;240-  9
 79)   8820 00 00 00 00 		               DB 0,0,0,0,0,0           ;250-  5	;250-  5
 79)   8824 00 00       		               DB 0,0,0,0,0,0           ;250-  5	;250-  5
 19)   8826 21 58 00    		STNEWD: LD HL, $58        ;DEVTAB	;DEVTAB
 20)   8829 11 36 88    		 LD DE, DEVTAB        ; NEW TABLE SET	; NEW TABLE SET
 21)   882C 73          		 LD (HL), E	;
 22)   882D 23          		 INC HL	;
 23)   882E 72          		 LD (HL), D	;
 24)   882F 21 13 00    		 LD HL, DEFSTOR	;
 25)   8832 3E 09       		 LD A, 9        ;DEFAULT STORE DEVICE IS 9 NB STORAGE MODULE	;DEFAULT STORE DEVICE IS 9 NB STORAGE MODULE
 26)   8834 77          		 LD (HL), A	;
 27)   8835 C9          		 RET	;
 31)   8836 0E          		DEVTAB: DEFB 14        ;number of entries ;number of entries	;number of entries ;number of entries
 32)   8837 83 E6       		 DEFW TVIO        ;	;
 33)   8839 EE ED       		 DEFW TP1IO        ;	;
 34)   883B F4 ED       		 DEFW TP2IO        ;	;
 35)   883D 50 E6       		 DEFW LIIO        ;	;
 36)   883F 75 E6       		 DEFW TLIO        ;	;
 37)   8841 36 A1       		 DEFW NKBWIO        ;	;
 38)   8843 1A A1       		 DEFW NKBIIO        ;	;
 39)   8845 1F E4       		 DEFW UPIO        ;	;
 40)   8847 3C E4       		 DEFW LPIO        ;	;
 41)   8849 2F E4       		 DEFW JGIO        ;	;
 42)   884B 19 E4       		 DEFW DUMMY        ;	;
 43)   884D 96 A5       		 DEFW GRAPH        ;	;
 44)   884F 53 88       		 DEFW RS2IO        ;MY SERIAL DEVICE 12	;MY SERIAL DEVICE 12
 45)   8851 B7 88       		               DEFW SG2IO        ;MY STORAGE DEVICE 13	;MY STORAGE DEVICE 13
 15)   8853 	            		 RBR EQU DEVSER+0       ;	;
 16)   8853 	            		 MCR EQU DEVSER+04	;
 17)   8853 	            		 LSR EQU DEVSER+05	;
 33)   8853 04          		 DEFB 4	;
 34)   8854 05          		 DEFB RS2OIN-$        ;OPEN IN	;OPEN IN
 35)   8855 04          		 DEFB RS2OOT-$        ;OPEN OUT	;OPEN OUT
 36)   8856 10          		 DEFB RS2INP-$        ;INPUT BYTE	;INPUT BYTE
 37)   8857 2A          		 DEFB RS2OTP-$        ;OUTPUT BYTE	;OUTPUT BYTE
 38)   8858 0A          		 DEFB RS2CLS-$        ;CLOSE	;CLOSE
 50)   8859 C5          		RS2OOT: PUSH BC        ;OPENOUT	;OPENOUT
 51)   885A 01 01 00    		 LD BC, 1        ;NO OF BYTES REQUIRED	;NO OF BYTES REQUIRED
 52)   885D EF 37       		 DEFW WMKBUFF        ;	;
 53)   885F C1          		 POP BC         ;	;
 54)   8860 D8          		 RET C         ;	;
 56)   8861 72          		 LD (HL), D        ;PORT NUMBER	;PORT NUMBER
 57)   8862 AF          		RS2CLS: XOR A         ; CLOSE STREAM	; CLOSE STREAM
 58)   8863 47          		 LD B A         ;	;
 59)   8864 4F          		 LD C A         ;	;
 60)   8865 C9          		 RET         ;	;
 70)   8866 F3          		RS2INP: DI         ;	;
 71)   8867 21 24 00    		 LD HL ENREGMAP        ;	;
 72)   886A CB 86       		 RES VIDEO, (HL)       ; NO VIDEO	; NO VIDEO
 73)   886C 7E          		 LD A, (HL)	;
 74)   886D D3 07       		 OUT (ENREG) A        ;	;
 75)   886F 3E 01       		 LD A, 1	;
 76)   8871 D3 24       		 OUT (MCR), A	;
 77)   8873 CD 91 88    		 CALL MWAIT        ;	;
 78)   8876 AF          		 XOR A         ;NOT ready to receive SIGNAL DSR 0	;NOT ready to receive SIGNAL DSR 0
 79)   8877 D3 24       		 OUT (MCR), A	;
 80)   8879 DB 20       		 IN A, (RBR)        ;GET THE CHAR	;GET THE CHAR
 81)   887B CD 48 E5    		 CALL STOPTV        ;	;
 82)   887E FB          		 EI         ;	;
 83)   887F B7          		 OR A         ;	;
 84)   8880 C9          		 RET	;
 87)   8881 4F          		RS2OTP: LD C, A        ;	;
 93)   8882 F3          		 DI         ;	;
 94)   8883 CD 1C E2    		 CALL $E21C        ;NOVID ;	;NOVID ;
 95)   8886 79          		 LD A, C	;
 96)   8887 CD 07 80    		 CALL $8007        ;RSTX   ;SEND CHAR IN A	;RSTX   ;SEND CHAR IN A
 97)   888A CD 48 E5    		 CALL STOPTV        ;	;
 98)   888D FB          		 EI         ;	;
 99)   888E 2B          		 DEC HL         ;	;
100)   888F B7          		 OR A         ;	;
101)   8890 C9          		 RET         ;	;
104)   8891 21 00 64    		MWAIT: LD HL 25600	;
106)   8894 DB 25       		MWAIT2: IN A, (LSR)	;
107)   8896 1F          		 RRA         ;check d0 ('DATA')	;check d0 ('DATA')
108)   8897 D8          		 RET C	;
109)   8898 10 FA       		 DJNZ MWAIT2	;
110)   889A DB 25       		 IN A, (LSR)	;
111)   889C 1F          		 RRA         ;check d0 ('DATA')	;check d0 ('DATA')
112)   889D D8          		 RET C	;
113)   889E 2D          		 DEC L	;
114)   889F DB 25       		 IN A, (LSR)	;
115)   88A1 1F          		 RRA         ;check d0 ('DATA')	;check d0 ('DATA')
116)   88A2 D8          		 RET C	;
117)   88A3 C2 94 88    		 JP NZ MWAIT2	;
118)   88A6 DB 25       		 IN A, (LSR)	;
119)   88A8 1F          		 RRA         ;check d0 ('DATA')	;check d0 ('DATA')
120)   88A9 D8          		 RET C	;
121)   88AA 25          		 DEC H	;
122)   88AB DB 25       		 IN A, (LSR)	;
123)   88AD 1F          		 RRA	;
124)   88AE D8          		 RET C	;
125)   88AF C2 94 88    		 JP NZ, MWAIT2	;
126)   88B2 F1          		 POP AF         ;POP LAST RETURN ADDRESS FROM STACK	;POP LAST RETURN ADDRESS FROM STACK
127)   88B3 3E C8       		 LD A, 200        ;TIMEOUT ERROR	;TIMEOUT ERROR
128)   88B5 37          		 SCF	;
129)   88B6 C9          		 RET         ;RETURN TO BASIC WITH ERROR TIMEOUT	;RETURN TO BASIC WITH ERROR TIMEOUT
 21)   88B7 04          		 DEFB 4                                                          ;COUNT OF DISPLACEMENTS-1	;COUNT OF DISPLACEMENTS-1
 22)   88B8 0B          		 DEFB SG2OIN-$        ;OPEN IN	;OPEN IN
 23)   88B9 0A          		 DEFB SG2OOT-$        ;OPEN OUT	;OPEN OUT
 24)   88BA 37          		 DEFB SG2INP-$        ;INPUT BYTE	;INPUT BYTE
 25)   88BB 5A          		 DEFB SG2OTP-$        ;OUTPUT BYTE	;OUTPUT BYTE
 26)   88BC 31          		 DEFB SG2CLS-$        ;CLOSE	;CLOSE
 29)   88BD 11 83 00    		CPYFNAME:      LD DE,STRGBUFF	;
 30)   88C0 ED B0       		               LDIR	;
 31)   88C2 C9          		               RET	;
 41)   88C3 E5          		SG2OOT: PUSH HL	;
 42)   88C4 C5          		               PUSH BC        ;OPENOUT	;OPENOUT
 43)   88C5 01 17 00    		 LD BC, 23        ;NO OF BYTES REQUIRED	;NO OF BYTES REQUIRED
 44)   88C8 EF 37       		 DEFW WMKBUFF        ;	;
 45)   88CA C1          		 POP BC                 	;
 46)   88CB 38 1D       		 JR C, ERREXIT                	;
 48)   88CD 73          		 LD (HL), E        ;STREAM NUMBER	;STREAM NUMBER
 49)   88CE 23          		               INC HL	;
 50)   88CF 36 00       		               LD (HL),0                                                       ;POS ZERO	;POS ZERO
 51)   88D1 23          		               INC HL	;
 52)   88D2 36 00       		               LD (HL),0	;
 53)   88D4 23          		               INC HL	;
 54)   88D5 E5          		               PUSH HL	;
 55)   88D6 D1          		               POP DE                                                          ;DE OUR BUFFER+3        	;DE OUR BUFFER+3
 56)   88D7 E1          		               POP HL                                                          ;HL THE FILE NAME	;HL THE FILE NAME
 57)   88D8 D5          		               PUSH DE                                                         ;SAVE THE START OF FILENAME        	;SAVE THE START OF FILENAME
 58)   88D9 ED B0       		               LDIR                                                            ;TRANSFER THE FNAME TO OUR STRUCT        	;TRANSFER THE FNAME TO OUR STRUCT
 59)   88DB AF          		               XOR A	;
 60)   88DC 12          		               LD (DE),A                                                       ;NULL TERMINATED STRING	;NULL TERMINATED STRING
 62)   88DD E1          		               POP HL                                                          ;START OF FNAME	;START OF FNAME
 63)   88DE 01 00 00    		               LD BC,0	;
 64)   88E1 13          		               INC DE	;
 65)   88E2 CD 77 8C    		               CALL STRG_LOADFILE	;
 66)   88E5 3E C9       		               LD A,201                                                        ;ERROR NO IF FILE ERROR	;ERROR NO IF FILE ERROR
 67)   88E7 D8          		               RET C	;
 68)   88E8 AF          		               XOR A	;
 69)   88E9 C9          		               RET	;
 72)   88EA E1          		ERREXIT:       POP HL	;
 73)   88EB 37          		               SCF	;
 74)   88EC C9          		               RET	;
 76)   88ED AF          		SG2CLS: XOR A         ; CLOSE STREAM	; CLOSE STREAM
 77)   88EE 47          		 LD B A         ;	;
 78)   88EF 4F          		 LD C A         ;	;
 79)   88F0 C9          		 RET         ;	;
 84)   88F1 23          		SG2INP:        INC HL                	;
 85)   88F2 E5          		               PUSH HL                                                         ;SAVE OFFSET POS	;SAVE OFFSET POS
 86)   88F3 4E          		               LD C,(HL)	;
 87)   88F4 23          		               INC HL	;
 88)   88F5 46          		               LD B,(HL)	;
 89)   88F6 23          		               INC HL	;
 90)   88F7 E5          		               PUSH HL	;
 91)   88F8 D1          		               POP DE	;
 92)   88F9 EB          		               EX DE,HL	;
 93)   88FA C5          		               PUSH BC	;
 94)   88FB 01 12 00    		               LD BC,18	;
 95)   88FE 09          		               ADD HL,BC	;
 96)   88FF C1          		               POP BC	;
 97)   8900 EB          		               EX DE,HL	;
 98)   8901 D5          		               PUSH DE	;
 99)   8902 CD 13 8D    		               CALL STRG_READBYTE	;
100)   8905 D1          		               POP DE                                                          ;THE BUFFER TO READ THE BYTE	;THE BUFFER TO READ THE BYTE
101)   8906 3E CA       		               LD A,202                                                        ;ERROR CODE CAN'T READ FROM FILE	;ERROR CODE CAN'T READ FROM FILE
102)   8908 38 E0       		               JR C,ERREXIT	;
104)   890A E1          		               POP HL  	;
105)   890B 4E          		               LD C,(HL)                                                        ;OFFSET OF FILE	;OFFSET OF FILE
106)   890C 23          		               INC HL	;
107)   890D 46          		               LD B,(HL)	;
108)   890E 03          		               INC BC	;
109)   890F 70          		               LD (HL),B	;
110)   8910 2B          		               DEC HL	;
111)   8911 71          		               LD (HL),C	;
112)   8912 AF          		               XOR A	;
113)   8913 1A          		               LD A,(DE)                                                       ;READ THE BYTE TO A	;READ THE BYTE TO A
114)   8914 C9          		               RET	;
117)   8915 C9          		SG2OTP:        RET	;
 10)   8916 21 B5 00    		INITMMU:       LD HL,BANKS	;
 11)   8919 06 08       		               LD B,8	;
 12)   891B AF          		               XOR A	;
 13)   891C 77          		INM_AGN:       LD (HL),A	;
 14)   891D 3C          		               INC A	;
 15)   891E 23          		 INC HL	;
 16)   891F 10 FB       		               DJNZ INM_AGN	;
 17)   8921 C9          		               RET                	;
 23)   8922 4F          		PUTPGINBANK: LD C, A       ;SAVE PAGE	;SAVE PAGE
 24)   8923 78          		 LD A, B                                                         ;BANK IN A	;BANK IN A
 25)   8924 FE 02       		 CP 2	;
 26)   8926 D8          		 RET C         ;BANK 0,1 WILL NEVER CHANGE	;BANK 0,1 WILL NEVER CHANGE
 27)   8927 FE 07       		 CP 7	;
 28)   8929 C8          		 RET Z         ;BANK 7 WILL NEVER CHANGE	;BANK 7 WILL NEVER CHANGE
 29)   892A 21 B5 00    		 LD HL, BANKS	;
 30)   892D 16 00       		 LD D, 0	;
 31)   892F 5F          		 LD E, A	;
 32)   8930 19          		 ADD HL, DE	;
 33)   8931 79          		 LD A, C        ;RESTORE PAGE	;RESTORE PAGE
 34)   8932 77          		 LD (HL), A        ;SAVE PG IN BANK B MEMORY	;SAVE PG IN BANK B MEMORY
 35)   8933 0E 00       		 LD C, DEVMMU	;
 36)   8935 58          		 LD E,B	;
 37)   8936 CB 20       		 SLA B         ;SHIFT BANK TO A15..A13 FROM A2..A0 WE USE THESE PINS ON THE CPLD FOR BANK INPUT	;SHIFT BANK TO A15..A13 FROM A2..A0 WE USE THESE PINS ON THE CPLD FOR BANK INPUT
 38)   8938 CB 20       		 SLA B	;
 39)   893A CB 20       		 SLA B	;
 40)   893C CB 20       		 SLA B	;
 41)   893E CB 20       		 SLA B         ;SET TO A15,A14,A13	;SET TO A15,A14,A13
 42)   8940 ED 79       		 OUT (C), A	;
 43)   8942 43          		 LD B,E	;
 44)   8943 C9          		 RET	;
 49)   8944 21 B5 00    		GETPGINBANK:   LD HL,BANKS	;
 50)   8947 16 00       		               LD D,0	;
 51)   8949 58          		               LD E,B	;
 52)   894A 19          		               ADD HL,DE	;
 53)   894B 7E          		               LD A,(HL)	;
 54)   894C C9          		               RET	;
 17)   894D 	            		 RBR EQU DEVSER+0      ;RECEIVER BUFFER REGISTER (READ ONLY) (DLAB = 0)	;RECEIVER BUFFER REGISTER (READ ONLY) (DLAB = 0)
 18)   894D 	            		 THR EQU DEVSER+0      ;TRANSMITER HOLDING REGISTER (WRITE ONLY) (DLAB = 0)	;TRANSMITER HOLDING REGISTER (WRITE ONLY) (DLAB = 0)
 19)   894D 	            		 IER EQU DEVSER+1      ;INTERRUPT ENABLE REGISTER (DLAB = 0)	;INTERRUPT ENABLE REGISTER (DLAB = 0)
 24)   894D 	            		 IIR EQU DEVSER+2      ;INTERRUPT IDENT. REGISTER (READ ONLY)	;INTERRUPT IDENT. REGISTER (READ ONLY)
 29)   894D 	            		 FCR EQU DEVSER+2      ;FIFO CONTROL REGISTER (WRITE ONLY)	;FIFO CONTROL REGISTER (WRITE ONLY)
 37)   894D 	            		 LCR EQU DEVSER+3      ;LINE CONTROL REGISTER	;LINE CONTROL REGISTER
 45)   894D 	            		 MCR EQU DEVSER+4      ;MODEM CONTROL REGISTER	;MODEM CONTROL REGISTER
 46)   894D 	            		 LSR EQU DEVSER+5      ;LINE STATUS REGISTER	;LINE STATUS REGISTER
 55)   894D 	            		 MSR EQU DEVSER+6      ;MODEM STATUS REGISTER	;MODEM STATUS REGISTER
 56)   894D 	            		 SCR EQU DEVSER+7      ;SCRATCH REGISTER	;SCRATCH REGISTER
 57)   894D 	            		 DLL EQU DEVSER+0      ;DIVISOR LATCH (LEAST SIGNIFICANT BYTE) (DLAB = 1)	;DIVISOR LATCH (LEAST SIGNIFICANT BYTE) (DLAB = 1)
 58)   894D 	            		 DLM EQU DEVSER+1      ;DIVISOR LATCH (MOST SIGNIFICANT BYTE) (DLAB = 1)	;DIVISOR LATCH (MOST SIGNIFICANT BYTE) (DLAB = 1)
 64)   894D F5          		RS_INI: PUSH AF	;
 65)   894E 3E 80       		 LD A, $80        ; Mask to set DLAB on	; Mask to set DLAB on
 66)   8950 D3 23       		 OUT (LCR), A        ; Send to LINe Control Register	; Send to LINe Control Register
 75)   8952 F1          		 POP AF	;
 76)   8953 D3 20       		 OUT (DLL), A        ; Set LSB of divisor	; Set LSB of divisor
 77)   8955 3E 00       		 LD A, 00        ; This will be the MSB of the divisior	; This will be the MSB of the divisior
 78)   8957 D3 21       		 OUT (DLM), A        ; Send to the MSB register	; Send to the MSB register
 79)   8959 3E 03       		 LD A, $03        ; 8 bits, 1 stop, no parity (and clear DLAB)	; 8 bits, 1 stop, no parity (and clear DLAB)
 80)   895B D3 23       		 OUT (LCR), A        ; Write new value to LCR	; Write new value to LCR
 82)   895D 3E 00       		 LD A, 0	;
 83)   895F D3 22       		 OUT (FCR), A        ;//was commented	;//was commented
 84)   8961 3E 00       		 LD A, $00        ; 5 A=0 Disable all INterrupts	; 5 A=0 Disable all INterrupts
 85)   8963 D3 21       		 OUT (IER), A        ; Send to INterrupt Enable Register	; Send to INterrupt Enable Register
 86)   8965 C9          		 RET	;
 89)   8966 CD 6C 89    		RS_TX: CALL RSTXRD	;
 90)   8969 D3 20       		 OUT (THR), A	;
 92)   896B C9          		 RET	;
 95)   896C F5          		RSTXRD: PUSH AF	;
 96)   896D DB 25       		RSTXLP: IN A, (LSR)        ; fetch the control register	; fetch the control register
 97)   896F CB 6F       		 BIT 5, A        ; bit will be set if UART is ready	; bit will be set if UART is ready
 98)   8971 28 FA       		 JR Z, RSTXLP	;
 99)   8973 F1          		 POP AF	;
100)   8974 C9          		 RET	;
104)   8975 7E          		RS_TXT: LD A, (HL)	;
105)   8976 23          		 INC HL	;
106)   8977 FE 00       		 CP 0	;
107)   8979 C8          		 RET Z	;
108)   897A CD 66 89    		 CALL RS_TX	;
109)   897D 18 F6       		 JR RS_TXT	;
113)   897F E5          		RS_MESG: PUSH HL	;
114)   8980 C5          		 PUSH BC	;
115)   8981 D5          		 PUSH DE	;
116)   8982 F5          		 PUSH AF	;
117)   8983 21 09 00    		 LD HL,9 ;POINTS TO RET ADDRESS +10 FROM SP = OUR STRING	;POINTS TO RET ADDRESS +10 FROM SP = OUR STRING
118)   8986 39          		 ADD HL,SP	;
119)   8987 46          		 LD B,(HL)    	;
120)   8988 2B          		 DEC HL	;
121)   8989 4E          		 LD C,(HL)	;
122)   898A 60          		 LD H,B	;
123)   898B 69          		 LD L,C	;
124)   898C CD 75 89    		 CALL RS_TXT	;
125)   898F F1          		 POP AF	;
126)   8990 D1          		 POP DE	;
127)   8991 44          		 LD B,H  ;NEW RET ADDRESS	;NEW RET ADDRESS
128)   8992 4D          		 LD C,L	;
129)   8993 21 05 00    		 LD HL,5 ;POINTS TO RET ADDRESS +6 FROM SP	;POINTS TO RET ADDRESS +6 FROM SP
130)   8996 39          		 ADD HL,SP  	;
131)   8997 70          		 LD (HL),B	;
132)   8998 2B          		 DEC HL	;
133)   8999 71          		 LD (HL),C  	;
134)   899A C1          		 POP BC	;
135)   899B E1          		 POP HL	;
136)   899C C9          		 RET 	;
143)   899D ED 57       		RS_RX: LD A,I        ;SETS PV IF INTS ARE ENABLED	;SETS PV IF INTS ARE ENABLED
144)   899F F5          		 PUSH AF	;
145)   89A0 D1          		 POP DE	;
146)   89A1 F3          		 DI	;
147)   89A2 3E 01       		 LD A, 1        ;ready to receive SIGNAL DSR 1	;ready to receive SIGNAL DSR 1
148)   89A4 D3 24       		 OUT (MCR), A	;
149)   89A6 CD C4 89    		 CALL RSRXRD	;
150)   89A9 AF          		RS_GTCH: XOR A        ;NOT ready to receive SIGNAL DSR 0	;NOT ready to receive SIGNAL DSR 0
151)   89AA D3 24       		 OUT (MCR), A	;
153)   89AC DB 20       		 IN A, (RBR)  	;
154)   89AE D5          		 PUSH DE	;
155)   89AF 57          		 LD D,A	;
156)   89B0 F1          		 POP AF	;
157)   89B1 7A          		 LD A,D	;
158)   89B2 E0          		 RET PO  	;
159)   89B3 FB          		 EI	;
160)   89B4 C9          		 RET	;
162)   89B5 3E 01       		RS_RXNW: LD A, 1       ;ready to receive SIGNAL DSR 1	;ready to receive SIGNAL DSR 1
163)   89B7 D3 24       		 OUT (MCR), A	;
164)   89B9 DB 25       		 IN A, (LSR)        ; fetch the conrtol register	; fetch the conrtol register
165)   89BB CB 47       		 BIT 0, A	;
166)   89BD 28 03       		 JR Z, RS_NOCHAR	;
167)   89BF F3          		 DI	;
168)   89C0 18 E7       		 JR RS_GTCH	;
169)   89C2 AF          		RS_NOCHAR: XOR A        ;RETURN ZERO	;RETURN ZERO
170)   89C3 C9          		 RET	;
178)   89C4 F5          		 PUSH AF	;
184)   89C5 DB 25       		 IN A, (LSR)        ; fetch the control register	; fetch the control register
185)   89C7 CB 47       		 BIT 0, A        ; bit will be set if UART has data	; bit will be set if UART has data
186)   89C9 28 FA       		 JR Z, RSRXLP	;
188)   89CB F1          		 POP AF	;
190)   89CC C9          		 RET	;
194)   89CD DB 25       		RS_KEYRD: IN A, (LSR)       ; fetch the conrtol register	; fetch the conrtol register
195)   89CF CB 47       		 BIT 0, A        ; bit will be set if UART has data	; bit will be set if UART has data
196)   89D1 C9          		 RET	;
198)   89D2 F5          		SHLCD: PUSH AF	;
200)   89D3 F1          		 POP AF	;
202)   89D4 C9          		 RET	;
204)   89D5 F5          		RS_NEWLINE: PUSH AF	;
205)   89D6 3E 0D       		 LD A,13	;
206)   89D8 CD 66 89    		 CALL RS_TX	;
207)   89DB 3E 0A       		 LD A,10	;
208)   89DD CD 66 89    		 CALL RS_TX	;
209)   89E0 F1          		 POP AF	;
210)   89E1 C9          		 RET  	;
213)   89E2 F5          		CHKERR: PUSH AF	;
214)   89E3 E5          		 PUSH HL	;
215)   89E4 C5          		 PUSH BC	;
216)   89E5 DB 25       		 IN A, (LSR)        ;FETCH LINE STATUS REGISTER	;FETCH LINE STATUS REGISTER
217)   89E7 CB 67       		 BIT 4, A	;
218)   89E9 28 04       		 JR Z, LBLPE	;
219)   89EB 3E 42       		 LD A, 'B'       ;$20  ;BREAK	;$20  ;BREAK
220)   89ED 18 1A       		 JR EXIT	;
221)   89EF CB 57       		LBLPE: BIT 2, A	;
222)   89F1 28 04       		 JR Z, LBLFE	;
223)   89F3 3E 50       		 LD A, 'P'       ;$40  ;PARITY	;$40  ;PARITY
224)   89F5 18 12       		 JR EXIT	;
225)   89F7 CB 5F       		LBLFE: BIT 3, A	;
226)   89F9 28 04       		 JR Z, LBLOE	;
227)   89FB 3E 46       		 LD A, 'F'       ;$60  ;FRAME	;$60  ;FRAME
228)   89FD 18 0A       		 JR EXIT	;
229)   89FF CB 4F       		LBLOE: BIT 1, A	;
230)   8A01 28 04       		 JR Z, LBLNE	;
231)   8A03 3E 4F       		 LD A, 'O'        ;$80  ;OVERRUN	;$80  ;OVERRUN
232)   8A05 18 02       		 JR EXIT	;
233)   8A07 3E 4E       		LBLNE: LD A, 'N'        ;NO ERROR	;NO ERROR
234)   8A09 21 7B 00    		EXIT: LD HL, SERERR	;
235)   8A0C 77          		 LD (HL), A	;
237)   8A0D C1          		 POP BC	;
238)   8A0E E1          		 POP HL	;
239)   8A0F F1          		 POP AF	;
240)   8A10 C9          		 RET	;
 32)   8A11 	            		@CH376_ERROR EQU RS_MESG	;
 42)   8A11 57          		STRG_INIT: LD D,A	;
 43)   8A12 AF          		 XOR A  	;
 44)   8A13 32 82 00    		 LD (STRG_STAT),A  ;NOT CONNECTED, NOT EXISTS	;NOT CONNECTED, NOT EXISTS
 45)   8A16 CD BD 8F    		 CALL CH376_INIT	;
 46)   8A19 20 06       		 JR NZ,INIERR	;
 47)   8A1B 7A          		 LD A,D   ;SELECT USB DEVICE 3 FOR SDCARD, 6 FOR FLASH	;SELECT USB DEVICE 3 FOR SDCARD, 6 FOR FLASH
 48)   8A1C CD D2 8F    		 CALL CH376_SETUSB	;
 49)   8A1F 28 03       		 JR Z,INIOK	;
 50)   8A21 3E 00       		INIERR: LD A,0  	;
 51)   8A23 C9          		 RET	;
 52)   8A24 CD B2 8F    		INIOK: CALL CH376_VERSION	;
 53)   8A27 BF          		 CP A  ;SET ZF	;SET ZF
 54)   8A28 3E 80       		 LD A, $80  ;BIT 7 MEANS EXISTS	;BIT 7 MEANS EXISTS
 55)   8A2A 32 82 00    		 LD (STRG_STAT),A  ;	;
 56)   8A2D C9          		 RET	;
 59)   8A2E 3A 82 00    		STRG_EXISTS: LD A,(STRG_STAT)	;
 60)   8A31 CB 7F       		 BIT 7,A	;
 61)   8A33 C9          		 RET	;
 67)   8A34 CD 2E 8A    		STRG_CHECK: CALL STRG_EXISTS	;
 68)   8A37 37          		 SCF	;
 69)   8A38 C8          		 RET Z    ;Z MEANS NOT EXISTS	;Z MEANS NOT EXISTS
 70)   8A39 06 05       		 LD B,5	;
 71)   8A3B CD 02 90    		SC_AGN1: CALL CH376_CONNECT 	;
 72)   8A3E 28 06       		 JR Z,DOCON	;
 73)   8A40 30 1C       		 JR NC,DODISC	;
 74)   8A42 10 F7       		 DJNZ SC_AGN1    	;
 78)   8A44 AF          		 XOR A   	;
 79)   8A45 C9          		 RET   ;TIMEOUT	;TIMEOUT
 81)   8A46 AF          		DOCON: XOR A    ;CLCF	;CLCF
 82)   8A47 3A 82 00    		 LD A,(STRG_STAT)	;
 83)   8A4A CB 47       		 BIT 0,A	;
 84)   8A4C C0          		 RET NZ    ;ALREADY MOUNTED THE DRIVE	;ALREADY MOUNTED THE DRIVE
 88)   8A4D CD 0D 90    		 CALL CH376_MOUNT   ;MOUNT THE DRIVE	;MOUNT THE DRIVE
 89)   8A50 20 0C       		 JR NZ, DONOMNT	;
 93)   8A52 3A 82 00    		 LD A,(STRG_STAT)	;
 94)   8A55 CB C7       		 SET 0,A	;
 95)   8A57 32 82 00    		 LD (STRG_STAT),A	;
 96)   8A5A AF          		 XOR A    ;CLEAR CARRY FLAG MEANS WE ARE OK	;CLEAR CARRY FLAG MEANS WE ARE OK
 97)   8A5B 3E 01       		 LD A,1    ;A=1 IS JUST CONNECTED	;A=1 IS JUST CONNECTED
 98)   8A5D C9          		 RET	;
106)   8A5E AF          		 XOR A 	;
107)   8A5F 3A 82 00    		 LD A,(STRG_STAT)  	;
108)   8A62 CB 47       		 BIT 0,A	;
109)   8A64 C8          		 RET Z    ;ALREADY DISCONNECTED	;ALREADY DISCONNECTED
110)   8A65 CB 87       		 RES 0,A    ;SET BIT 0 TO 0=DISCONNECTED	;SET BIT 0 TO 0=DISCONNECTED
111)   8A67 32 82 00    		 LD (STRG_STAT),A  	;
112)   8A6A 3E 02       		 LD A,2    ;A=2 IS JUST DISCONNECTED	;A=2 IS JUST DISCONNECTED
113)   8A6C C9          		 RET	;
119)   8A6D CD 16 90    		STRG_OPENCRD:  CALL CH376_MOUNTDEV	;
120)   8A70 C9          		 RET 	;
123)   8A71 C9          		STRG_DIRLIST: RET	;
124)   8A72 C9          		STRG_DIRCHG: RET	;
125)   8A73 C9          		STRG_TPFILE: RET	;
126)   8A74 C9          		STRG_GETPOS: RET	;
130)   8A75 3E 39       		STRG_SETPOS: LD A,CMD_BYTE_LOCATE	;
131)   8A77 CD 94 8F    		 CALL CH376_COMMD	;
132)   8A7A 79          		 LD A,C                             ; 4 BYTES TO SET THE OFFSET LOW IN FRONT	; 4 BYTES TO SET THE OFFSET LOW IN FRONT
133)   8A7B CD A3 8F    		     CALL CH376_DATAWR	;
134)   8A7E 78          		 LD A,B	;
135)   8A7F CD A3 8F    		 CALL CH376_DATAWR	;
136)   8A82 AF          		 XOR A 	;
137)   8A83 CD A3 8F    		 CALL CH376_DATAWR            ;LAST 2 BYTES 0 MAX 65535 SKIP	;LAST 2 BYTES 0 MAX 65535 SKIP
138)   8A86 AF          		 XOR A	;
139)   8A87 CD A3 8F    		 CALL CH376_DATAWR	;
140)   8A8A CD 23 8F    		     CALL CH376_WTCMDEND	;
141)   8A8D C9          		 RET	;
144)   8A8E C9          		STRG_GETSIZE: RET	;
145)   8A8F C9          		STRG_GETEOF: RET	;
152)   8A90 3E 27       		STRG_PRDRVINFO: LD A,CMD_RDUSB_DATA0	;
153)   8A92 CD 94 8F    		 CALL CH376_COMMD	;
154)   8A95 CD D1 8E    		 CALL CH376_GETDATA	;
155)   8A98 F5          		 PUSH AF	;
156)   8A99 D6 08       		 SUB 8  	;
157)   8A9B 47          		 LD B,A	;
158)   8A9C F1          		 POP AF   	;
159)   8A9D 21 8B 00    		 LD HL,USBBUF+8  ;SKIP 8 BYTES	;SKIP 8 BYTES
160)   8AA0 7E          		PDI_NXT: LD A,(HL)	;
161)   8AA1 E5          		 PUSH HL	;
162)   8AA2 C5          		 PUSH BC	;
163)   8AA3 CD 16 80    		 CALL OS_PRINTCHAR	;
164)   8AA6 C1          		 POP BC	;
165)   8AA7 E1          		 POP HL	;
166)   8AA8 23          		 INC HL	;
167)   8AA9 10 F5       		 DJNZ PDI_NXT  	;
168)   8AAB CD D5 89    		 CALL RS_NEWLINE	;
170)   8AAE 3E 3F       		 LD A,CMD_DISK_QUERY   	;
171)   8AB0 CD 94 8F    		 CALL CH376_COMMD	;
172)   8AB3 CD 23 8F    		 CALL CH376_WTCMDEND	;
173)   8AB6 C0          		 RET NZ	;
174)   8AB7 3E 27       		 LD A,CMD_RDUSB_DATA0	;
175)   8AB9 CD 94 8F    		 CALL CH376_COMMD  	;
176)   8ABC CD D1 8E    		 CALL CH376_GETDATA	;
178)   8ABF DD 21 83 00 		 LD IX,USBBUF 	;
179)   8AC3 DD E5       		 PUSH IX   	;
180)   8AC5 DD 56 03    		 LD D,(IX+3)	;
181)   8AC8 DD 5E 02    		 LD E,(IX+2)	;
182)   8ACB DD 66 01    		 LD H,(IX+1)	;
183)   8ACE DD 6E 00    		 LD L,(IX+0)	;
184)   8AD1 CD BF 93    		 CALL B2D32    ;DE:HL RES ON B2DBUF	;DE:HL RES ON B2DBUF
185)   8AD4 21 CC 00    		 LD HL,B2DBUF	;
186)   8AD7 CD 4F 94    		 CALL SKIPSPC	;
187)   8ADA CD 1A 80    		 CALL OS_PRINTTEXT	;
188)   8ADD CD 26 80    		 CALL OS_PRINTMSG	;
189)   8AE0 20 53 45 43 		 DEFM " SECTORS"	;
189)   8AE4 54 4F 52 53 		 DEFM " SECTORS"	;
190)   8AE8 0A 0D 00    		 DB 10,13 0	;
191)   8AEB DD E1       		 POP IX	;
193)   8AED DD E5       		 PUSH IX     	;
194)   8AEF DD 56 07    		 LD D,(IX+7)	;
195)   8AF2 DD 5E 06    		 LD E,(IX+6)	;
196)   8AF5 DD 66 05    		 LD H,(IX+5)	;
197)   8AF8 DD 6E 04    		 LD L,(IX+4)  	;
198)   8AFB CD BF 93    		 CALL B2D32  ;DE:HL RES ON B2DBUF	;DE:HL RES ON B2DBUF
199)   8AFE 21 CC 00    		 LD HL,B2DBUF	;
200)   8B01 CD 4F 94    		 CALL SKIPSPC	;
201)   8B04 CD 1A 80    		 CALL OS_PRINTTEXT	;
202)   8B07 CD 26 80    		 CALL OS_PRINTMSG	;
203)   8B0A 20 53 45 43 		 DEFM " SECTORS FREE   "	;
203)   8B0E 54 4F 52 53 		 DEFM " SECTORS FREE   "	;
203)   8B12 20 46 52 45 		 DEFM " SECTORS FREE   "	;
203)   8B16 45 20 20 20 		 DEFM " SECTORS FREE   "	;
204)   8B1A 0A 0D 00    		 DB 10,13,0   	;
205)   8B1D DD E1       		 POP IX	;
207)   8B1F DD 7E 08    		FILESYSTEM: LD A,(IX+8) ;1-FAT12,2-FAT16,3-FAT32	;1-FAT12,2-FAT16,3-FAT32
208)   8B22 3D          		 DEC A	;
209)   8B23 28 08       		 JR Z,PDI_NXT0	;
210)   8B25 3D          		 DEC A	;
211)   8B26 28 18       		 JR Z,PDI_NXT1	;
212)   8B28 3D          		 DEC A	;
213)   8B29 28 28       		 JR Z,PDI_NXT2	;
214)   8B2B 18 39       		 JR PDI_NXT3	;
216)   8B2D CD 26 80    		PDI_NXT0: CALL OS_PRINTMSG	;
217)   8B30 46 53 20 49 		 DEFM "FS IS FAT-12"	;
217)   8B34 53 20 46 41 		 DEFM "FS IS FAT-12"	;
217)   8B38 54 2D 31 32 		 DEFM "FS IS FAT-12"	;
218)   8B3C 0A 0D 00    		 DB 10,13,0	;
219)   8B3F C9          		 RET	;
220)   8B40 CD 26 80    		PDI_NXT1: CALL OS_PRINTMSG	;
221)   8B43 46 53 20 49 		 DEFM "FS IS FAT-16"	;
221)   8B47 53 20 46 41 		 DEFM "FS IS FAT-16"	;
221)   8B4B 54 2D 31 36 		 DEFM "FS IS FAT-16"	;
222)   8B4F 0A 0D 00    		 DB 10,13,0	;
223)   8B52 C9          		 RET	;
224)   8B53 CD 26 80    		PDI_NXT2: CALL OS_PRINTMSG	;
225)   8B56 46 53 20 49 		 DEFM "FS IS FAT-32"	;
225)   8B5A 53 20 46 41 		 DEFM "FS IS FAT-32"	;
225)   8B5E 54 2D 33 32 		 DEFM "FS IS FAT-32"	;
226)   8B62 0A 0D 00    		 DB 10,13,0	;
227)   8B65 C9          		 RET	;
228)   8B66 CD 26 80    		PDI_NXT3: CALL OS_PRINTMSG	;
229)   8B69 55 4E 4B 4E 		 DEFM "UNKNOWN FS"	;
229)   8B6D 4F 57 4E 20 		 DEFM "UNKNOWN FS"	;
229)   8B71 46 53       		 DEFM "UNKNOWN FS"	;
230)   8B73 0A 0D 00    		 DB 10,13,0	;
231)   8B76 DD 7E 08    		 LD A,(IX+8)  ;TO BE PRINTED MAYBE	;TO BE PRINTED MAYBE
232)   8B79 C9          		 RET	;
237)   8B7A F5          		STRG_OPNFILE: PUSH AF	;
238)   8B7B 3E 2F       		 LD A, CMD_SETFILENAME	;
239)   8B7D CD 94 8F    		     CALL CH376_COMMD	;
240)   8B80 21 83 00    		 LD HL, STRGBUFF	;
241)   8B83 CD 51 90    		     CALL CH376_WRSTRING	;
242)   8B86 28 1E       		 JR Z,OF_WSOK	;
243)   8B88 F1          		 POP AF	;
244)   8B89 CD 26 80    		 CALL OS_PRINTMSG	;
245)   8B8C 45 52 52 4F 		 DEFM "ERROR SETTING FILENAME"	;
245)   8B90 52 20 53 45 		 DEFM "ERROR SETTING FILENAME"	;
245)   8B94 54 54 49 4E 		 DEFM "ERROR SETTING FILENAME"	;
245)   8B98 47 20 46 49 		 DEFM "ERROR SETTING FILENAME"	;
245)   8B9C 4C 45 4E 41 		 DEFM "ERROR SETTING FILENAME"	;
245)   8BA0 4D 45       		 DEFM "ERROR SETTING FILENAME"	;
246)   8BA2 0A 0D 00    		 DB 10,13,0  	;
247)   8BA5 C9          		 RET	;
248)   8BA6 F1          		OF_WSOK: POP AF	;
252)   8BA7 B7          		 OR A  ;0 READ	;0 READ
253)   8BA8 28 1F       		 JR Z,OF_OPEN	;
254)   8BAA D6 01       		 SUB 1  ;1 WRITE	;1 WRITE
255)   8BAC 28 1B       		 JR Z,OF_OPEN	;
256)   8BAE D6 01       		 SUB 1  ;2 READ/WRITE	;2 READ/WRITE
257)   8BB0 28 17       		 JR Z,OF_OPEN	;
263)   8BB2 CD 26 80    		OF_CREATE: CALL OS_PRINTMSG	;
264)   8BB5 0A 0D       		 DB 10,13	;
265)   8BB7 43 52 45 41 		 DEFM "CREATING..."	;
265)   8BBB 54 49 4E 47 		 DEFM "CREATING..."	;
265)   8BBF 2E 2E 2E    		 DEFM "CREATING..."	;
266)   8BC2 0A 0D 00    		 DB 10,13,0    	;
267)   8BC5 3E 34       		 LD A, CMD_FILE_CREATE  	;
268)   8BC7 18 14       		 JR OF_EXEC	;
269)   8BC9 CD 26 80    		OF_OPEN: CALL OS_PRINTMSG	;
270)   8BCC 0A 0D       		 DB 10,13	;
271)   8BCE 4F 50 45 4E 		 DEFM "OPENING..."	;
271)   8BD2 49 4E 47 2E 		 DEFM "OPENING..."	;
271)   8BD6 2E 2E       		 DEFM "OPENING..."	;
272)   8BD8 0A 0D 00    		 DB 10,13,0 	;
273)   8BDB 3E 32       		 LD A, CMD_FILE_OPEN	;
277)   8BDD CD 94 8F    		 CALL CH376_COMMD	;
278)   8BE0 CD 23 8F    		 CALL CH376_WTCMDEND	;
279)   8BE3 C9          		 RET	;
281)   8BE4 3E 36       		STRG_CLSFILE: LD A, CMD_FILE_CLOSE	;
282)   8BE6 CD 94 8F    		     CALL CH376_COMMD	;
283)   8BE9 3E 01       		     LD A, 1                             ; 1 = update file size if necessary	; 1 = update file size if necessary
284)   8BEB CD A3 8F    		     CALL CH376_DATAWR	;
285)   8BEE CD 23 8F    		     CALL CH376_WTCMDEND	;
286)   8BF1 C9          		     RET	;
292)   8BF2 D5          		STRG_BLKREAD: PUSH DE	;
293)   8BF3 3E 3A       		 LD A, CMD_BYTE_READ	;
294)   8BF5 CD 94 8F    		     CALL CH376_COMMD	;
295)   8BF8 79          		     LD A, C                           ; BYTES REQUEST ON BC	; BYTES REQUEST ON BC
296)   8BF9 CD A3 8F    		     CALL CH376_DATAWR	;
297)   8BFC 78          		     LD A, B	;
298)   8BFD CD A3 8F    		     CALL CH376_DATAWR    	;
299)   8C00 CD 26 80    		 CALL OS_PRINTMSG	;
300)   8C03 42 4C 4F 43 		 DEFM "BLOCK READING"	;
300)   8C07 4B 20 52 45 		 DEFM "BLOCK READING"	;
300)   8C0B 41 44 49 4E 		 DEFM "BLOCK READING"	;
300)   8C0F 47          		 DEFM "BLOCK READING"	;
301)   8C10 0A 0D 00    		 DB 10,13,0	;
302)   8C13 D1          		 POP DE	;
303)   8C14 21 00 00    		 LD HL,0      ;BYTE RECEIVE COUNTER	;BYTE RECEIVE COUNTER
304)   8C17 E5          		STBR_DOREST: PUSH HL	;
305)   8C18 D5          		 PUSH DE	;
306)   8C19 CD 23 8F    		 CALL CH376_WTCMDEND	;
307)   8C1C D1          		 POP DE	;
308)   8C1D E1          		 POP HL	;
309)   8C1E 28 1C       		 JR Z, FR_DONE   ;Z=NO MORE OR CANNOT READ	;Z=NO MORE OR CANNOT READ
310)   8C20 FE 1D       		 CP USB_INT_DISK_READ                    	;
311)   8C22 20 32       		     JR NZ, FR_ERROR	;
313)   8C24 3E 27       		 LD A,CMD_RDUSB_DATA0	;
314)   8C26 CD 94 8F    		 CALL CH376_COMMD 	;
315)   8C29 CD AF 8F    		 CALL CH376_DATARD  ;A= BYTES TO READ TO BUFFER	;A= BYTES TO READ TO BUFFER
316)   8C2C 47          		 LD B,A	;
329)   8C2D CD AF 8F    		STBR_NXT1: CALL CH376_DATARD ;READ THE BYTES TO BUFFER	;READ THE BYTES TO BUFFER
330)   8C30 12          		 LD (DE),A	;
331)   8C31 13          		 INC DE	;
332)   8C32 23          		 INC HL    ;TOTAL BYTES READ COUNTER	;TOTAL BYTES READ COUNTER
333)   8C33 10 F8       		 DJNZ STBR_NXT1  	;
334)   8C35 3E 3B       		 LD A, CMD_BYTE_RD_GO 	;
335)   8C37 CD 94 8F    		 CALL CH376_COMMD 	;
336)   8C3A 18 DB       		 JR STBR_DOREST	;
337)   8C3C E5          		FR_DONE: PUSH HL	;
338)   8C3D CD 26 80    		 CALL OS_PRINTMSG	;
339)   8C40 52 45 41 44 		 DEFM "READING DONE!!! "	;
339)   8C44 49 4E 47 20 		 DEFM "READING DONE!!! "	;
339)   8C48 44 4F 4E 45 		 DEFM "READING DONE!!! "	;
339)   8C4C 21 21 21 20 		 DEFM "READING DONE!!! "	;
340)   8C50 00          		 DB 0 	;
341)   8C51 E1          		 POP HL	;
342)   8C52 44          		 LD B,H	;
343)   8C53 4D          		 LD C,L	;
344)   8C54 B7          		 OR A	;
345)   8C55 C9          		 RET	;
346)   8C56 F5          		FR_ERROR: PUSH AF	;
347)   8C57 CD 26 80    		 CALL OS_PRINTMSG	;
348)   8C5A 45 52 52 4F 		 DEFM "ERROR READING BLOCK!!! "	;
348)   8C5E 52 20 52 45 		 DEFM "ERROR READING BLOCK!!! "	;
348)   8C62 41 44 49 4E 		 DEFM "ERROR READING BLOCK!!! "	;
348)   8C66 47 20 42 4C 		 DEFM "ERROR READING BLOCK!!! "	;
348)   8C6A 4F 43 4B 21 		 DEFM "ERROR READING BLOCK!!! "	;
348)   8C6E 21 21 20    		 DEFM "ERROR READING BLOCK!!! "	;
349)   8C71 00          		 DB 0 	;
350)   8C72 F1          		 POP AF	;
351)   8C73 06 02       		 LD B,2	;
352)   8C75 05          		 DEC B	;
353)   8C76 C9          		 RET  	;
360)   8C77 D5          		STRG_LOADFILE: PUSH DE	;
361)   8C78 C5          		 PUSH BC	;
362)   8C79 E5          		 PUSH HL  	;
363)   8C7A CD 26 80    		 CALL OS_PRINTMSG	;
364)   8C7D 4F 50 45 4E 		 DEFM "OPEN FILE"	;
364)   8C81 20 46 49 4C 		 DEFM "OPEN FILE"	;
364)   8C85 45          		 DEFM "OPEN FILE"	;
365)   8C86 0A 0D 00    		 DB 10,13,0	;
366)   8C89 E1          		 POP HL	;
367)   8C8A CD 7D 95    		 CALL COPYFNAME	;
368)   8C8D AF          		 XOR A   ;READ ONLY 	;READ ONLY
369)   8C8E CD 7A 8B    		 CALL STRG_OPNFILE  	;
370)   8C91 20 58       		 JR NZ, FOPENERR	;
371)   8C93 CD 26 80    		 CALL OS_PRINTMSG	;
372)   8C96 0A 0D       		 DB 10,13	;
373)   8C98 46 49 4C 45 		 DEFM "FILE OPEN OK"	;
373)   8C9C 20 4F 50 45 		 DEFM "FILE OPEN OK"	;
373)   8CA0 4E 20 4F 4B 		 DEFM "FILE OPEN OK"	;
374)   8CA4 0A 0D 00    		 DB 10,13,0	;
376)   8CA7 C1          		 POP BC  ;BYTECOUNT	;BYTECOUNT
377)   8CA8 D1          		 POP DE  ;DEST BUFFER	;DEST BUFFER
378)   8CA9 CD F2 8B    		 CALL STRG_BLKREAD	;
379)   8CAC 28 19       		 JR Z, FREADOK	;
381)   8CAE CD 26 80    		 CALL OS_PRINTMSG	;
382)   8CB1 20 45 52 52 		 DEFM " ERROR READING FILE"	;
382)   8CB5 4F 52 20 52 		 DEFM " ERROR READING FILE"	;
382)   8CB9 45 41 44 49 		 DEFM " ERROR READING FILE"	;
382)   8CBD 4E 47 20 46 		 DEFM " ERROR READING FILE"	;
382)   8CC1 49 4C 45    		 DEFM " ERROR READING FILE"	;
383)   8CC4 0A 0D 00    		 DB 10,13,0	;
384)   8CC7 C5          		FREADOK: PUSH BC	;
385)   8CC8 CD BB 93    		 CALL B2D16	;
386)   8CCB 21 CC 00    		 LD HL,B2DBUF	;
387)   8CCE CD 4F 94    		 CALL SKIPSPC	;
388)   8CD1 CD 75 89    		 CALL RS_TXT	;
389)   8CD4 CD 26 80    		 CALL OS_PRINTMSG	;
390)   8CD7 20 42 59 54 		 DEFM " BYTES READ"	;
390)   8CDB 45 53 20 52 		 DEFM " BYTES READ"	;
390)   8CDF 45 41 44    		 DEFM " BYTES READ"	;
391)   8CE2 0A 0D 00    		 DB 10,13,0	;
392)   8CE5 CD E4 8B    		 CALL STRG_CLSFILE	;
393)   8CE8 C1          		 POP BC   ;BYTES LOADED TO BUFFER	;BYTES LOADED TO BUFFER
394)   8CE9 AF          		 XOR A	;
395)   8CEA C9          		 RET	;
396)   8CEB C1          		FOPENERR: POP BC	;
397)   8CEC D1          		 POP DE	;
399)   8CED CD 26 80    		 CALL OS_PRINTMSG	;
400)   8CF0 2D 2D 3E 45 		 DEFM "-->ERROR OPENING FILE"	;
400)   8CF4 52 52 4F 52 		 DEFM "-->ERROR OPENING FILE"	;
400)   8CF8 20 4F 50 45 		 DEFM "-->ERROR OPENING FILE"	;
400)   8CFC 4E 49 4E 47 		 DEFM "-->ERROR OPENING FILE"	;
400)   8D00 20 46 49 4C 		 DEFM "-->ERROR OPENING FILE"	;
400)   8D04 45          		 DEFM "-->ERROR OPENING FILE"	;
401)   8D05 0A 0D 00    		 DB 10,13,0	;
402)   8D08 21 83 00    		 LD HL,STRGBUFF	;
403)   8D0B CD 75 89    		 CALL RS_TXT	;
404)   8D0E CD D5 89    		 CALL RS_NEWLINE	;
405)   8D11 37          		 SCF	;
406)   8D12 C9          		 RET	;
414)   8D13 D5          		STRG_READBYTE: PUSH DE	;
415)   8D14 C5          		 PUSH BC	;
416)   8D15 E5          		 PUSH HL  	;
417)   8D16 CD 26 80    		 CALL OS_PRINTMSG	;
418)   8D19 4F 50 45 4E 		 DEFM "OPEN FILE"	;
418)   8D1D 20 46 49 4C 		 DEFM "OPEN FILE"	;
418)   8D21 45          		 DEFM "OPEN FILE"	;
419)   8D22 0A 0D 00    		 DB 10,13,0	;
420)   8D25 E1          		 POP HL	;
421)   8D26 CD 7D 95    		 CALL COPYFNAME	;
422)   8D29 AF          		 XOR A   ;READ ONLY 	;READ ONLY
423)   8D2A CD 7A 8B    		 CALL STRG_OPNFILE  	;
424)   8D2D 20 5E       		 JR NZ, RB_FOPENERR	;
425)   8D2F CD 26 80    		 CALL OS_PRINTMSG	;
426)   8D32 0A 0D       		 DB 10,13	;
427)   8D34 46 49 4C 45 		 DEFM "FILE OPEN OK"	;
427)   8D38 20 4F 50 45 		 DEFM "FILE OPEN OK"	;
427)   8D3C 4E 20 4F 4B 		 DEFM "FILE OPEN OK"	;
428)   8D40 0A 0D 00    		 DB 10,13,0	;
430)   8D43 C1          		 POP BC  ;BYTE OFFSET	;BYTE OFFSET
431)   8D44 CD 75 8A    		 CALL STRG_SETPOS	;
432)   8D47 01 01 00    		 LD BC, 1 ;READ 1 BYTE  	;READ 1 BYTE
433)   8D4A D1          		 POP DE  ;DEST BUFFER	;DEST BUFFER
434)   8D4B CD F2 8B    		 CALL STRG_BLKREAD	;
435)   8D4E 28 19       		 JR Z, RB_FREADOK	;
437)   8D50 CD 26 80    		 CALL OS_PRINTMSG	;
438)   8D53 20 45 52 52 		 DEFM " ERROR READING FILE"	;
438)   8D57 4F 52 20 52 		 DEFM " ERROR READING FILE"	;
438)   8D5B 45 41 44 49 		 DEFM " ERROR READING FILE"	;
438)   8D5F 4E 47 20 46 		 DEFM " ERROR READING FILE"	;
438)   8D63 49 4C 45    		 DEFM " ERROR READING FILE"	;
439)   8D66 0A 0D 00    		 DB 10,13,0	;
440)   8D69 C5          		RB_FREADOK: PUSH BC	;
441)   8D6A CD BB 93    		 CALL B2D16	;
442)   8D6D 21 CC 00    		 LD HL,B2DBUF	;
443)   8D70 CD 4F 94    		 CALL SKIPSPC	;
444)   8D73 CD 75 89    		 CALL RS_TXT	;
445)   8D76 CD 26 80    		 CALL OS_PRINTMSG	;
446)   8D79 20 42 59 54 		 DEFM " BYTES READ"	;
446)   8D7D 45 53 20 52 		 DEFM " BYTES READ"	;
446)   8D81 45 41 44    		 DEFM " BYTES READ"	;
447)   8D84 0A 0D 00    		 DB 10,13,0	;
448)   8D87 CD E4 8B    		 CALL STRG_CLSFILE	;
449)   8D8A C1          		 POP BC   ;BYTES LOADED TO BUFFER	;BYTES LOADED TO BUFFER
450)   8D8B AF          		 XOR A	;
451)   8D8C C9          		 RET	;
452)   8D8D C1          		RB_FOPENERR: POP BC	;
453)   8D8E D1          		 POP DE	;
455)   8D8F CD 26 80    		 CALL OS_PRINTMSG	;
456)   8D92 2D 2D 3E 45 		 DEFM "-->ERROR OPENING FILE"	;
456)   8D96 52 52 4F 52 		 DEFM "-->ERROR OPENING FILE"	;
456)   8D9A 20 4F 50 45 		 DEFM "-->ERROR OPENING FILE"	;
456)   8D9E 4E 49 4E 47 		 DEFM "-->ERROR OPENING FILE"	;
456)   8DA2 20 46 49 4C 		 DEFM "-->ERROR OPENING FILE"	;
456)   8DA6 45          		 DEFM "-->ERROR OPENING FILE"	;
457)   8DA7 0A 0D 00    		 DB 10,13,0	;
458)   8DAA 21 83 00    		 LD HL,STRGBUFF	;
459)   8DAD CD 75 89    		 CALL RS_TXT	;
460)   8DB0 CD D5 89    		 CALL RS_NEWLINE	;
461)   8DB3 37          		 SCF	;
462)   8DB4 C9          		 RET	;
467)   8DB5 D5          		STRG_BLKWRITE: PUSH DE	;
468)   8DB6 3E 3C       		 LD A, CMD_BYTE_WRITE	;
469)   8DB8 CD 94 8F    		     CALL CH376_COMMD	;
470)   8DBB 79          		     LD A, C                           ; BYTES REQUEST ON BC	; BYTES REQUEST ON BC
471)   8DBC CD A3 8F    		     CALL CH376_DATAWR	;
472)   8DBF 78          		     LD A, B	;
473)   8DC0 CD A3 8F    		     CALL CH376_DATAWR    	;
474)   8DC3 CD 26 80    		 CALL OS_PRINTMSG	;
475)   8DC6 42 4C 4F 43 		 DEFM "BLOCK WRITING"	;
475)   8DCA 4B 20 57 52 		 DEFM "BLOCK WRITING"	;
475)   8DCE 49 54 49 4E 		 DEFM "BLOCK WRITING"	;
475)   8DD2 47          		 DEFM "BLOCK WRITING"	;
476)   8DD3 0A 0D 00    		 DB 10,13,0	;
477)   8DD6 E1          		 POP HL	;
478)   8DD7 E5          		STBW_DOREST: PUSH HL	;
479)   8DD8 CD 23 8F    		 CALL CH376_WTCMDEND	;
480)   8DDB E1          		 POP HL	;
481)   8DDC 28 1B       		 JR Z, WFR_DONE   ;Z=NO MORE OR CANNOT READ	;Z=NO MORE OR CANNOT READ
482)   8DDE FE 1E       		 CP USB_INT_DISK_WRITE                    	;
483)   8DE0 20 31       		     JR NZ, WFR_ERROR	;
484)   8DE2 3E 2D       		 LD A,CMD_WR_REQ_DATA	;
485)   8DE4 CD 94 8F    		 CALL CH376_COMMD 	;
487)   8DE7 CD AF 8F    		 CALL CH376_DATARD ;READ BYTE COUNT UP TO 255 BYTES	;READ BYTE COUNT UP TO 255 BYTES
488)   8DEA 47          		 LD B,A   	;
490)   8DEB 7E          		STBW_NXT1: LD A,(HL)	;
491)   8DEC CD A3 8F    		 CALL CH376_DATAWR	;
492)   8DEF 23          		 INC HL	;
493)   8DF0 10 F9       		 DJNZ STBW_NXT1	;
494)   8DF2 3E 3D       		 LD A, CMD_BYTE_WR_GO 	;
495)   8DF4 CD 94 8F    		 CALL CH376_COMMD 	;
496)   8DF7 18 DE       		 JR STBW_DOREST	;
497)   8DF9 E5          		WFR_DONE: PUSH HL	;
498)   8DFA CD 26 80    		 CALL OS_PRINTMSG	;
499)   8DFD 57 52 49 54 		 DEFM "WRITING DONE!!! "	;
499)   8E01 49 4E 47 20 		 DEFM "WRITING DONE!!! "	;
499)   8E05 44 4F 4E 45 		 DEFM "WRITING DONE!!! "	;
499)   8E09 21 21 21 20 		 DEFM "WRITING DONE!!! "	;
500)   8E0D 0D 0A 00    		 DB 13,10,0 	;
501)   8E10 E1          		 POP HL	;
502)   8E11 B7          		 OR A	;
503)   8E12 C9          		 RET	;
504)   8E13 F5          		WFR_ERROR: PUSH AF	;
505)   8E14 CD 26 80    		 CALL OS_PRINTMSG	;
506)   8E17 45 52 52 4F 		 DEFM "ERROR WRITING BLOCK!!! "	;
506)   8E1B 52 20 57 52 		 DEFM "ERROR WRITING BLOCK!!! "	;
506)   8E1F 49 54 49 4E 		 DEFM "ERROR WRITING BLOCK!!! "	;
506)   8E23 47 20 42 4C 		 DEFM "ERROR WRITING BLOCK!!! "	;
506)   8E27 4F 43 4B 21 		 DEFM "ERROR WRITING BLOCK!!! "	;
506)   8E2B 21 21 20    		 DEFM "ERROR WRITING BLOCK!!! "	;
507)   8E2E 0D 0A 00    		 DB 13,10,0 	;
508)   8E31 F1          		 POP AF	;
509)   8E32 06 02       		 LD B,2	;
510)   8E34 05          		 DEC B	;
511)   8E35 C9          		 RET  	;
519)   8E36 D5          		STRG_SAVEFILE: PUSH DE	;
520)   8E37 C5          		 PUSH BC	;
521)   8E38 E5          		 PUSH HL  	;
522)   8E39 CD 26 80    		 CALL OS_PRINTMSG	;
523)   8E3C 0A 0D       		 DB 10,13	;
524)   8E3E 53 41 56 45 		 DEFM "SAVE FILE"	;
524)   8E42 20 46 49 4C 		 DEFM "SAVE FILE"	;
524)   8E46 45          		 DEFM "SAVE FILE"	;
525)   8E47 0A 0D 0A 0D 		 DB 10,13,10,13,0	;
525)   8E4B 00          		 DB 10,13,10,13,0	;
526)   8E4C E1          		 POP HL	;
527)   8E4D CD 7D 95    		 CALL COPYFNAME	;
528)   8E50 3E 04       		 LD A,4   ;CREATE THE FILE	;CREATE THE FILE
529)   8E52 CD 7A 8B    		 CALL STRG_OPNFILE  	;
530)   8E55 20 4E       		 JR NZ, FSAVEERR	;
531)   8E57 CD 26 80    		 CALL OS_PRINTMSG	;
532)   8E5A 0A 0D       		 DB 10,13	;
533)   8E5C 46 49 4C 45 		 DEFM "FILE CREATED OK"	;
533)   8E60 20 43 52 45 		 DEFM "FILE CREATED OK"	;
533)   8E64 41 54 45 44 		 DEFM "FILE CREATED OK"	;
533)   8E68 20 4F 4B    		 DEFM "FILE CREATED OK"	;
534)   8E6B 0A 0D 00    		 DB 10,13,0	;
535)   8E6E C1          		 POP BC  ;BYTECOUNT	;BYTECOUNT
536)   8E6F D1          		 POP DE  ;SOURCE BUFFER	;SOURCE BUFFER
537)   8E70 CD B5 8D    		 CALL STRG_BLKWRITE	;
538)   8E73 28 19       		 JR Z, FWRITEOK	;
540)   8E75 CD 26 80    		 CALL OS_PRINTMSG	;
541)   8E78 20 45 52 52 		 DEFM " ERROR WRITING FILE"	;
541)   8E7C 4F 52 20 57 		 DEFM " ERROR WRITING FILE"	;
541)   8E80 52 49 54 49 		 DEFM " ERROR WRITING FILE"	;
541)   8E84 4E 47 20 46 		 DEFM " ERROR WRITING FILE"	;
541)   8E88 49 4C 45    		 DEFM " ERROR WRITING FILE"	;
542)   8E8B 0A 0D 00    		 DB 10,13,0	;
543)   8E8E CD 26 80    		FWRITEOK: CALL OS_PRINTMSG	;
544)   8E91 42 59 54 45 		 DEFM "BYTE WRITTEN"	;
544)   8E95 20 57 52 49 		 DEFM "BYTE WRITTEN"	;
544)   8E99 54 54 45 4E 		 DEFM "BYTE WRITTEN"	;
545)   8E9D 0A 0D 00    		 DB 10,13,0	;
546)   8EA0 CD E4 8B    		 CALL STRG_CLSFILE	;
547)   8EA3 AF          		 XOR A	;
548)   8EA4 C9          		 RET	;
549)   8EA5 C1          		FSAVEERR: POP BC	;
550)   8EA6 D1          		 POP DE	;
551)   8EA7 CD 48 95    		 CALL PRINTNUM	;
552)   8EAA CD 26 80    		 CALL OS_PRINTMSG	;
553)   8EAD 2D 2D 3E 45 		 DEFM "-->ERROR CREATING FILE"	;
553)   8EB1 52 52 4F 52 		 DEFM "-->ERROR CREATING FILE"	;
553)   8EB5 20 43 52 45 		 DEFM "-->ERROR CREATING FILE"	;
553)   8EB9 41 54 49 4E 		 DEFM "-->ERROR CREATING FILE"	;
553)   8EBD 47 20 46 49 		 DEFM "-->ERROR CREATING FILE"	;
553)   8EC1 4C 45       		 DEFM "-->ERROR CREATING FILE"	;
554)   8EC3 0A 0D 00    		 DB 10,13,0	;
555)   8EC6 21 83 00    		 LD HL,STRGBUFF	;
556)   8EC9 CD 75 89    		 CALL RS_TXT	;
557)   8ECC CD D5 89    		 CALL RS_NEWLINE	;
558)   8ECF 37          		 SCF	;
559)   8ED0 C9          		 RET	;
  3)   8ED1 	            		INT376CMD EQU DEV376+1	;
  4)   8ED1 	            		INT376DAT EQU DEV376	;
 90)   8ED1 CD AF 8F    		CH376_GETDATA: CALL CH376_DATARD	;
 91)   8ED4 FE 00       		 CP 0	;
 92)   8ED6 C8          		 RET Z   ;NO DATA AVAILABLE	;NO DATA AVAILABLE
 99)   8ED7 F5          		               PUSH AF	;
100)   8ED8 11 83 00    		 LD DE,USBBUF	;
101)   8EDB 47          		 LD B,A	;
102)   8EDC CD AF 8F    		UDC_NXT1: CALL CH376_DATARD	;
104)   8EDF 12          		 LD (DE),A	;
105)   8EE0 13          		 INC DE	;
109)   8EE1 10 F9       		 DJNZ UDC_NXT1 	;
110)   8EE3 F1          		               POP AF	;
111)   8EE4 C9          		 RET	;
114)   8EE5 F5          		DISKERROR: PUSH AF	;
115)   8EE6 CD 7F 89    		 CALL RS_MESG	;
116)   8EE9 46 41 54 41 		 DEFM "FATAL ERROR:" 	;
116)   8EED 4C 20 45 52 		 DEFM "FATAL ERROR:" 	;
116)   8EF1 52 4F 52 3A 		 DEFM "FATAL ERROR:" 	;
117)   8EF5 00          		 DB 0  	;
118)   8EF6 F1          		 POP AF	;
119)   8EF7 CD 48 95    		 CALL PRINTNUM	;
120)   8EFA 21 06 8F    		 LD HL,ERR_PART	;
121)   8EFD FE 92       		 CP ERR_TYPE_ERROR	;
122)   8EFF 28 01       		 JR Z,PRNMES	;
123)   8F01 C9          		 RET	;
124)   8F02 CD 75 89    		PRNMES: CALL RS_TXT 	;
125)   8F05 C9          		 RET	;
127)   8F06 50 41 52 54 		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
127)   8F0A 49 54 49 4F 		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
127)   8F0E 4E 2E 4E 4F 		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
127)   8F12 54 2E 53 55 		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
127)   8F16 50 50 4F 52 		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
127)   8F1A 54 45 44 21 		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
127)   8F1E 21 21       		ERR_PART DEFM "PARTITION NOT SUPPORTED!!!"	;
128)   8F20 0A 0D 00    		 DB 10,13,0	;
137)   8F23 CD 33 8F    		CH376_WTCMDEND: CALL CH376_WAITINT	;
138)   8F26 C0          		               RET NZ	;
139)   8F27 D8          		 RET C	;
140)   8F28 AF          		 XOR A	;
141)   8F29 CD 52 8F    		 CALL CH376_GETSTAT	;
142)   8F2C FE 14       		 CP USB_INT_SUCCESS	;
143)   8F2E C8          		 RET Z	;
154)   8F2F 06 02       		 LD B,2	;
155)   8F31 05          		 DEC B  ;NZ FLAG	;NZ FLAG
156)   8F32 C9          		 RET	;
162)   8F33 AF          		CH376_WAITINT: XOR A	;
163)   8F34 01 32 00    		 LD BC,50	;
164)   8F37 CD A0 8F    		C3AGN2: CALL CH376_INSTAT	;
165)   8F3A CB 7F       		 BIT 7,A	;
166)   8F3C C8          		 RET Z	;
167)   8F3D F5          		 PUSH AF	;
168)   8F3E C5          		 PUSH BC	;
169)   8F3F 06 14       		 LD B,20	;
170)   8F41 CD E3 92    		 CALL DELAYMICRO	;
171)   8F44 C1          		 POP BC	;
172)   8F45 F1          		 POP AF	;
173)   8F46 0B          		 DEC BC	;
174)   8F47 5F          		 LD E,A	;
175)   8F48 78          		 LD A,B	;
176)   8F49 B1          		 OR C	;
177)   8F4A 7B          		 LD A,E	;
178)   8F4B 20 EA       		 JR NZ, C3AGN2  	;
183)   8F4D 37          		 SCF ;TIMEOUT       	;TIMEOUT
184)   8F4E 06 02       		 LD B,2	;
185)   8F50 05          		 DEC B  ;NZ FLAG	;NZ FLAG
186)   8F51 C9          		 RET	;
188)   8F52 3E 22       		CH376_GETSTAT: LD A,CMD_GET_STATUS	;
189)   8F54 CD 94 8F    		 CALL CH376_COMMD	;
190)   8F57 CD AF 8F    		 CALL CH376_DATARD	;
191)   8F5A C9          		 RET	;
199)   8F5B 01 C4 09    		CH376_CHOK: LD BC,2500	;
200)   8F5E CD A0 8F    		C3AGN: CALL CH376_INSTAT	;
201)   8F61 CB 67       		 BIT 4,A   ;CHECK BUSY	;CHECK BUSY
202)   8F63 C8          		 RET Z   	;
203)   8F64 C5          		 PUSH BC	;
204)   8F65 F5          		 PUSH AF	;
205)   8F66 06 32       		 LD B,50	;
206)   8F68 CD E3 92    		 CALL DELAYMICRO	;
207)   8F6B F1          		 POP AF	;
208)   8F6C C1          		 POP BC	;
209)   8F6D 0B          		 DEC BC	;
210)   8F6E 5F          		 LD E,A	;
211)   8F6F 78          		 LD A,B	;
212)   8F70 B1          		 OR C	;
213)   8F71 7B          		 LD A,E	;
214)   8F72 20 EA       		 JR NZ,C3AGN	;
215)   8F74 F5          		 PUSH AF  	;
216)   8F75 CD 48 95    		 CALL PRINTNUM  	;
217)   8F78 F1          		 POP AF	;
218)   8F79 CD 7F 89    		 CALL RS_MESG	;
219)   8F7C 2A 2A 2A 43 		 DEFM "***CMD TIMEOUT***"	;
219)   8F80 4D 44 20 54 		 DEFM "***CMD TIMEOUT***"	;
219)   8F84 49 4D 45 4F 		 DEFM "***CMD TIMEOUT***"	;
219)   8F88 55 54 2A 2A 		 DEFM "***CMD TIMEOUT***"	;
219)   8F8C 2A          		 DEFM "***CMD TIMEOUT***"	;
220)   8F8D 0A 0D 00    		 DB 10,13,0       	;
221)   8F90 06 02       		 LD B,2	;
222)   8F92 05          		 DEC B  ;NZ FLAG	;NZ FLAG
223)   8F93 C9          		 RET	;
229)   8F94 D3 31       		CH376_COMMD: OUT (INT376CMD),A	;
230)   8F96 C5          		 PUSH BC	;
231)   8F97 D5          		 PUSH DE	;
232)   8F98 E5          		 PUSH HL	;
233)   8F99 CD 5B 8F    		 CALL CH376_CHOK  ;CHECK NOT BUSY	;CHECK NOT BUSY
234)   8F9C E1          		 POP HL	;
235)   8F9D D1          		 POP DE	;
236)   8F9E C1          		 POP BC	;
237)   8F9F C9          		 RET	;
239)   8FA0 DB 31       		CH376_INSTAT: IN A,(INT376CMD)	;
241)   8FA2 C9          		 RET	;
246)   8FA3 D3 30       		CH376_DATAWR: OUT (INT376DAT),A 	;
247)   8FA5 D5          		 PUSH DE	;
248)   8FA6 E5          		 PUSH HL 	;
249)   8FA7 C5          		 PUSH BC	;
250)   8FA8 CD 5B 8F    		 CALL CH376_CHOK  ;CHECK NOT BUSY	;CHECK NOT BUSY
251)   8FAB C1          		 POP BC	;
252)   8FAC E1          		 POP HL	;
253)   8FAD D1          		 POP DE	;
254)   8FAE C9          		 RET	;
257)   8FAF DB 30       		CH376_DATARD: IN A,(INT376DAT)	;
262)   8FB1 C9          		 RET	;
265)   8FB2 3E 01       		CH376_VERSION: LD A,CMD_GET_IC_VER 	;
266)   8FB4 CD 94 8F    		 CALL CH376_COMMD	;
267)   8FB7 CD AF 8F    		 CALL CH376_DATARD	;
268)   8FBA E6 0F       		 AND 00001111B	;
269)   8FBC C9          		               RET	;
271)   8FBD 3E 05       		CH376_INIT:    LD A,CMD_RESET_ALL	;
272)   8FBF CD 94 8F    		 CALL CH376_COMMD  	;
273)   8FC2 3E 06       		 LD A,CMD_CHECK_EXIST 	;
274)   8FC4 CD 94 8F    		 CALL CH376_COMMD	;
275)   8FC7 3E 57       		 LD A,87	;
276)   8FC9 CD A3 8F    		 CALL CH376_DATAWR	;
277)   8FCC CD AF 8F    		 CALL CH376_DATARD	;
278)   8FCF FE A8       		 CP 255 - 87 	;
279)   8FD1 C9          		               RET               	;
283)   8FD2 F5          		CH376_SETUSB: PUSH AF	;
284)   8FD3 3E 15       		               LD A,CMD_SETUSB_MODE	;
285)   8FD5 CD 94 8F    		 CALL CH376_COMMD	;
286)   8FD8 F1          		               POP AF	;
287)   8FD9 CD A3 8F    		 CALL CH376_DATAWR	;
289)   8FDC 06 14       		 LD B,20	;
290)   8FDE CD E3 92    		 CALL DELAYMICRO     ;WAIT A BIT	;WAIT A BIT
295)   8FE1 CD 52 8F    		 CALL CH376_GETSTAT	;
296)   8FE4 FE 15       		 CP USB_INT_CONNECT	;
297)   8FE6 C8          		 RET Z	;
299)   8FE7 F5          		 PUSH AF	;
300)   8FE8 CD 7F 89    		 CALL CH376_ERROR	;
301)   8FEB 45 52 52 3A 		 DEFM "ERR: SETUSBMODE"	;
301)   8FEF 20 53 45 54 		 DEFM "ERR: SETUSBMODE"	;
301)   8FF3 55 53 42 4D 		 DEFM "ERR: SETUSBMODE"	;
301)   8FF7 4F 44 45    		 DEFM "ERR: SETUSBMODE"	;
302)   8FFA 0A 0D 00    		 DB 10,13,0	;
303)   8FFD F1          		 POP AF	;
304)   8FFE CD 48 95    		 CALL PRINTNUM	;
305)   9001 C9          		               RET	;
310)   9002 3E 30       		CH376_CONNECT: LD A, CMD_DISK_CONNECT	;
311)   9004 CD 94 8F    		     CALL CH376_COMMD	;
312)   9007 CD 23 8F    		 CALL CH376_WTCMDEND	;
314)   900A D8          		 RET C ;TIMEOUT	;TIMEOUT
315)   900B C8          		 RET Z ;CONNECT OK	;CONNECT OK
320)   900C C9          		 RET ;NZ HERE	;NZ HERE
330)   900D 3E 31       		CH376_MOUNT:   LD A,CMD_DISK_MOUNT  	;
331)   900F CD 94 8F    		 CALL CH376_COMMD	;
332)   9012 CD 23 8F    		 CALL CH376_WTCMDEND  	;
333)   9015 C9          		 RET	;
338)   9016 06 0A       		CH376_MOUNTDEV:   LD B,10  ;TRY TO MOUNT 10 TIMES	;TRY TO MOUNT 10 TIMES
339)   9018 C5          		CM_AGN1: PUSH BC	;
340)   9019 CD D2 8F    		 CALL CH376_SETUSB	;
341)   901C 20 10       		 JR NZ,CM_ERROR	;
342)   901E CD 02 90    		 CALL CH376_CONNECT	;
343)   9021 20 0B       		 JR NZ,CM_ERROR	;
344)   9023 3E 31       		        LD A,CMD_DISK_MOUNT  	;
345)   9025 CD 94 8F    		 CALL CH376_COMMD	;
346)   9028 CD 23 8F    		 CALL CH376_WTCMDEND	;
347)   902B C1          		 POP BC	;
348)   902C C8          		 RET Z	;
349)   902D C5          		 PUSH BC	;
350)   902E 06 64       		CM_ERROR: LD B,100	;
351)   9030 CD F8 92    		 CALL DELAYMILI     ;WAIT A BIT	;WAIT A BIT
352)   9033 C1          		 POP BC	;
353)   9034 10 E2       		 DJNZ CM_AGN1  	;
354)   9036 06 02       		 LD B,2	;
355)   9038 05          		 DEC B  ;NZ  	;NZ
356)   9039 F5          		 PUSH AF	;
357)   903A CD 7F 89    		 CALL CH376_ERROR	;
358)   903D 45 52 52 3A 		 DEFM "ERR: MOUNT DISK"	;
358)   9041 20 4D 4F 55 		 DEFM "ERR: MOUNT DISK"	;
358)   9045 4E 54 20 44 		 DEFM "ERR: MOUNT DISK"	;
358)   9049 49 53 4B    		 DEFM "ERR: MOUNT DISK"	;
359)   904C 0A 0D 00    		 DB 10,13,0	;
360)   904F F1          		     POP AF	;
361)   9050 C9          		               RET	;
364)   9051 7E          		CH376_WRSTRING: LD A,(HL)	;
365)   9052 F5          		 PUSH AF	;
366)   9053 E5          		 PUSH HL	;
367)   9054 CD 66 89    		 CALL RS_TX	;
368)   9057 E1          		 POP HL	;
369)   9058 F1          		 POP AF	;
370)   9059 CD A3 8F    		 CALL CH376_DATAWR	;
371)   905C C0          		 RET NZ	;
372)   905D 7E          		 LD A,(HL)	;
373)   905E FE 00       		 CP 0	;
374)   9060 C8          		 RET Z	;
375)   9061 23          		 INC HL	;
376)   9062 18 ED       		 JR CH376_WRSTRING	;
  7)   9064 	            		 DI2C_STA EQU DEVI2C+0      ;00 A0=LOW A1=LOW READONLY  DEF $F8	;00 A0=LOW A1=LOW READONLY  DEF $F8
  8)   9064 	            		 DI2C_INDPTR EQU DEVI2C+0     ;00 A0=LOW A1=LOW WRITEONLY DEF $00	;00 A0=LOW A1=LOW WRITEONLY DEF $00
  9)   9064 	            		 DI2C_DAT EQU DEVI2C+1      ;01 A0=HIGH A1=LOW R/W   DEF $00	;01 A0=HIGH A1=LOW R/W   DEF $00
 10)   9064 	            		 DI2C_CON EQU DEVI2C+3      ;11 A0=HIGH A1=HIGH R/W  DEF $00	;11 A0=HIGH A1=HIGH R/W  DEF $00
 11)   9064 	            		 DI2C_INDIR EQU DEVI2C+2     ;10 A0=LOW A1=HIGH R/W  DEF $00	;10 A0=LOW A1=HIGH R/W  DEF $00
 56)   9064 C5          		I2C_RDSTAT_WT: PUSH BC	;
 57)   9065 01 00 20    		 LD BC, $2000	;
 58)   9068 DB 73       		I2CRWT_AGN: IN A, (DI2C_CON)      ;READ CONTROL REGISTER BIT 3 IS SI	;READ CONTROL REGISTER BIT 3 IS SI
 59)   906A CB 5F       		 BIT 3, A        ;CHECK BIT 3 SI	;CHECK BIT 3 SI
 60)   906C 20 05       		 JR NZ, I2CRWT_OK       ;BIT 3 SHOULD BE SET IF VALID STATUS	;BIT 3 SHOULD BE SET IF VALID STATUS
 61)   906E 0B          		 DEC BC	;
 62)   906F 78          		 LD A, B	;
 63)   9070 B1          		 OR C	;
 64)   9071 20 F5       		 JR NZ, I2CRWT_AGN	;
 65)   9073 C1          		I2CRWT_OK: POP BC	;
 66)   9074 DB 70       		 IN A, (DI2C_STA)       ;VALID HERE	;VALID HERE
 67)   9076 C9          		 RET	;
 69)   9077 DB 73       		I2C_RDSTAT_NW: IN A, (DI2C_CON)      ;READ CONTROL REGISTER BIT 3 IS SI	;READ CONTROL REGISTER BIT 3 IS SI
 70)   9079 CB 5F       		 BIT 3, A        ;CHECK BIT 3 SI	;CHECK BIT 3 SI
 71)   907B 3E FF       		 LD A, $FF        ;$FF=INVALID STATUS	;$FF=INVALID STATUS
 72)   907D C8          		 RET Z         ;BIT 3 SHOULD BE SET IF VALID STATUS	;BIT 3 SHOULD BE SET IF VALID STATUS
 73)   907E DB 70       		 IN A, (DI2C_STA)       ;VALID HERE	;VALID HERE
 74)   9080 C9          		 RET	;
 77)   9081 3E 01       		I2C_INIT: LD A, I2CADR	;
 78)   9083 D3 70       		 OUT (DI2C_INDPTR), A	;
 79)   9085 3E E0       		 LD A, $E0	;
 80)   9087 D3 72       		 OUT (DI2C_INDIR), A       ;SET MY SLAVE ADDR	;SET MY SLAVE ADDR
 82)   9089 3E 40       		 LD A, $40        ;INIT	;INIT
 83)   908B D3 73       		 OUT (DI2C_CON), A      ;	;
 84)   908D 06 FA       		 LD B, 250	;
 85)   908F CD E3 92    		 CALL DELAYMICRO	;
 86)   9092 06 FA       		 LD B, 250	;
 87)   9094 CD E3 92    		 CALL DELAYMICRO       ;DELAY 500 MICROSECS	;DELAY 500 MICROSECS
 92)   9097 3E 06       		 LD A, I2CMODE	;
 93)   9099 D3 70       		 OUT (DI2C_INDPTR), A      ;SELECT I2CMODE REGISTER	;SELECT I2CMODE REGISTER
 94)   909B 3E 00       		 LD A, 0        ;SELECT MODE 0	;SELECT MODE 0
 95)   909D D3 72       		 OUT (DI2C_INDIR), A	;
 96)   909F 3E 02       		 LD A, I2CSCLL	;
 97)   90A1 D3 70       		 OUT (DI2C_INDPTR), A      ;SELECT I2CMODE REGISTER	;SELECT I2CMODE REGISTER
 98)   90A3 3E 9D       		 LD A, $9D        ;SELECT CLK L	;SELECT CLK L
 99)   90A5 D3 72       		 OUT (DI2C_INDIR), A	;
100)   90A7 3E 03       		 LD A, I2CSCLH	;
101)   90A9 D3 70       		 OUT (DI2C_INDPTR), A      ;SELECT I2CMODE REGISTER	;SELECT I2CMODE REGISTER
102)   90AB 3E 86       		 LD A, $86        ;SELECT CLK H	;SELECT CLK H
103)   90AD D3 72       		 OUT (DI2C_INDIR), A	;
105)   90AF C9          		 RET	;
112)   90B0 3E 60       		I2C_WR_BYTE: LD A, $60       ;START	;START
113)   90B2 D3 73       		 OUT (DI2C_CON), A	;
114)   90B4 CD 64 90    		WRB_LP1: CALL I2C_RDSTAT_WT      ;WAIT FOR INTERRUPT SI=1	;WAIT FOR INTERRUPT SI=1
115)   90B7 5F          		 LD E, A        ;SAVE STATUS	;SAVE STATUS
116)   90B8 FE 08       		 CP MASTER_START_TXed      ;A HAS THE STATUS	;A HAS THE STATUS
117)   90BA 28 21       		 JR Z, WRB_S1	;
118)   90BC FE 10       		 CP MASTER_RESTART_TXed	;
119)   90BE 28 1D       		 JR Z, WRB_S1	;
120)   90C0 FE 28       		 CP MASTER_DATA_W_ACK	;
121)   90C2 28 26       		 JR Z, WRB_S2	;
122)   90C4 FE 18       		 CP MASTER_SLA_W_ACK	;
123)   90C6 28 23       		 JR Z, WRB_S3	;
124)   90C8 FE 20       		 CP MASTER_SLA_W_NAK	;
125)   90CA 28 2D       		 JR Z, WRB_EXIT	;
126)   90CC FE 30       		 CP MASTER_DATA_W_NAK	;
127)   90CE 28 29       		 JR Z, WRB_EXIT	;
128)   90D0 FE 38       		 CP MASTER_ARB_LOST	;
129)   90D2 C8          		 RET Z	;
130)   90D3 FE B0       		 CP SLAVE_AL_ADDRESSED_R	;
131)   90D5 C8          		 RET Z	;
132)   90D6 FE 68       		 CP SLAVE_AL_ADDRESSED_W	;
133)   90D8 C8          		 RET Z	;
134)   90D9 FE D8       		 CP SLAVE_GENERALCALL_AL	;
135)   90DB C8          		 RET Z	;
136)   90DC C9          		 RET	;
138)   90DD 7A          		WRB_S1: LD A, D        ;DEVICE ADDR	;DEVICE ADDR
139)   90DE CB 27       		 SLA A	;
140)   90E0 E6 FE       		 AND $FE        ;ADDR+WRITE ON D0=0	;ADDR+WRITE ON D0=0
141)   90E2 D3 71       		 OUT (DI2C_DAT), A	;
142)   90E4 3E 40       		 LD A, $40	;
143)   90E6 D3 73       		 OUT (DI2C_CON), A	;
144)   90E8 18 CA       		 JR WRB_LP1	;
145)   90EA 0B          		WRB_S2: DEC BC	;
146)   90EB 78          		WRB_S3: LD A, B	;
147)   90EC B1          		 OR C	;
148)   90ED 28 0A       		 JR Z, WRB_EXIT	;
149)   90EF 7E          		 LD A, (HL)	;
150)   90F0 23          		 INC HL	;
151)   90F1 D3 71       		 OUT (DI2C_DAT), A	;
152)   90F3 3E 40       		 LD A, $40	;
153)   90F5 D3 73       		 OUT (DI2C_CON), A	;
154)   90F7 18 BB       		 JR WRB_LP1	;
156)   90F9 3E 50       		WRB_EXIT: LD A, $50       ;STOP	;STOP
157)   90FB D3 73       		 OUT (DI2C_CON), A	;
158)   90FD 78          		 LD A, B	;
159)   90FE B1          		 OR C	;
160)   90FF C9          		 RET         ;IF A NOT ZERO THEN ERROR	;IF A NOT ZERO THEN ERROR
166)   9100 78          		I2C_RD_BYTE: LD A, B	;
167)   9101 B1          		 OR C	;
168)   9102 C8          		 RET Z        ;RETURN IF ZERO BYTE COUNT	;RETURN IF ZERO BYTE COUNT
169)   9103 3E 60       		 LD A, $60	;
170)   9105 D3 73       		 OUT (DI2C_CON), A	;
171)   9107 CD 64 90    		RDB_LP1: CALL I2C_RDSTAT_WT      ;WAIT FOR INTERRUPT SI=1	;WAIT FOR INTERRUPT SI=1
172)   910A 1E 00       		 LD E, 0	;
173)   910C FE 08       		 CP MASTER_START_TXed	;
174)   910E 28 1F       		 JR Z, RDB_S1	;
176)   9110 28 1D       		 JR Z, RDB_S1	;
177)   9112 FE 58       		 CP MASTER_DATA_R_NAK	;
178)   9114 28 26       		 JR Z, RDB_S2	;
179)   9116 FE 50       		 CP MASTER_DATA_R_ACK	;
180)   9118 28 24       		 JR Z, RDB_S3	;
181)   911A FE 40       		 CP MASTER_SLA_R_ACK	;
182)   911C 28 25       		 JR Z, RDB_S4	;
183)   911E FE 48       		 CP MASTER_SLA_R_NAK	;
184)   9120 28 38       		 JR Z, RDB_EXIT	;
185)   9122 FE 38       		 CP MASTER_ARB_LOST	;
186)   9124 C8          		 RET Z	;
187)   9125 FE B0       		 CP SLAVE_AL_ADDRESSED_R	;
188)   9127 C8          		 RET Z	;
189)   9128 FE 68       		 CP SLAVE_AL_ADDRESSED_W	;
190)   912A C8          		 RET Z	;
191)   912B FE D8       		 CP SLAVE_GENERALCALL_AL	;
192)   912D C8          		 RET Z	;
193)   912E C9          		 RET	;
196)   912F 7A          		RDB_S1: LD A, D        ;DEVICE ADDR	;DEVICE ADDR
197)   9130 CB 27       		 SLA A	;
198)   9132 F6 01       		 OR $01         ;ADDR + READ COMMAND	;ADDR + READ COMMAND
199)   9134 D3 71       		 OUT (DI2C_DAT), A	;
200)   9136 3E 40       		 LD A, $40	;
201)   9138 D3 73       		 OUT (DI2C_CON), A	;
202)   913A 18 CB       		 JR RDB_LP1	;
203)   913C 1E 01       		RDB_S2: LD E, 1        ;MEANS WE EXIT	;MEANS WE EXIT
204)   913E DB 71       		RDB_S3: IN A, (DI2C_DAT)       ;READ DATA	;READ DATA
205)   9140 77          		 LD (HL), A	;
206)   9141 23          		 INC HL	;
207)   9142 0B          		 DEC BC	;
208)   9143 78          		RDB_S4: LD A, B        ; IS LENGTH 0	; IS LENGTH 0
209)   9144 B1          		 OR C	;
210)   9145 28 13       		 JR Z, RDB_EXIT	;
211)   9147 7B          		 LD A, E	;
212)   9148 FE 01       		 CP 1	;
213)   914A 28 0E       		 JR Z, RDB_EXIT	;
214)   914C 78          		 LD A, B	;
215)   914D 81          		 ADD C	;
216)   914E FE 01       		 CP 1	;
217)   9150 3E 40       		 LD A, $40	;
218)   9152 28 02       		 JR Z, RDB_NXT1	;
219)   9154 3E C0       		 LD A, $C0	;
220)   9156 D3 73       		RDB_NXT1: OUT (DI2C_CON), A      ;WRITE $40 IF BYTE COUNT BC=1 ELSE WRITE $C0	;WRITE $40 IF BYTE COUNT BC=1 ELSE WRITE $C0
221)   9158 18 AD       		 JR RDB_LP1	;
223)   915A 3E 50       		RDB_EXIT: LD A, $50	;
224)   915C D3 73       		 OUT (DI2C_CON), A	;
225)   915E 78          		 LD A, B	;
226)   915F B1          		 OR C	;
227)   9160 C9          		 RET         ;IF A NOT ZERO THEN ERROR	;IF A NOT ZERO THEN ERROR
112)   9161 16 00       		LCD16_WR4BITS: LD D, 0       ;PIN MAP VALUES FRO 8574 BIT 0-7	;PIN MAP VALUES FRO 8574 BIT 0-7
114)   9163 0F          		 RRCA         ;D4 = D0,D5=D1,D6=D2,D7=D3	;D4 = D0,D5=D1,D6=D2,D7=D3
115)   9164 30 02       		 JR NC, LWNXT1        ;BIT 0 NOT SET JR	;BIT 0 NOT SET JR
116)   9166 CB E2       		 SET D4, D	;
117)   9168 0F          		LWNXT1: RRCA	;
118)   9169 30 02       		 JR NC, LWNXT2        ;BIT 1 NOT SET JR	;BIT 1 NOT SET JR
119)   916B CB EA       		 SET D5, D	;
120)   916D 0F          		LWNXT2: RRCA	;
121)   916E 30 02       		 JR NC, LWNXT3        ;BIT 2 NOT SET JR	;BIT 2 NOT SET JR
122)   9170 CB F2       		 SET D6, D	;
123)   9172 0F          		LWNXT3: RRCA	;
124)   9173 30 02       		 JR NC, LWNXT4        ;BIT 3 NOT SET JR	;BIT 3 NOT SET JR
125)   9175 CB FA       		 SET D7, D	;
126)   9177 7B          		LWNXT4: LD A, E	;
127)   9178 0F          		 RRCA	;
128)   9179 30 02       		 JR NC, LWNXT5	;
129)   917B CB C2       		 SET RS, D	;
131)   917D 3A 81 00    		 LD A,(LCD_STSMASK)       ;ADD THE BACKLIGHT MASKS  	;ADD THE BACKLIGHT MASKS
132)   9180 B2          		 OR D	;
133)   9181 57          		 LD D,A	;
135)   9182 CB D2       		 SET EN, D        ;EN=HIGH	;EN=HIGH
136)   9184 7A          		 LD A, D	;
137)   9185 CD 8F 91    		 CALL LCD16_I2CSEND	;
138)   9188 CB 92       		 RES EN, D        ;EN=LOW	;EN=LOW
139)   918A 7A          		 LD A, D	;
140)   918B CD 8F 91    		 CALL LCD16_I2CSEND	;
141)   918E C9          		 RET	;
145)   918F D5          		LCD16_I2CSEND: PUSH DE	;
146)   9190 E5          		 PUSH HL	;
147)   9191 21 83 00    		 LD HL, BUFFER	;
148)   9194 77          		 LD (HL), A	;
149)   9195 16 27       		 LD D, LCDADDR	;
150)   9197 01 01 00    		 LD BC, 1	;
151)   919A CD B0 90    		 CALL I2C_WRITE	;
152)   919D E1          		 POP HL	;
153)   919E D1          		 POP DE	;
154)   919F C9          		 RET	;
157)   91A0 1E 00       		LCD16_COMMD: LD E, COMMAND	;
158)   91A2 18 02       		 JR LCD16_SEND	;
161)   91A4 1E 01       		LCD16_DATA: LD E, LCD_DATA 	;
164)   91A6 57          		LCD16_SEND: LD D, A       ;SAVE A FOR LATER USE	;SAVE A FOR LATER USE
165)   91A7 7B          		 LD A, E	;
166)   91A8 0F          		 RRCA	;
167)   91A9 38 07       		 JR C, ISCMDDATA	;
168)   91AB 0F          		 RRCA	;
169)   91AC 30 04       		 JR NC, ISCMDDATA	;
171)   91AE 1E 00       		 LD E, COMMAND        ;SEND 4 BITS AS COMMAND E=0	;SEND 4 BITS AS COMMAND E=0
172)   91B0 18 0E       		 JR LCSD_4BIT	;
173)   91B2 7A          		ISCMDDATA: LD A, D	;
174)   91B3 CB 3F       		 SRL A	;
175)   91B5 CB 3F       		 SRL A	;
176)   91B7 CB 3F       		 SRL A	;
177)   91B9 CB 3F       		 SRL A	;
178)   91BB D5          		 PUSH DE	;
179)   91BC CD 61 91    		 CALL LCD16_WR4BITS      ;HIGH 4 BITS FIRST	;HIGH 4 BITS FIRST
180)   91BF D1          		 POP DE	;
181)   91C0 7A          		LCSD_4BIT: LD A, D	;
182)   91C1 E6 0F       		 AND $0F	;
183)   91C3 CD 61 91    		 CALL LCD16_WR4BITS      ;LOW 4 BITS NEXT	;LOW 4 BITS NEXT
184)   91C6 C9          		 RET	;
186)   91C7 3E 03       		@LCD16_INIT: LD A, 3       ;SET LCD TO 4BIT MODE	;SET LCD TO 4BIT MODE
187)   91C9 1E 02       		 LD E, FOUR_BITS	;
188)   91CB CD A6 91    		 CALL LCD16_SEND	;
189)   91CE 01 00 30    		 LD BC, $3000	;
190)   91D1 CD A7 93    		 CALL PAUSE_LOOP       ;DELAY 4,5ms	;DELAY 4,5ms
191)   91D4 3E 03       		 LD A, 3	;
192)   91D6 1E 02       		 LD E, FOUR_BITS	;
193)   91D8 CD A6 91    		 CALL LCD16_SEND	;
194)   91DB 01 00 30    		 LD BC, $3000	;
195)   91DE CD A7 93    		 CALL PAUSE_LOOP       ;DELAY 4,5ms	;DELAY 4,5ms
196)   91E1 3E 03       		 LD A, 3	;
197)   91E3 1E 02       		 LD E, FOUR_BITS	;
198)   91E5 CD A6 91    		 CALL LCD16_SEND	;
199)   91E8 01 00 30    		 LD BC, $3000	;
200)   91EB CD A7 93    		 CALL PAUSE_LOOP       ;DELAY 4,5ms	;DELAY 4,5ms
201)   91EE 3E 02       		 LD A, 2        ;PUT 4 BIT MODE	;PUT 4 BIT MODE
202)   91F0 1E 02       		 LD E, FOUR_BITS	;
203)   91F2 CD A6 91    		 CALL LCD16_SEND	;
204)   91F5 01 00 30    		 LD BC, $3000	;
205)   91F8 CD A7 93    		 CALL PAUSE_LOOP       ;DELAY 4,5ms	;DELAY 4,5ms
207)   91FB 3E 28       		 LD A, LCD_FUNCTIONSET OR LCD_2LINE	;
208)   91FD CD A0 91    		 CALL LCD16_COMMD	;
209)   9200 3E 02       		 LD A, LCD_DISPLAYON OR LCD_CURSOROFF OR LCD_BLINKOFF	;
210)   9202 32 7F 00    		 LD (LCD_DSPCTRL), A	;
211)   9205 CD 2D 92    		 CALL LCD16_DISP	;
212)   9208 CD 48 92    		 CALL LCD16_CLR	;
213)   920B 3E 02       		 LD A, LCD_ENTRYLEFT OR LCD_ENTRYSHIFTDECREMENT	;
214)   920D 32 80 00    		 LD (LCD_DSPMODE), A	;
215)   9210 F6 04       		 OR LCD_ENTRYMODESET	;
216)   9212 CD A0 91    		 CALL LCD16_COMMD	;
217)   9215 01 00 30    		 LD BC, $3000	;
218)   9218 CD A7 93    		 CALL PAUSE_LOOP       ;DELAY 4,5ms	;DELAY 4,5ms
219)   921B CD CB 92    		 CALL LCD16_BKLTON      ;BACKLIGHT ON BY DEFAULT	;BACKLIGHT ON BY DEFAULT
220)   921E C9          		 RET	;
222)   921F 3A 7F 00    		@LCD16_NODISP: LD A, (LCD_DSPCTRL)	;
223)   9222 CB 97       		 RES LCD_DISPLAYON, A	;
224)   9224 32 7F 00    		 LD (LCD_DSPCTRL), A	;
225)   9227 F6 08       		 OR LCD_DISPLAYCONTROL	;
226)   9229 CD A0 91    		 CALL LCD16_COMMD	;
227)   922C C9          		 RET	;
228)   922D 3A 7F 00    		@LCD16_DISP: LD A, (LCD_DSPCTRL)	;
229)   9230 CB D7       		 SET LCD_DISPLAYON, A	;
230)   9232 32 7F 00    		 LD (LCD_DSPCTRL), A	;
231)   9235 F6 08       		 OR LCD_DISPLAYCONTROL	;
232)   9237 CD A0 91    		 CALL LCD16_COMMD	;
233)   923A C9          		 RET	;
235)   923B 01 D0 07    		LCDDELAY: LD BC, HOME_CLEAR_EXEC	;
236)   923E C5          		LCLR_AGN1: PUSH BC	;
237)   923F CD E3 92    		 CALL DELAYMICRO	;
238)   9242 C1          		 POP BC	;
239)   9243 0D          		 DEC C	;
240)   9244 E2 3E 92    		 JP PO, LCLR_AGN1	;
241)   9247 C9          		 RET	;
243)   9248 3E 01       		@LCD16_CLR: LD A, LCD_CLEARDISPLAY      ;clear display, set cursor position to zero	;clear display, set cursor position to zero
244)   924A CD A0 91    		 CALL LCD16_COMMD	;
245)   924D CD 3B 92    		 CALL LCDDELAY	;
246)   9250 C9          		 RET	;
249)   9251 7E          		@LCD16_PRINT: LD A, (HL)	;
250)   9252 FE 00       		 CP 0	;
251)   9254 C8          		 RET Z	;
252)   9255 CD A4 91    		 CALL LCD16_DATA	;
253)   9258 23          		 INC HL	;
254)   9259 18 F6       		 JR LCD16_PRINT	;
257)   925B CD A4 91    		@LCD16_PRCHR: CALL LCD16_DATA	;
258)   925E C9          		 RET	;
260)   925F 3E 02       		@LCD16_HOME: LD A, LCD_RETURNHOME	;
261)   9261 CD A0 91    		 CALL LCD16_COMMD	;
262)   9264 CD 3B 92    		 CALL LCDDELAY	;
263)   9267 C9          		 RET	;
266)   9268 00 40 14 54 		ROWOFFSET: DB $00,$40,$14,$54	;
267)   926C 06 00       		@LCD16_SETCURS: LD B, 0	;
268)   926E 4B          		 LD C, E	;
269)   926F 21 68 92    		 LD HL, ROWOFFSET	;
270)   9272 09          		 ADD HL, BC	;
271)   9273 7E          		 LD A, (HL)	;
272)   9274 82          		 ADD D	;
273)   9275 F6 80       		 OR LCD_SETDDRAMADDR	;
274)   9277 CD A0 91    		 CALL LCD16_COMMD	;
275)   927A C9          		 RET	;
277)   927B 3A 7F 00    		@LCD16_CURSOFF: LD A, (LCD_DSPCTRL)	;
278)   927E CB 8F       		 RES LCD_CURSORON, A	;
279)   9280 32 7F 00    		 LD (LCD_DSPCTRL), A	;
280)   9283 F6 08       		 OR LCD_DISPLAYCONTROL	;
281)   9285 CD A0 91    		 CALL LCD16_COMMD	;
282)   9288 C9          		 RET	;
285)   9289 3A 7F 00    		@LCD16_CURSON: LD A, (LCD_DSPCTRL)	;
286)   928C CB CF       		 SET LCD_CURSORON, A	;
287)   928E 32 7F 00    		 LD (LCD_DSPCTRL), A	;
288)   9291 F6 08       		 OR LCD_DISPLAYCONTROL	;
289)   9293 CD A0 91    		 CALL LCD16_COMMD	;
290)   9296 C9          		 RET	;
292)   9297 3A 7F 00    		@LCD16_BLINKOFF: LD A, (LCD_DSPCTRL)	;
293)   929A CB 87       		 RES LCD_BLINKON, A	;
294)   929C 32 7F 00    		 LD (LCD_DSPCTRL), A	;
295)   929F F6 08       		 OR LCD_DISPLAYCONTROL	;
296)   92A1 CD A0 91    		 CALL LCD16_COMMD	;
297)   92A4 C9          		 RET	;
300)   92A5 3A 7F 00    		@LCD16_BLINKON: LD A, (LCD_DSPCTRL)	;
301)   92A8 CB C7       		 SET LCD_BLINKON, A	;
302)   92AA 32 7F 00    		 LD (LCD_DSPCTRL), A	;
303)   92AD F6 08       		 OR LCD_DISPLAYCONTROL	;
304)   92AF CD A0 91    		 CALL LCD16_COMMD	;
305)   92B2 C9          		 RET	;
307)   92B3 3E 18       		@LCD16_SCRLEFT: LD A, LCD_CURSORSHIFT OR LCD_DISPLAYMOVE OR LCD_MOVELEFT	;
308)   92B5 CD A0 91    		 CALL LCD16_COMMD	;
309)   92B8 C9          		 RET	;
311)   92B9 3E 1C       		@LCD16_SCRRIGHT: LD A, LCD_CURSORSHIFT OR LCD_DISPLAYMOVE OR LCD_MOVERIGHT	;
312)   92BB CD A0 91    		 CALL LCD16_COMMD	;
313)   92BE C9          		 RET	;
315)   92BF 3E 10       		@LCD16_MOVLEFT: LD A, LCD_CURSORSHIFT OR LCD_CURSORMOVE OR LCD_MOVELEFT	;
316)   92C1 CD A0 91    		 CALL LCD16_COMMD	;
317)   92C4 C9          		 RET	;
319)   92C5 3E 14       		@LCD16_MOVRIGHT: LD A, LCD_CURSORSHIFT OR LCD_CURSORMOVE OR LCD_MOVERIGHT	;
320)   92C7 CD A0 91    		 CALL LCD16_COMMD	;
321)   92CA C9          		 RET	;
324)   92CB 3E 08       		@LCD16_BKLTON: LD A, BACKLIGHTPINMASK AND LCD_BACKLIGHT	;
325)   92CD 32 81 00    		 LD (LCD_STSMASK),A	;
326)   92D0 CD 8F 91    		 CALL LCD16_I2CSEND	;
327)   92D3 C9          		 RET	;
329)   92D4 3E 00       		@LCD16_BKLTOFF: LD A, BACKLIGHTPINMASK AND LCD_NOBACKLIGHT	;
330)   92D6 32 81 00    		 LD (LCD_STSMASK),A	;
331)   92D9 CD 8F 91    		 CALL LCD16_I2CSEND	;
332)   92DC C9          		 RET	;
 37)   92DD F5          		DELAYMICROSEC: PUSH AF	;
 38)   92DE D5          		 PUSH DE	;
 39)   92DF 1B          		 DEC DE	;
 40)   92E0 D1          		 POP DE	;
 41)   92E1 F1          		 POP AF	;
 42)   92E2 C9          		 RET	;
 45)   92E3 CD DD 92    		S21: CALL DELAYMICROSEC	;
 46)   92E6 10 FB       		 DJNZ S21	;
 47)   92E8 C9          		 RET	;
 51)   92E9 F5          		DELAYMILISEC: PUSH AF	;
 52)   92EA D5          		 PUSH DE	;
 53)   92EB 11 2C 01    		 LD DE, 300        ;2000 1 MILISEC =300 ON 8MHZ SO 30= 0.1 MILISECS = 100 MICROSECS	;2000 1 MILISEC =300 ON 8MHZ SO 30= 0.1 MILISECS = 100 MICROSECS
 54)   92EE 1B          		DEL1: DEC DE	;
 55)   92EF 7A          		 LD A, D        ;TEST FOR DE=00	;TEST FOR DE=00
 56)   92F0 B3          		 OR E	;
 57)   92F1 20 FB       		 JR NZ, DEL1	;
 58)   92F3 D1          		 POP DE	;
 59)   92F4 F1          		 POP AF	;
 60)   92F5 C9          		 RET	;
 63)   92F6 06 50       		 LD B, 80	;
 65)   92F8 CD E9 92    		S1: CALL DELAYMILISEC	;
 66)   92FB 10 FB       		 DJNZ S1	;
 67)   92FD C9          		 RET	;
 72)   92FE C5          		@DELAYSEC: PUSH BC	;
 73)   92FF 01 E8 03    		 LD BC, 1000	;
 74)   9302 C5          		MYDLAGN: PUSH BC	;
 75)   9303 CD E9 92    		 CALL DELAY        ;1MS ON 8 MHZ	;1MS ON 8 MHZ
 76)   9306 C1          		 POP BC	;
 77)   9307 0B          		 DEC BC	;
 78)   9308 78          		 LD A, B	;
 79)   9309 B1          		 OR C	;
 80)   930A 20 F6       		 JR NZ, MYDLAGN	;
 81)   930C C1          		 POP BC	;
 82)   930D 10 EF       		 DJNZ DELAYSEC	;
 83)   930F C9          		 RET	;
 88)   9310 F5          		OUTASC: PUSH AF	;
 89)   9311 D5          		 PUSH DE	;
 90)   9312 CD 45 93    		 CALL B2Bcd	;
 91)   9315 D1          		 POP DE	;
 92)   9316 CD 6B 93    		 CALL BCD2HA	;
 93)   9319 F1          		 POP AF	;
 94)   931A C9          		 RET	;
108)   931B B7          		BCD2BN: OR A	;
109)   931C 47          		 LD B, A	;
110)   931D E6 F0       		 AND $F0	;
111)   931F 0F          		 RRCA	;
112)   9320 4F          		 LD C, A	;
113)   9321 0F          		 RRCA	;
114)   9322 0F          		 RRCA	;
115)   9323 81          		 ADD A, C	;
116)   9324 4F          		 LD C, A	;
117)   9325 78          		 LD A, B	;
118)   9326 E6 0F       		 AND $0F	;
119)   9328 81          		 ADD A, C	;
120)   9329 C9          		 RET	;
135)   932A 26 FF       		BN2BCD: LD H, $FF	;
136)   932C 24          		D100LP: INC H	;
137)   932D D6 64       		 SUB 100	;
138)   932F 30 FB       		 JR NC, D100LP	;
139)   9331 C6 64       		 ADD A, 100	;
140)   9333 2E FF       		 LD L, $FF	;
141)   9335 2C          		D10LP: INC L	;
142)   9336 D6 0A       		 SUB 10	;
143)   9338 30 FB       		 JR NC, D10LP	;
144)   933A C6 0A       		 ADD A, 10	;
145)   933C 4F          		 LD C, A	;
146)   933D 7D          		 LD A, L	;
147)   933E 07          		 RLCA	;
148)   933F 07          		 RLCA	;
149)   9340 07          		 RLCA	;
150)   9341 07          		 RLCA	;
151)   9342 B1          		 OR C	;
152)   9343 6F          		 LD L, A	;
153)   9344 C9          		 RET	;
167)   9345 01 00 10    		 LD BC, 16 * 256 + 0       ; handle 16 bits, one bit per iteration	; handle 16 bits, one bit per iteration
168)   9348 11 00 00    		 LD DE, 0	;
170)   934B 29          		 ADD HL, HL	;
171)   934C 7B          		 LD A, E	;
172)   934D 8F          		 ADC A, A	;
173)   934E 27          		 DAA	;
174)   934F 5F          		 LD E, A	;
175)   9350 7A          		 LD A, D	;
176)   9351 8F          		 ADC A, A	;
177)   9352 27          		 DAA	;
178)   9353 57          		 LD D, A	;
179)   9354 79          		 LD A, C	;
180)   9355 8F          		 ADC A, A	;
181)   9356 27          		 DAA	;
182)   9357 4F          		 LD C, A	;
183)   9358 10 F1       		 DJNZ cvtLp	;
184)   935A EB          		 EX DE, HL	;
185)   935B C9          		 RET	;
199)   935C B7          		BCD2BN: OR A	;
200)   935D 47          		 LD B, A	;
201)   935E E6 F0       		 AND $F0	;
202)   9360 0F          		 RRCA	;
203)   9361 4F          		 LD C, A	;
204)   9362 0F          		 RRCA	;
205)   9363 0F          		 RRCA	;
206)   9364 81          		 ADD A, C	;
207)   9365 4F          		 LD C, A	;
208)   9366 78          		 LD A, B	;
209)   9367 E6 0F       		 AND $0F	;
210)   9369 81          		 ADD A, C	;
211)   936A C9          		 RET	;
223)   936B 79          		 LD A, C	;
224)   936C CD 98 93    		 CALL cvtUN	;
225)   936F 79          		 LD A, C	;
226)   9370 CD 9C 93    		 CALL cvtLN	;
227)   9373 7C          		 LD A, H	;
228)   9374 CD 98 93    		 CALL cvtUN	;
229)   9377 7C          		 LD A, H	;
230)   9378 CD 9C 93    		 CALL cvtLN	;
231)   937B 7D          		 LD A, L	;
232)   937C CD 98 93    		 CALL cvtUN	;
233)   937F 7D          		 LD A, L	;
234)   9380 18 1A       		 JR cvtLN	;
236)   9382 1F          		 RRA         ; move upper nibble into lower nibble	; move upper nibble into lower nibble
237)   9383 1F          		 RRA	;
238)   9384 1F          		 RRA	;
239)   9385 1F          		 RRA	;
241)   9386 E6 0F       		 AND 0Fh        ; isolate lower nibble	; isolate lower nibble
242)   9388 C6 90       		 ADD A, 90h        ; old trick	; old trick
243)   938A 27          		 DAA         ; for converting	; for converting
244)   938B CE 40       		 ADC A, 40h        ; one nibble	; one nibble
245)   938D 27          		 DAA         ; to hex ASCII	; to hex ASCII
246)   938E 12          		 LD (DE), A	;
247)   938F 13          		 INC DE	;
248)   9390 C9          		 RET	;
260)   9391 7D          		 LD A, L	;
261)   9392 CD 82 93    		 CALL cvtUN	;
262)   9395 7D          		 LD A, L	;
263)   9396 18 EE       		 JR cvtLN	;
265)   9398 1F          		 RRA         ; move upper nibble into lower nibble	; move upper nibble into lower nibble
266)   9399 1F          		 RRA	;
267)   939A 1F          		 RRA	;
268)   939B 1F          		 RRA	;
270)   939C E6 0F       		 AND 0Fh        ; isolate lower nibble	; isolate lower nibble
271)   939E C6 90       		 ADD A, 90h        ; old trick	; old trick
272)   93A0 27          		 DAA         ; for converting	; for converting
273)   93A1 CE 40       		 ADC A, 40h        ; one nibble	; one nibble
274)   93A3 27          		 DAA         ; to hex ASCII	; to hex ASCII
275)   93A4 12          		 LD (DE), A	;
276)   93A5 13          		 INC DE	;
277)   93A6 C9          		 RET	;
294)   93A7 F5          		 PUSH AF        ; 11 T-states	; 11 T-states
296)   93A8 ED 44       		 NEG         ; 8 T-states	; 8 T-states
297)   93AA ED 44       		 NEG         ; 8 T-states	; 8 T-states
298)   93AC ED 44       		 NEG         ; 8 T-states	; 8 T-states
299)   93AE ED 44       		 NEG         ; 8 T-states	; 8 T-states
300)   93B0 0B          		 DEC BC         ; 6 T-states	; 6 T-states
301)   93B1 79          		 LD A, C        ; 9 T-states	; 9 T-states
302)   93B2 B0          		 OR B         ; 4 T-states	; 4 T-states
303)   93B3 C2 A8 93    		 JP NZ, pau_lp        ; 10 T-states	; 10 T-states
304)   93B6 F1          		 POP AF         ; 10 T-states	; 10 T-states
305)   93B7 C9          		 RET         ; Pause complete, RETurn	; Pause complete, RETurn
343)   93B8 26 00       		@B2D8: LD H, 0	;
344)   93BA 6F          		 LD L, A	;
345)   93BB 1E 00       		@B2D16: LD E, 0	;
346)   93BD 16 00       		@B2D24: LD D, 0	;
347)   93BF 01 00 00    		@B2D32: LD BC, 0	;
348)   93C2 DD 21 00 00 		@B2D48: LD IX, 0        ; zero all non-used bits	; zero all non-used bits
349)   93C6 22 C4 00    		@B2D64: LD (B2DINV), HL	;
350)   93C9 ED 53 C6 00 		 LD (B2DINV + 2), DE	;
351)   93CD ED 43 C8 00 		 LD (B2DINV + 4), BC	;
352)   93D1 DD 22 CA 00 		 LD (B2DINV + 6), IX       ; place full 64-bit input value in buffer	; place full 64-bit input value in buffer
353)   93D5 21 CC 00    		 LD HL, B2DBUF	;
354)   93D8 11 CD 00    		 LD DE, B2DBUF + 1	;
355)   93DB 36 20       		 LD (HL), ' '	;
357)   93DD 01 12 00    		 LD BC, 18	;
358)   93E0 ED B0       		 LDIR         ; fill 1st 19 bytes of buffer with spaces	; fill 1st 19 bytes of buffer with spaces
359)   93E2 ED 43 DF 00 		 LD (B2DEND - 1), BC       ;set BCD value to "0" & place terminating 0	;set BCD value to "0" & place terminating 0
360)   93E6 1E 01       		 LD E, 1        ; no. of bytes in BCD value	; no. of bytes in BCD value
361)   93E8 21 CC 00    		 LD HL, B2DINV + 8       ; (address MSB input)+1	; (address MSB input)+1
362)   93EB 01 09 09    		 LD BC, 0x0909	;
363)   93EE AF          		 XOR A	;
364)   93EF 05          		B2DSKP0: DEC B	;
365)   93F0 28 29       		 JR Z, B2DSIZ        ; all 0: continue with postprocessing	; all 0: continue with postprocessing
366)   93F2 2B          		 DEC HL	;
367)   93F3 B6          		 OR (HL)        ; find first byte <>0	; find first byte <>0
368)   93F4 28 F9       		 JR Z, B2DSKP0	;
369)   93F6 0D          		B2DFND1: DEC C	;
370)   93F7 17          		 RLA	;
371)   93F8 30 FC       		 JR NC, B2DFND1        ; determine no. of most significant 1-bit	; determine no. of most significant 1-bit
372)   93FA 1F          		 RRA	;
373)   93FB 57          		 LD D, A        ; byte from binary input value	; byte from binary input value
374)   93FC E5          		B2DLUS2: PUSH HL	;
375)   93FD C5          		 PUSH BC	;
376)   93FE 21 DF 00    		B2DLUS1: LD HL, B2DEND - 1      ; address LSB of BCD value	; address LSB of BCD value
377)   9401 43          		 LD B, E        ; current length of BCD value in bytes	; current length of BCD value in bytes
378)   9402 CB 12       		 RL D         ; highest bit from input value -> carry	; highest bit from input value -> carry
379)   9404 7E          		B2DLUS0: LD A, (HL)	;
380)   9405 8F          		 ADC A, A	;
381)   9406 27          		 DAA	;
382)   9407 77          		 LD (HL), A        ; double 1 BCD byte from intermediate result	; double 1 BCD byte from intermediate result
383)   9408 2B          		 DEC HL	;
384)   9409 10 F9       		 DJNZ B2DLUS0        ; and go on to double entire BCD value (+carry!)	; and go on to double entire BCD value (+carry!)
385)   940B 30 03       		 JR NC, B2DNXT	;
386)   940D 1C          		 INC E         ; carry at MSB -> BCD value grew 1 byte larger	; carry at MSB -> BCD value grew 1 byte larger
387)   940E 36 01       		 LD (HL), 1        ; initialize new MSB of BCD value	; initialize new MSB of BCD value
388)   9410 0D          		B2DNXT: DEC C	;
389)   9411 20 EB       		 JR NZ, B2DLUS1        ; repeat for remaining bits from 1 input byte	; repeat for remaining bits from 1 input byte
390)   9413 C1          		 POP BC         ; no. of remaining bytes in input value	; no. of remaining bytes in input value
391)   9414 0E 08       		 LD C, 8        ; reset bit-counter	; reset bit-counter
392)   9416 E1          		 POP HL         ; pointer to byte from input value	; pointer to byte from input value
393)   9417 2B          		 DEC HL	;
394)   9418 56          		 LD D, (HL)        ; get next group of 8 bits	; get next group of 8 bits
395)   9419 10 E1       		 DJNZ B2DLUS2        ; and repeat until last byte from input value	; and repeat until last byte from input value
396)   941B 21 E0 00    		B2DSIZ: LD HL, B2DEND        ; address of terminating 0	; address of terminating 0
397)   941E 4B          		 LD C, E        ; size of BCD value in bytes	; size of BCD value in bytes
398)   941F B7          		 OR A	;
399)   9420 ED 42       		 SBC HL, BC        ; calculate address of MSB BCD	; calculate address of MSB BCD
400)   9422 54          		 LD D, H	;
401)   9423 5D          		 LD E, L	;
402)   9424 ED 42       		 SBC HL, BC	;
403)   9426 EB          		 EX DE, HL        ; HL=address BCD value, DE=start of decimal value	; HL=address BCD value, DE=start of decimal value
404)   9427 41          		 LD B, C        ; no. of bytes BCD	; no. of bytes BCD
405)   9428 CB 21       		 SLA C         ; no. of bytes decimal (possibly 1 too high)	; no. of bytes decimal (possibly 1 too high)
406)   942A 3E 30       		 LD A, '0'	;
407)   942C ED 6F       		 RLD         ; shift bits 4-7 of (HL) into bit 0-3 of A	; shift bits 4-7 of (HL) into bit 0-3 of A
408)   942E FE 30       		 CP '0'         ; (HL) was > 9h?	; (HL) was > 9h?
409)   9430 20 06       		 JR NZ, B2DEXPH        ; if yes, start with recording high digit	; if yes, start with recording high digit
410)   9432 0D          		 DEC C         ; correct number of decimals	; correct number of decimals
411)   9433 13          		 INC DE         ; correct start address	; correct start address
412)   9434 18 04       		 JR B2DEXPL        ; continue with converting low digit	; continue with converting low digit
413)   9436 ED 6F       		B2DEXP: RLD         ; shift high digit (HL) into low digit of A	; shift high digit (HL) into low digit of A
414)   9438 12          		B2DEXPH: LD (DE), A       ; record resulting ASCII-code	; record resulting ASCII-code
415)   9439 13          		 INC DE	;
416)   943A ED 6F       		B2DEXPL: RLD	;
417)   943C 12          		 LD (DE), A	;
418)   943D 13          		 INC DE	;
419)   943E 23          		 INC HL         ; next BCD-byte	; next BCD-byte
420)   943F 10 F5       		 DJNZ B2DEXP        ; and go on to convert each BCD-byte into 2 ASCII	; and go on to convert each BCD-byte into 2 ASCII
421)   9441 ED 42       		 SBC HL, BC        ; return with HL pointing to 1st decimal	; return with HL pointing to 1st decimal
422)   9443 C9          		 RET	;
426)   9444 EB          		 ex de, hl        ; Get destination into DE	; Get destination into DE
427)   9445 21 CC 00    		 ld hl, B2DBUF	;
428)   9448 CD 4F 94    		 call SkipWhitespace	;
429)   944B ED B0       		 ldir	;
430)   944D EB          		 ex de, hl        ; Get destination into DE	; Get destination into DE
431)   944E C9          		 ret	;
436)   944F 7E          		 ld a, (hl)	;
437)   9450 FE 20       		 cp ' '	;
438)   9452 C0          		 ret nz	;
439)   9453 23          		 inc hl	;
440)   9454 18 F9       		 jr SkipWhitespace	;
444)   9456 06 08       		@REVBITS: ld b, 8	;
445)   9458 6F          		 ld l, a	;
447)   9459 CB 15       		 rl l	;
448)   945B 1F          		 rra	;
449)   945C 10 FB       		 djnz REVLOOP	;
450)   945E C9          		 RET	;
460)   945F E5          		 push hl	;
462)   9460 7E          		 ld a, (hl)	;
464)   9461 FE 00       		 cp  0	;
465)   9463 28 0E       		 jr z, IsStrDecTrue	;
467)   9465 FE 30       		 cp  '0'	;
468)   9467 38 06       		 jr c, IsStrDecFalse	;
470)   9469 FE 3A       		 cp  '9'+1	;
471)   946B 38 09       		 jr c, IsStrDecContinue	;
472)   946D FE 39       		 cp  '9'	;
475)   946F F6 01       		 or 1         ; Reset zero flag	; Reset zero flag
476)   9471 E1          		 pop hl	;
477)   9472 C9          		 ret	;
479)   9473 BF          		 cp a         ; Set zero flag	; Set zero flag
480)   9474 E1          		 pop hl	;
481)   9475 C9          		 ret	;
483)   9476 23          		 inc hl	;
484)   9477 18 E7       		 jr IsStrDec00	;
491)   9479 E5          		 push hl	;
493)   947A 7E          		 ld a, (hl)	;
495)   947B FE 00       		 cp  0	;
496)   947D 28 14       		 jr z, IsStrHexTrue	;
498)   947F FE 30       		 cp  '0'	;
499)   9481 38 0C       		 jr c, IsStrHexFalse	;
501)   9483 FE 3A       		 cp  '9'+1	;
502)   9485 38 0F       		 jr c, IsStrHexContinue	;
504)   9487 FE 30       		 cp  '0'	;
505)   9489 38 04       		 jr c, IsStrHexFalse	;
507)   948B FE 47       		 cp  'F'+1	;
508)   948D 38 07       		 jr c, IsStrHexContinue	;
511)   948F F6 01       		 or 1         ; Reset zero flag	; Reset zero flag
512)   9491 E1          		 pop hl	;
513)   9492 C9          		 ret	;
515)   9493 BF          		 cp a         ; Set zero flag	; Set zero flag
516)   9494 E1          		 pop hl	;
517)   9495 C9          		 ret	;
519)   9496 23          		 inc hl	;
520)   9497 18 E1       		 jr IsStrHex00	;
527)   9499 AF          		 xor a	;
528)   949A CD 9F 94    		 call loop	;
529)   949D 7A          		 ld a, d	;
530)   949E C9          		 ret	;
532)   949F 57          		 ld d, a	;
533)   94A0 7E          		 ld a, (hl)	;
534)   94A1 23          		 inc hl	;
535)   94A2 D6 3A       		 sub '9' + 1	;
536)   94A4 C6 0A       		 add 10	;
537)   94A6 D0          		 ret nc	;
538)   94A7 5F          		 ld e, a	;
539)   94A8 7A          		 ld a, d	;
540)   94A9 87          		 add a, a        ;double our accumulator	;double our accumulator
541)   94AA 87          		 add a, a        ;double again (now x4)	;double again (now x4)
542)   94AB 82          		 add a, d        ;add the original (now x5)	;add the original (now x5)
543)   94AC 87          		 add a, a        ;double again (now x10)	;double again (now x10)
544)   94AD 83          		 add a, e        ;add in the incoming digit	;add in the incoming digit
545)   94AE 18 EF       		 jr loop	;
553)   94B0 7E          		 ld a, (hl)        ; Copy first char to A	; Copy first char to A
554)   94B1 CD C1 94    		 call Hex12        ; Convert first char	; Convert first char
555)   94B4 87          		 add a, a        ; Multiply by 16...	; Multiply by 16...
556)   94B5 87          		 add a, a        ; ...	; ...
557)   94B6 87          		 add a, a        ; ...	; ...
558)   94B7 87          		 add a, a        ; ...done!	; ...done!
559)   94B8 57          		 ld d, a        ; Store top 4 bits in D	; Store top 4 bits in D
560)   94B9 23          		 inc hl         ; Advance to next char	; Advance to next char
561)   94BA 7E          		 ld a, (hl)	;
562)   94BB CD C1 94    		 call Hex12        ; Convert second char	; Convert second char
563)   94BE B2          		 or d         ; Add back top bits	; Add back top bits
564)   94BF 23          		 inc hl         ; Advance for next guy	; Advance for next guy
565)   94C0 C9          		 ret	;
566)   94C1 D6 30       		Hex12: sub  '0'	;
567)   94C3 FE 0A       		 cp 10	;
568)   94C5 D8          		 ret c	;
569)   94C6 D6 07       		 sub 'A' - '0' - 10	;
570)   94C8 C9          		 ret	;
577)   94C9 CD B0 94    		 call Read8bit	;
578)   94CC 47          		 ld b, a	;
579)   94CD CD B0 94    		 call Read8bit	;
580)   94D0 4F          		 ld c, a	;
581)   94D1 C9          		 ret	;
589)   94D2 7E          		 ld a, (hl)	;
590)   94D3 23          		 inc hl	;
591)   94D4 D6 30       		 sub '0'	;
592)   94D6 CB 27       		 sla a	;
593)   94D8 CB 27       		 sla a	;
594)   94DA CB 27       		 sla a	;
595)   94DC CB 27       		 sla a	;
596)   94DE 47          		 ld b, a	;
597)   94DF 7E          		 ld a, (hl)	;
598)   94E0 23          		 inc hl	;
599)   94E1 D6 30       		 sub '0'	;
600)   94E3 B0          		 or b	;
601)   94E4 C9          		 ret	;
606)   94E5 4F          		 ld c, a        ; a = number to convert	; a = number to convert
607)   94E6 CD F2 94    		 call Num1	;
608)   94E9 77          		 ld (hl), a	;
609)   94EA 23          		 inc hl	;
610)   94EB 79          		 ld a, c	;
611)   94EC CD F6 94    		 call Num2	;
612)   94EF 77          		 ld (hl), a	;
613)   94F0 23          		 inc hl	;
614)   94F1 C9          		 ret	;
615)   94F2 1F          		Num1: rra	;
616)   94F3 1F          		 rra	;
617)   94F4 1F          		 rra	;
618)   94F5 1F          		 rra	;
619)   94F6 F6 F0       		Num2: or $F0	;
620)   94F8 27          		 daa	;
621)   94F9 C6 A0       		 add a, $A0	;
622)   94FB CE 40       		 adc a, $40        ; Ascii hex at this point (0 to F)	; Ascii hex at this point (0 to F)
623)   94FD C9          		 ret	;
634)   94FE 22 E1 00    		STR_SET: LD (LINESTR),HL	;
635)   9501 C9          		 RET	;
638)   9502 AF          		STR_CLR: XOR A	;
639)   9503 32 E3 00    		 LD (LINEPOS),A	;
640)   9506 32 E1 00    		 LD (LINESTR),A	;
641)   9509 32 E2 00    		 LD (LINESTR+1),A	;
642)   950C C9          		 RET	;
645)   950D 3A E1 00    		STR_VALID: LD A,(LINESTR)	;
646)   9510 47          		 LD B,A	;
647)   9511 3A E2 00    		 LD A,(LINESTR+1)	;
648)   9514 80          		 ADD B	;
649)   9515 B7          		 OR A	;
650)   9516 C9          		 RET	;
656)   9517 F5          		STR_CALCADDR: PUSH AF	;
657)   9518 ED 5B E1 00 		 LD DE,(LINESTR)	;
658)   951C EB          		 EX DE,HL	;
659)   951D 3A E3 00    		 LD A,(LINEPOS)	;
660)   9520 4F          		 LD C,A	;
661)   9521 06 00       		 LD B,0	;
662)   9523 09          		 ADD HL,BC	;
663)   9524 EB          		 EX DE,HL	;
664)   9525 F1          		 POP AF	;
665)   9526 C9          		 RET	;
669)   9527 3A E3 00    		STR_NEXTPOS: LD A,(LINEPOS)	;
670)   952A 3C          		 INC A	;
671)   952B 32 E3 00    		 LD (LINEPOS),A	;
672)   952E C9          		 RET	;
676)   952F CD 17 95    		STR_ADD: CALL STR_CALCADDR	;
677)   9532 CD 27 95    		STRA_AGN: CALL STR_NEXTPOS	;
678)   9535 7E          		 LD A,(HL)	;
679)   9536 12          		 LD (DE),A	;
680)   9537 23          		 INC HL	;
681)   9538 13          		 INC DE	;
682)   9539 B7          		 OR A	;
683)   953A C8          		 RET Z	;
684)   953B 18 F5       		 JR STRA_AGN	;
687)   953D CD 17 95    		STR_ADDCHAR: CALL STR_CALCADDR	;
688)   9540 12          		 LD (DE),A	;
689)   9541 CD 27 95    		 CALL STR_NEXTPOS	;
690)   9544 13          		 INC DE	;
691)   9545 AF          		 XOR A	;
692)   9546 12          		 LD (DE),A	;
693)   9547 C9          		 RET	;
701)   9548 26 00       		@PRINTNUM: LD H,0	;
702)   954A 6F          		 LD L,A	;
703)   954B F5          		@PRINTNUM16: PUSH AF	;
705)   954C 11 E4 00    		 LD DE,NUMBUF	;
706)   954F CD 91 93    		 CALL Bcd2ASC  ;FOR HEX	;FOR HEX
707)   9552 3E 68       		 LD A,'h'	;
708)   9554 12          		 LD (DE),A  	;
709)   9555 13          		 INC DE	;
710)   9556 AF          		 XOR A	;
711)   9557 12          		 LD (DE),A  	;
713)   9558 21 E4 00    		 LD HL,NUMBUF	;
714)   955B CD 75 89    		 CALL RS_TXT	;
715)   955E CD D5 89    		 CALL RS_NEWLINE	;
716)   9561 F1          		 POP AF	;
717)   9562 C9          		 RET	;
725)   9563 E5          		@NUM_ADDZERO: PUSH HL	;
726)   9564 0E 00       		 LD C,0	;
727)   9566 7E          		AZ_AGN: LD A,(HL)   	;
728)   9567 23          		 INC HL	;
729)   9568 0C          		 INC C	;
730)   9569 FE 00       		 CP 0	;
731)   956B 20 F9       		 JR NZ,AZ_AGN	;
732)   956D 0D          		 DEC C ;EXCLUDE ZERO TERM	;EXCLUDE ZERO TERM
733)   956E E1          		 POP HL	;
734)   956F 79          		 LD A,C	;
735)   9570 B8          		 CP B	;
736)   9571 C8          		 RET Z	;
738)   9572 78          		 LD A,B	;
739)   9573 91          		 SUB C	;
740)   9574 D8          		 RET C ;RETURN IF CARRY MEANS WE HAVE MORE DIGITS	;RETURN IF CARRY MEANS WE HAVE MORE DIGITS
741)   9575 47          		 LD B,A	;
742)   9576 3E 30       		 LD A,'0'	;
743)   9578 2B          		AZ_AGN2: DEC HL	;
744)   9579 77          		 LD (HL),A	;
745)   957A 10 FC       		 DJNZ AZ_AGN2 	;
746)   957C C9          		 RET	;
752)   957D 11 83 00    		@COPYFNAME: LD DE,STRGBUFF	;
753)   9580 7E          		@COPYSTRING:   LD A,(HL)	;
754)   9581 12          		 LD (DE),A	;
755)   9582 FE 00       		 CP 0	;
756)   9584 C8          		 RET Z  	;
757)   9585 13          		 INC DE	;
758)   9586 23          		 INC HL	;
759)   9587 18 F7       		 JR COPYSTRING	;
  1)   9589 00 00 00 00 		DS 0A000H-$	;
  1)   958D 00 00 00 00 		DS 0A000H-$	;
  1)   9591 00 00 00 00 		DS 0A000H-$	;
  1)   9595 00 00 00 00 		DS 0A000H-$	;
  1)   9599 00 00 00 00 		DS 0A000H-$	;
  1)   959D 00 00 00 00 		DS 0A000H-$	;
  1)   95A1 00 00 00 00 		DS 0A000H-$	;
  1)   95A5 00 00 00 00 		DS 0A000H-$	;
  1)   95A9 00 00 00 00 		DS 0A000H-$	;
  1)   95AD 00 00 00 00 		DS 0A000H-$	;
  1)   95B1 00 00 00 00 		DS 0A000H-$	;
  1)   95B5 00 00 00 00 		DS 0A000H-$	;
  1)   95B9 00 00 00 00 		DS 0A000H-$	;
  1)   95BD 00 00 00 00 		DS 0A000H-$	;
  1)   95C1 00 00 00 00 		DS 0A000H-$	;
  1)   95C5 00 00 00 00 		DS 0A000H-$	;
  1)   95C9 00 00 00 00 		DS 0A000H-$	;
  1)   95CD 00 00 00 00 		DS 0A000H-$	;
  1)   95D1 00 00 00 00 		DS 0A000H-$	;
  1)   95D5 00 00 00 00 		DS 0A000H-$	;
  1)   95D9 00 00 00 00 		DS 0A000H-$	;
  1)   95DD 00 00 00 00 		DS 0A000H-$	;
  1)   95E1 00 00 00 00 		DS 0A000H-$	;
  1)   95E5 00 00 00 00 		DS 0A000H-$	;
  1)   95E9 00 00 00 00 		DS 0A000H-$	;
  1)   95ED 00 00 00 00 		DS 0A000H-$	;
  1)   95F1 00 00 00 00 		DS 0A000H-$	;
  1)   95F5 00 00 00 00 		DS 0A000H-$	;
  1)   95F9 00 00 00 00 		DS 0A000H-$	;
  1)   95FD 00 00 00 00 		DS 0A000H-$	;
  1)   9601 00 00 00 00 		DS 0A000H-$	;
  1)   9605 00 00 00 00 		DS 0A000H-$	;
  1)   9609 00 00 00 00 		DS 0A000H-$	;
  1)   960D 00 00 00 00 		DS 0A000H-$	;
  1)   9611 00 00 00 00 		DS 0A000H-$	;
  1)   9615 00 00 00 00 		DS 0A000H-$	;
  1)   9619 00 00 00 00 		DS 0A000H-$	;
  1)   961D 00 00 00 00 		DS 0A000H-$	;
  1)   9621 00 00 00 00 		DS 0A000H-$	;
  1)   9625 00 00 00 00 		DS 0A000H-$	;
  1)   9629 00 00 00 00 		DS 0A000H-$	;
  1)   962D 00 00 00 00 		DS 0A000H-$	;
  1)   9631 00 00 00 00 		DS 0A000H-$	;
  1)   9635 00 00 00 00 		DS 0A000H-$	;
  1)   9639 00 00 00 00 		DS 0A000H-$	;
  1)   963D 00 00 00 00 		DS 0A000H-$	;
  1)   9641 00 00 00 00 		DS 0A000H-$	;
  1)   9645 00 00 00 00 		DS 0A000H-$	;
  1)   9649 00 00 00 00 		DS 0A000H-$	;
  1)   964D 00 00 00 00 		DS 0A000H-$	;
  1)   9651 00 00 00 00 		DS 0A000H-$	;
  1)   9655 00 00 00 00 		DS 0A000H-$	;
  1)   9659 00 00 00 00 		DS 0A000H-$	;
  1)   965D 00 00 00 00 		DS 0A000H-$	;
  1)   9661 00 00 00 00 		DS 0A000H-$	;
  1)   9665 00 00 00 00 		DS 0A000H-$	;
  1)   9669 00 00 00 00 		DS 0A000H-$	;
  1)   966D 00 00 00 00 		DS 0A000H-$	;
  1)   9671 00 00 00 00 		DS 0A000H-$	;
  1)   9675 00 00 00 00 		DS 0A000H-$	;
  1)   9679 00 00 00 00 		DS 0A000H-$	;
  1)   967D 00 00 00 00 		DS 0A000H-$	;
  1)   9681 00 00 00 00 		DS 0A000H-$	;
  1)   9685 00 00 00 00 		DS 0A000H-$	;
  1)   9689 00 00 00 00 		DS 0A000H-$	;
  1)   968D 00 00 00 00 		DS 0A000H-$	;
  1)   9691 00 00 00 00 		DS 0A000H-$	;
  1)   9695 00 00 00 00 		DS 0A000H-$	;
  1)   9699 00 00 00 00 		DS 0A000H-$	;
  1)   969D 00 00 00 00 		DS 0A000H-$	;
  1)   96A1 00 00 00 00 		DS 0A000H-$	;
  1)   96A5 00 00 00 00 		DS 0A000H-$	;
  1)   96A9 00 00 00 00 		DS 0A000H-$	;
  1)   96AD 00 00 00 00 		DS 0A000H-$	;
  1)   96B1 00 00 00 00 		DS 0A000H-$	;
  1)   96B5 00 00 00 00 		DS 0A000H-$	;
  1)   96B9 00 00 00 00 		DS 0A000H-$	;
  1)   96BD 00 00 00 00 		DS 0A000H-$	;
  1)   96C1 00 00 00 00 		DS 0A000H-$	;
  1)   96C5 00 00 00 00 		DS 0A000H-$	;
  1)   96C9 00 00 00 00 		DS 0A000H-$	;
  1)   96CD 00 00 00 00 		DS 0A000H-$	;
  1)   96D1 00 00 00 00 		DS 0A000H-$	;
  1)   96D5 00 00 00 00 		DS 0A000H-$	;
  1)   96D9 00 00 00 00 		DS 0A000H-$	;
  1)   96DD 00 00 00 00 		DS 0A000H-$	;
  1)   96E1 00 00 00 00 		DS 0A000H-$	;
  1)   96E5 00 00 00 00 		DS 0A000H-$	;
  1)   96E9 00 00 00 00 		DS 0A000H-$	;
  1)   96ED 00 00 00 00 		DS 0A000H-$	;
  1)   96F1 00 00 00 00 		DS 0A000H-$	;
  1)   96F5 00 00 00 00 		DS 0A000H-$	;
  1)   96F9 00 00 00 00 		DS 0A000H-$	;
  1)   96FD 00 00 00 00 		DS 0A000H-$	;
  1)   9701 00 00 00 00 		DS 0A000H-$	;
  1)   9705 00 00 00 00 		DS 0A000H-$	;
  1)   9709 00 00 00 00 		DS 0A000H-$	;
  1)   970D 00 00 00 00 		DS 0A000H-$	;
  1)   9711 00 00 00 00 		DS 0A000H-$	;
  1)   9715 00 00 00 00 		DS 0A000H-$	;
  1)   9719 00 00 00 00 		DS 0A000H-$	;
  1)   971D 00 00 00 00 		DS 0A000H-$	;
  1)   9721 00 00 00 00 		DS 0A000H-$	;
  1)   9725 00 00 00 00 		DS 0A000H-$	;
  1)   9729 00 00 00 00 		DS 0A000H-$	;
  1)   972D 00 00 00 00 		DS 0A000H-$	;
  1)   9731 00 00 00 00 		DS 0A000H-$	;
  1)   9735 00 00 00 00 		DS 0A000H-$	;
  1)   9739 00 00 00 00 		DS 0A000H-$	;
  1)   973D 00 00 00 00 		DS 0A000H-$	;
  1)   9741 00 00 00 00 		DS 0A000H-$	;
  1)   9745 00 00 00 00 		DS 0A000H-$	;
  1)   9749 00 00 00 00 		DS 0A000H-$	;
  1)   974D 00 00 00 00 		DS 0A000H-$	;
  1)   9751 00 00 00 00 		DS 0A000H-$	;
  1)   9755 00 00 00 00 		DS 0A000H-$	;
  1)   9759 00 00 00 00 		DS 0A000H-$	;
  1)   975D 00 00 00 00 		DS 0A000H-$	;
  1)   9761 00 00 00 00 		DS 0A000H-$	;
  1)   9765 00 00 00 00 		DS 0A000H-$	;
  1)   9769 00 00 00 00 		DS 0A000H-$	;
  1)   976D 00 00 00 00 		DS 0A000H-$	;
  1)   9771 00 00 00 00 		DS 0A000H-$	;
  1)   9775 00 00 00 00 		DS 0A000H-$	;
  1)   9779 00 00 00 00 		DS 0A000H-$	;
  1)   977D 00 00 00 00 		DS 0A000H-$	;
  1)   9781 00 00 00 00 		DS 0A000H-$	;
  1)   9785 00 00 00 00 		DS 0A000H-$	;
  1)   9789 00 00 00 00 		DS 0A000H-$	;
  1)   978D 00 00 00 00 		DS 0A000H-$	;
  1)   9791 00 00 00 00 		DS 0A000H-$	;
  1)   9795 00 00 00 00 		DS 0A000H-$	;
  1)   9799 00 00 00 00 		DS 0A000H-$	;
  1)   979D 00 00 00 00 		DS 0A000H-$	;
  1)   97A1 00 00 00 00 		DS 0A000H-$	;
  1)   97A5 00 00 00 00 		DS 0A000H-$	;
  1)   97A9 00 00 00 00 		DS 0A000H-$	;
  1)   97AD 00 00 00 00 		DS 0A000H-$	;
  1)   97B1 00 00 00 00 		DS 0A000H-$	;
  1)   97B5 00 00 00 00 		DS 0A000H-$	;
  1)   97B9 00 00 00 00 		DS 0A000H-$	;
  1)   97BD 00 00 00 00 		DS 0A000H-$	;
  1)   97C1 00 00 00 00 		DS 0A000H-$	;
  1)   97C5 00 00 00 00 		DS 0A000H-$	;
  1)   97C9 00 00 00 00 		DS 0A000H-$	;
  1)   97CD 00 00 00 00 		DS 0A000H-$	;
  1)   97D1 00 00 00 00 		DS 0A000H-$	;
  1)   97D5 00 00 00 00 		DS 0A000H-$	;
  1)   97D9 00 00 00 00 		DS 0A000H-$	;
  1)   97DD 00 00 00 00 		DS 0A000H-$	;
  1)   97E1 00 00 00 00 		DS 0A000H-$	;
  1)   97E5 00 00 00 00 		DS 0A000H-$	;
  1)   97E9 00 00 00 00 		DS 0A000H-$	;
  1)   97ED 00 00 00 00 		DS 0A000H-$	;
  1)   97F1 00 00 00 00 		DS 0A000H-$	;
  1)   97F5 00 00 00 00 		DS 0A000H-$	;
  1)   97F9 00 00 00 00 		DS 0A000H-$	;
  1)   97FD 00 00 00 00 		DS 0A000H-$	;
  1)   9801 00 00 00 00 		DS 0A000H-$	;
  1)   9805 00 00 00 00 		DS 0A000H-$	;
  1)   9809 00 00 00 00 		DS 0A000H-$	;
  1)   980D 00 00 00 00 		DS 0A000H-$	;
  1)   9811 00 00 00 00 		DS 0A000H-$	;
  1)   9815 00 00 00 00 		DS 0A000H-$	;
  1)   9819 00 00 00 00 		DS 0A000H-$	;
  1)   981D 00 00 00 00 		DS 0A000H-$	;
  1)   9821 00 00 00 00 		DS 0A000H-$	;
  1)   9825 00 00 00 00 		DS 0A000H-$	;
  1)   9829 00 00 00 00 		DS 0A000H-$	;
  1)   982D 00 00 00 00 		DS 0A000H-$	;
  1)   9831 00 00 00 00 		DS 0A000H-$	;
  1)   9835 00 00 00 00 		DS 0A000H-$	;
  1)   9839 00 00 00 00 		DS 0A000H-$	;
  1)   983D 00 00 00 00 		DS 0A000H-$	;
  1)   9841 00 00 00 00 		DS 0A000H-$	;
  1)   9845 00 00 00 00 		DS 0A000H-$	;
  1)   9849 00 00 00 00 		DS 0A000H-$	;
  1)   984D 00 00 00 00 		DS 0A000H-$	;
  1)   9851 00 00 00 00 		DS 0A000H-$	;
  1)   9855 00 00 00 00 		DS 0A000H-$	;
  1)   9859 00 00 00 00 		DS 0A000H-$	;
  1)   985D 00 00 00 00 		DS 0A000H-$	;
  1)   9861 00 00 00 00 		DS 0A000H-$	;
  1)   9865 00 00 00 00 		DS 0A000H-$	;
  1)   9869 00 00 00 00 		DS 0A000H-$	;
  1)   986D 00 00 00 00 		DS 0A000H-$	;
  1)   9871 00 00 00 00 		DS 0A000H-$	;
  1)   9875 00 00 00 00 		DS 0A000H-$	;
  1)   9879 00 00 00 00 		DS 0A000H-$	;
  1)   987D 00 00 00 00 		DS 0A000H-$	;
  1)   9881 00 00 00 00 		DS 0A000H-$	;
  1)   9885 00 00 00 00 		DS 0A000H-$	;
  1)   9889 00 00 00 00 		DS 0A000H-$	;
  1)   988D 00 00 00 00 		DS 0A000H-$	;
  1)   9891 00 00 00 00 		DS 0A000H-$	;
  1)   9895 00 00 00 00 		DS 0A000H-$	;
  1)   9899 00 00 00 00 		DS 0A000H-$	;
  1)   989D 00 00 00 00 		DS 0A000H-$	;
  1)   98A1 00 00 00 00 		DS 0A000H-$	;
  1)   98A5 00 00 00 00 		DS 0A000H-$	;
  1)   98A9 00 00 00 00 		DS 0A000H-$	;
  1)   98AD 00 00 00 00 		DS 0A000H-$	;
  1)   98B1 00 00 00 00 		DS 0A000H-$	;
  1)   98B5 00 00 00 00 		DS 0A000H-$	;
  1)   98B9 00 00 00 00 		DS 0A000H-$	;
  1)   98BD 00 00 00 00 		DS 0A000H-$	;
  1)   98C1 00 00 00 00 		DS 0A000H-$	;
  1)   98C5 00 00 00 00 		DS 0A000H-$	;
  1)   98C9 00 00 00 00 		DS 0A000H-$	;
  1)   98CD 00 00 00 00 		DS 0A000H-$	;
  1)   98D1 00 00 00 00 		DS 0A000H-$	;
  1)   98D5 00 00 00 00 		DS 0A000H-$	;
  1)   98D9 00 00 00 00 		DS 0A000H-$	;
  1)   98DD 00 00 00 00 		DS 0A000H-$	;
  1)   98E1 00 00 00 00 		DS 0A000H-$	;
  1)   98E5 00 00 00 00 		DS 0A000H-$	;
  1)   98E9 00 00 00 00 		DS 0A000H-$	;
  1)   98ED 00 00 00 00 		DS 0A000H-$	;
  1)   98F1 00 00 00 00 		DS 0A000H-$	;
  1)   98F5 00 00 00 00 		DS 0A000H-$	;
  1)   98F9 00 00 00 00 		DS 0A000H-$	;
  1)   98FD 00 00 00 00 		DS 0A000H-$	;
  1)   9901 00 00 00 00 		DS 0A000H-$	;
  1)   9905 00 00 00 00 		DS 0A000H-$	;
  1)   9909 00 00 00 00 		DS 0A000H-$	;
  1)   990D 00 00 00 00 		DS 0A000H-$	;
  1)   9911 00 00 00 00 		DS 0A000H-$	;
  1)   9915 00 00 00 00 		DS 0A000H-$	;
  1)   9919 00 00 00 00 		DS 0A000H-$	;
  1)   991D 00 00 00 00 		DS 0A000H-$	;
  1)   9921 00 00 00 00 		DS 0A000H-$	;
  1)   9925 00 00 00 00 		DS 0A000H-$	;
  1)   9929 00 00 00 00 		DS 0A000H-$	;
  1)   992D 00 00 00 00 		DS 0A000H-$	;
  1)   9931 00 00 00 00 		DS 0A000H-$	;
  1)   9935 00 00 00 00 		DS 0A000H-$	;
  1)   9939 00 00 00 00 		DS 0A000H-$	;
  1)   993D 00 00 00 00 		DS 0A000H-$	;
  1)   9941 00 00 00 00 		DS 0A000H-$	;
  1)   9945 00 00 00 00 		DS 0A000H-$	;
  1)   9949 00 00 00 00 		DS 0A000H-$	;
  1)   994D 00 00 00 00 		DS 0A000H-$	;
  1)   9951 00 00 00 00 		DS 0A000H-$	;
  1)   9955 00 00 00 00 		DS 0A000H-$	;
  1)   9959 00 00 00 00 		DS 0A000H-$	;
  1)   995D 00 00 00 00 		DS 0A000H-$	;
  1)   9961 00 00 00 00 		DS 0A000H-$	;
  1)   9965 00 00 00 00 		DS 0A000H-$	;
  1)   9969 00 00 00 00 		DS 0A000H-$	;
  1)   996D 00 00 00 00 		DS 0A000H-$	;
  1)   9971 00 00 00 00 		DS 0A000H-$	;
  1)   9975 00 00 00 00 		DS 0A000H-$	;
  1)   9979 00 00 00 00 		DS 0A000H-$	;
  1)   997D 00 00 00 00 		DS 0A000H-$	;
  1)   9981 00 00 00 00 		DS 0A000H-$	;
  1)   9985 00 00 00 00 		DS 0A000H-$	;
  1)   9989 00 00 00 00 		DS 0A000H-$	;
  1)   998D 00 00 00 00 		DS 0A000H-$	;
  1)   9991 00 00 00 00 		DS 0A000H-$	;
  1)   9995 00 00 00 00 		DS 0A000H-$	;
  1)   9999 00 00 00 00 		DS 0A000H-$	;
  1)   999D 00 00 00 00 		DS 0A000H-$	;
  1)   99A1 00 00 00 00 		DS 0A000H-$	;
  1)   99A5 00 00 00 00 		DS 0A000H-$	;
  1)   99A9 00 00 00 00 		DS 0A000H-$	;
  1)   99AD 00 00 00 00 		DS 0A000H-$	;
  1)   99B1 00 00 00 00 		DS 0A000H-$	;
  1)   99B5 00 00 00 00 		DS 0A000H-$	;
  1)   99B9 00 00 00 00 		DS 0A000H-$	;
  1)   99BD 00 00 00 00 		DS 0A000H-$	;
  1)   99C1 00 00 00 00 		DS 0A000H-$	;
  1)   99C5 00 00 00 00 		DS 0A000H-$	;
  1)   99C9 00 00 00 00 		DS 0A000H-$	;
  1)   99CD 00 00 00 00 		DS 0A000H-$	;
  1)   99D1 00 00 00 00 		DS 0A000H-$	;
  1)   99D5 00 00 00 00 		DS 0A000H-$	;
  1)   99D9 00 00 00 00 		DS 0A000H-$	;
  1)   99DD 00 00 00 00 		DS 0A000H-$	;
  1)   99E1 00 00 00 00 		DS 0A000H-$	;
  1)   99E5 00 00 00 00 		DS 0A000H-$	;
  1)   99E9 00 00 00 00 		DS 0A000H-$	;
  1)   99ED 00 00 00 00 		DS 0A000H-$	;
  1)   99F1 00 00 00 00 		DS 0A000H-$	;
  1)   99F5 00 00 00 00 		DS 0A000H-$	;
  1)   99F9 00 00 00 00 		DS 0A000H-$	;
  1)   99FD 00 00 00 00 		DS 0A000H-$	;
  1)   9A01 00 00 00 00 		DS 0A000H-$	;
  1)   9A05 00 00 00 00 		DS 0A000H-$	;
  1)   9A09 00 00 00 00 		DS 0A000H-$	;
  1)   9A0D 00 00 00 00 		DS 0A000H-$	;
  1)   9A11 00 00 00 00 		DS 0A000H-$	;
  1)   9A15 00 00 00 00 		DS 0A000H-$	;
  1)   9A19 00 00 00 00 		DS 0A000H-$	;
  1)   9A1D 00 00 00 00 		DS 0A000H-$	;
  1)   9A21 00 00 00 00 		DS 0A000H-$	;
  1)   9A25 00 00 00 00 		DS 0A000H-$	;
  1)   9A29 00 00 00 00 		DS 0A000H-$	;
  1)   9A2D 00 00 00 00 		DS 0A000H-$	;
  1)   9A31 00 00 00 00 		DS 0A000H-$	;
  1)   9A35 00 00 00 00 		DS 0A000H-$	;
  1)   9A39 00 00 00 00 		DS 0A000H-$	;
  1)   9A3D 00 00 00 00 		DS 0A000H-$	;
  1)   9A41 00 00 00 00 		DS 0A000H-$	;
  1)   9A45 00 00 00 00 		DS 0A000H-$	;
  1)   9A49 00 00 00 00 		DS 0A000H-$	;
  1)   9A4D 00 00 00 00 		DS 0A000H-$	;
  1)   9A51 00 00 00 00 		DS 0A000H-$	;
  1)   9A55 00 00 00 00 		DS 0A000H-$	;
  1)   9A59 00 00 00 00 		DS 0A000H-$	;
  1)   9A5D 00 00 00 00 		DS 0A000H-$	;
  1)   9A61 00 00 00 00 		DS 0A000H-$	;
  1)   9A65 00 00 00 00 		DS 0A000H-$	;
  1)   9A69 00 00 00 00 		DS 0A000H-$	;
  1)   9A6D 00 00 00 00 		DS 0A000H-$	;
  1)   9A71 00 00 00 00 		DS 0A000H-$	;
  1)   9A75 00 00 00 00 		DS 0A000H-$	;
  1)   9A79 00 00 00 00 		DS 0A000H-$	;
  1)   9A7D 00 00 00 00 		DS 0A000H-$	;
  1)   9A81 00 00 00 00 		DS 0A000H-$	;
  1)   9A85 00 00 00 00 		DS 0A000H-$	;
  1)   9A89 00 00 00 00 		DS 0A000H-$	;
  1)   9A8D 00 00 00 00 		DS 0A000H-$	;
  1)   9A91 00 00 00 00 		DS 0A000H-$	;
  1)   9A95 00 00 00 00 		DS 0A000H-$	;
  1)   9A99 00 00 00 00 		DS 0A000H-$	;
  1)   9A9D 00 00 00 00 		DS 0A000H-$	;
  1)   9AA1 00 00 00 00 		DS 0A000H-$	;
  1)   9AA5 00 00 00 00 		DS 0A000H-$	;
  1)   9AA9 00 00 00 00 		DS 0A000H-$	;
  1)   9AAD 00 00 00 00 		DS 0A000H-$	;
  1)   9AB1 00 00 00 00 		DS 0A000H-$	;
  1)   9AB5 00 00 00 00 		DS 0A000H-$	;
  1)   9AB9 00 00 00 00 		DS 0A000H-$	;
  1)   9ABD 00 00 00 00 		DS 0A000H-$	;
  1)   9AC1 00 00 00 00 		DS 0A000H-$	;
  1)   9AC5 00 00 00 00 		DS 0A000H-$	;
  1)   9AC9 00 00 00 00 		DS 0A000H-$	;
  1)   9ACD 00 00 00 00 		DS 0A000H-$	;
  1)   9AD1 00 00 00 00 		DS 0A000H-$	;
  1)   9AD5 00 00 00 00 		DS 0A000H-$	;
  1)   9AD9 00 00 00 00 		DS 0A000H-$	;
  1)   9ADD 00 00 00 00 		DS 0A000H-$	;
  1)   9AE1 00 00 00 00 		DS 0A000H-$	;
  1)   9AE5 00 00 00 00 		DS 0A000H-$	;
  1)   9AE9 00 00 00 00 		DS 0A000H-$	;
  1)   9AED 00 00 00 00 		DS 0A000H-$	;
  1)   9AF1 00 00 00 00 		DS 0A000H-$	;
  1)   9AF5 00 00 00 00 		DS 0A000H-$	;
  1)   9AF9 00 00 00 00 		DS 0A000H-$	;
  1)   9AFD 00 00 00 00 		DS 0A000H-$	;
  1)   9B01 00 00 00 00 		DS 0A000H-$	;
  1)   9B05 00 00 00 00 		DS 0A000H-$	;
  1)   9B09 00 00 00 00 		DS 0A000H-$	;
  1)   9B0D 00 00 00 00 		DS 0A000H-$	;
  1)   9B11 00 00 00 00 		DS 0A000H-$	;
  1)   9B15 00 00 00 00 		DS 0A000H-$	;
  1)   9B19 00 00 00 00 		DS 0A000H-$	;
  1)   9B1D 00 00 00 00 		DS 0A000H-$	;
  1)   9B21 00 00 00 00 		DS 0A000H-$	;
  1)   9B25 00 00 00 00 		DS 0A000H-$	;
  1)   9B29 00 00 00 00 		DS 0A000H-$	;
  1)   9B2D 00 00 00 00 		DS 0A000H-$	;
  1)   9B31 00 00 00 00 		DS 0A000H-$	;
  1)   9B35 00 00 00 00 		DS 0A000H-$	;
  1)   9B39 00 00 00 00 		DS 0A000H-$	;
  1)   9B3D 00 00 00 00 		DS 0A000H-$	;
  1)   9B41 00 00 00 00 		DS 0A000H-$	;
  1)   9B45 00 00 00 00 		DS 0A000H-$	;
  1)   9B49 00 00 00 00 		DS 0A000H-$	;
  1)   9B4D 00 00 00 00 		DS 0A000H-$	;
  1)   9B51 00 00 00 00 		DS 0A000H-$	;
  1)   9B55 00 00 00 00 		DS 0A000H-$	;
  1)   9B59 00 00 00 00 		DS 0A000H-$	;
  1)   9B5D 00 00 00 00 		DS 0A000H-$	;
  1)   9B61 00 00 00 00 		DS 0A000H-$	;
  1)   9B65 00 00 00 00 		DS 0A000H-$	;
  1)   9B69 00 00 00 00 		DS 0A000H-$	;
  1)   9B6D 00 00 00 00 		DS 0A000H-$	;
  1)   9B71 00 00 00 00 		DS 0A000H-$	;
  1)   9B75 00 00 00 00 		DS 0A000H-$	;
  1)   9B79 00 00 00 00 		DS 0A000H-$	;
  1)   9B7D 00 00 00 00 		DS 0A000H-$	;
  1)   9B81 00 00 00 00 		DS 0A000H-$	;
  1)   9B85 00 00 00 00 		DS 0A000H-$	;
  1)   9B89 00 00 00 00 		DS 0A000H-$	;
  1)   9B8D 00 00 00 00 		DS 0A000H-$	;
  1)   9B91 00 00 00 00 		DS 0A000H-$	;
  1)   9B95 00 00 00 00 		DS 0A000H-$	;
  1)   9B99 00 00 00 00 		DS 0A000H-$	;
  1)   9B9D 00 00 00 00 		DS 0A000H-$	;
  1)   9BA1 00 00 00 00 		DS 0A000H-$	;
  1)   9BA5 00 00 00 00 		DS 0A000H-$	;
  1)   9BA9 00 00 00 00 		DS 0A000H-$	;
  1)   9BAD 00 00 00 00 		DS 0A000H-$	;
  1)   9BB1 00 00 00 00 		DS 0A000H-$	;
  1)   9BB5 00 00 00 00 		DS 0A000H-$	;
  1)   9BB9 00 00 00 00 		DS 0A000H-$	;
  1)   9BBD 00 00 00 00 		DS 0A000H-$	;
  1)   9BC1 00 00 00 00 		DS 0A000H-$	;
  1)   9BC5 00 00 00 00 		DS 0A000H-$	;
  1)   9BC9 00 00 00 00 		DS 0A000H-$	;
  1)   9BCD 00 00 00 00 		DS 0A000H-$	;
  1)   9BD1 00 00 00 00 		DS 0A000H-$	;
  1)   9BD5 00 00 00 00 		DS 0A000H-$	;
  1)   9BD9 00 00 00 00 		DS 0A000H-$	;
  1)   9BDD 00 00 00 00 		DS 0A000H-$	;
  1)   9BE1 00 00 00 00 		DS 0A000H-$	;
  1)   9BE5 00 00 00 00 		DS 0A000H-$	;
  1)   9BE9 00 00 00 00 		DS 0A000H-$	;
  1)   9BED 00 00 00 00 		DS 0A000H-$	;
  1)   9BF1 00 00 00 00 		DS 0A000H-$	;
  1)   9BF5 00 00 00 00 		DS 0A000H-$	;
  1)   9BF9 00 00 00 00 		DS 0A000H-$	;
  1)   9BFD 00 00 00 00 		DS 0A000H-$	;
  1)   9C01 00 00 00 00 		DS 0A000H-$	;
  1)   9C05 00 00 00 00 		DS 0A000H-$	;
  1)   9C09 00 00 00 00 		DS 0A000H-$	;
  1)   9C0D 00 00 00 00 		DS 0A000H-$	;
  1)   9C11 00 00 00 00 		DS 0A000H-$	;
  1)   9C15 00 00 00 00 		DS 0A000H-$	;
  1)   9C19 00 00 00 00 		DS 0A000H-$	;
  1)   9C1D 00 00 00 00 		DS 0A000H-$	;
  1)   9C21 00 00 00 00 		DS 0A000H-$	;
  1)   9C25 00 00 00 00 		DS 0A000H-$	;
  1)   9C29 00 00 00 00 		DS 0A000H-$	;
  1)   9C2D 00 00 00 00 		DS 0A000H-$	;
  1)   9C31 00 00 00 00 		DS 0A000H-$	;
  1)   9C35 00 00 00 00 		DS 0A000H-$	;
  1)   9C39 00 00 00 00 		DS 0A000H-$	;
  1)   9C3D 00 00 00 00 		DS 0A000H-$	;
  1)   9C41 00 00 00 00 		DS 0A000H-$	;
  1)   9C45 00 00 00 00 		DS 0A000H-$	;
  1)   9C49 00 00 00 00 		DS 0A000H-$	;
  1)   9C4D 00 00 00 00 		DS 0A000H-$	;
  1)   9C51 00 00 00 00 		DS 0A000H-$	;
  1)   9C55 00 00 00 00 		DS 0A000H-$	;
  1)   9C59 00 00 00 00 		DS 0A000H-$	;
  1)   9C5D 00 00 00 00 		DS 0A000H-$	;
  1)   9C61 00 00 00 00 		DS 0A000H-$	;
  1)   9C65 00 00 00 00 		DS 0A000H-$	;
  1)   9C69 00 00 00 00 		DS 0A000H-$	;
  1)   9C6D 00 00 00 00 		DS 0A000H-$	;
  1)   9C71 00 00 00 00 		DS 0A000H-$	;
  1)   9C75 00 00 00 00 		DS 0A000H-$	;
  1)   9C79 00 00 00 00 		DS 0A000H-$	;
  1)   9C7D 00 00 00 00 		DS 0A000H-$	;
  1)   9C81 00 00 00 00 		DS 0A000H-$	;
  1)   9C85 00 00 00 00 		DS 0A000H-$	;
  1)   9C89 00 00 00 00 		DS 0A000H-$	;
  1)   9C8D 00 00 00 00 		DS 0A000H-$	;
  1)   9C91 00 00 00 00 		DS 0A000H-$	;
  1)   9C95 00 00 00 00 		DS 0A000H-$	;
  1)   9C99 00 00 00 00 		DS 0A000H-$	;
  1)   9C9D 00 00 00 00 		DS 0A000H-$	;
  1)   9CA1 00 00 00 00 		DS 0A000H-$	;
  1)   9CA5 00 00 00 00 		DS 0A000H-$	;
  1)   9CA9 00 00 00 00 		DS 0A000H-$	;
  1)   9CAD 00 00 00 00 		DS 0A000H-$	;
  1)   9CB1 00 00 00 00 		DS 0A000H-$	;
  1)   9CB5 00 00 00 00 		DS 0A000H-$	;
  1)   9CB9 00 00 00 00 		DS 0A000H-$	;
  1)   9CBD 00 00 00 00 		DS 0A000H-$	;
  1)   9CC1 00 00 00 00 		DS 0A000H-$	;
  1)   9CC5 00 00 00 00 		DS 0A000H-$	;
  1)   9CC9 00 00 00 00 		DS 0A000H-$	;
  1)   9CCD 00 00 00 00 		DS 0A000H-$	;
  1)   9CD1 00 00 00 00 		DS 0A000H-$	;
  1)   9CD5 00 00 00 00 		DS 0A000H-$	;
  1)   9CD9 00 00 00 00 		DS 0A000H-$	;
  1)   9CDD 00 00 00 00 		DS 0A000H-$	;
  1)   9CE1 00 00 00 00 		DS 0A000H-$	;
  1)   9CE5 00 00 00 00 		DS 0A000H-$	;
  1)   9CE9 00 00 00 00 		DS 0A000H-$	;
  1)   9CED 00 00 00 00 		DS 0A000H-$	;
  1)   9CF1 00 00 00 00 		DS 0A000H-$	;
  1)   9CF5 00 00 00 00 		DS 0A000H-$	;
  1)   9CF9 00 00 00 00 		DS 0A000H-$	;
  1)   9CFD 00 00 00 00 		DS 0A000H-$	;
  1)   9D01 00 00 00 00 		DS 0A000H-$	;
  1)   9D05 00 00 00 00 		DS 0A000H-$	;
  1)   9D09 00 00 00 00 		DS 0A000H-$	;
  1)   9D0D 00 00 00 00 		DS 0A000H-$	;
  1)   9D11 00 00 00 00 		DS 0A000H-$	;
  1)   9D15 00 00 00 00 		DS 0A000H-$	;
  1)   9D19 00 00 00 00 		DS 0A000H-$	;
  1)   9D1D 00 00 00 00 		DS 0A000H-$	;
  1)   9D21 00 00 00 00 		DS 0A000H-$	;
  1)   9D25 00 00 00 00 		DS 0A000H-$	;
  1)   9D29 00 00 00 00 		DS 0A000H-$	;
  1)   9D2D 00 00 00 00 		DS 0A000H-$	;
  1)   9D31 00 00 00 00 		DS 0A000H-$	;
  1)   9D35 00 00 00 00 		DS 0A000H-$	;
  1)   9D39 00 00 00 00 		DS 0A000H-$	;
  1)   9D3D 00 00 00 00 		DS 0A000H-$	;
  1)   9D41 00 00 00 00 		DS 0A000H-$	;
  1)   9D45 00 00 00 00 		DS 0A000H-$	;
  1)   9D49 00 00 00 00 		DS 0A000H-$	;
  1)   9D4D 00 00 00 00 		DS 0A000H-$	;
  1)   9D51 00 00 00 00 		DS 0A000H-$	;
  1)   9D55 00 00 00 00 		DS 0A000H-$	;
  1)   9D59 00 00 00 00 		DS 0A000H-$	;
  1)   9D5D 00 00 00 00 		DS 0A000H-$	;
  1)   9D61 00 00 00 00 		DS 0A000H-$	;
  1)   9D65 00 00 00 00 		DS 0A000H-$	;
  1)   9D69 00 00 00 00 		DS 0A000H-$	;
  1)   9D6D 00 00 00 00 		DS 0A000H-$	;
  1)   9D71 00 00 00 00 		DS 0A000H-$	;
  1)   9D75 00 00 00 00 		DS 0A000H-$	;
  1)   9D79 00 00 00 00 		DS 0A000H-$	;
  1)   9D7D 00 00 00 00 		DS 0A000H-$	;
  1)   9D81 00 00 00 00 		DS 0A000H-$	;
  1)   9D85 00 00 00 00 		DS 0A000H-$	;
  1)   9D89 00 00 00 00 		DS 0A000H-$	;
  1)   9D8D 00 00 00 00 		DS 0A000H-$	;
  1)   9D91 00 00 00 00 		DS 0A000H-$	;
  1)   9D95 00 00 00 00 		DS 0A000H-$	;
  1)   9D99 00 00 00 00 		DS 0A000H-$	;
  1)   9D9D 00 00 00 00 		DS 0A000H-$	;
  1)   9DA1 00 00 00 00 		DS 0A000H-$	;
  1)   9DA5 00 00 00 00 		DS 0A000H-$	;
  1)   9DA9 00 00 00 00 		DS 0A000H-$	;
  1)   9DAD 00 00 00 00 		DS 0A000H-$	;
  1)   9DB1 00 00 00 00 		DS 0A000H-$	;
  1)   9DB5 00 00 00 00 		DS 0A000H-$	;
  1)   9DB9 00 00 00 00 		DS 0A000H-$	;
  1)   9DBD 00 00 00 00 		DS 0A000H-$	;
  1)   9DC1 00 00 00 00 		DS 0A000H-$	;
  1)   9DC5 00 00 00 00 		DS 0A000H-$	;
  1)   9DC9 00 00 00 00 		DS 0A000H-$	;
  1)   9DCD 00 00 00 00 		DS 0A000H-$	;
  1)   9DD1 00 00 00 00 		DS 0A000H-$	;
  1)   9DD5 00 00 00 00 		DS 0A000H-$	;
  1)   9DD9 00 00 00 00 		DS 0A000H-$	;
  1)   9DDD 00 00 00 00 		DS 0A000H-$	;
  1)   9DE1 00 00 00 00 		DS 0A000H-$	;
  1)   9DE5 00 00 00 00 		DS 0A000H-$	;
  1)   9DE9 00 00 00 00 		DS 0A000H-$	;
  1)   9DED 00 00 00 00 		DS 0A000H-$	;
  1)   9DF1 00 00 00 00 		DS 0A000H-$	;
  1)   9DF5 00 00 00 00 		DS 0A000H-$	;
  1)   9DF9 00 00 00 00 		DS 0A000H-$	;
  1)   9DFD 00 00 00 00 		DS 0A000H-$	;
  1)   9E01 00 00 00 00 		DS 0A000H-$	;
  1)   9E05 00 00 00 00 		DS 0A000H-$	;
  1)   9E09 00 00 00 00 		DS 0A000H-$	;
  1)   9E0D 00 00 00 00 		DS 0A000H-$	;
  1)   9E11 00 00 00 00 		DS 0A000H-$	;
  1)   9E15 00 00 00 00 		DS 0A000H-$	;
  1)   9E19 00 00 00 00 		DS 0A000H-$	;
  1)   9E1D 00 00 00 00 		DS 0A000H-$	;
  1)   9E21 00 00 00 00 		DS 0A000H-$	;
  1)   9E25 00 00 00 00 		DS 0A000H-$	;
  1)   9E29 00 00 00 00 		DS 0A000H-$	;
  1)   9E2D 00 00 00 00 		DS 0A000H-$	;
  1)   9E31 00 00 00 00 		DS 0A000H-$	;
  1)   9E35 00 00 00 00 		DS 0A000H-$	;
  1)   9E39 00 00 00 00 		DS 0A000H-$	;
  1)   9E3D 00 00 00 00 		DS 0A000H-$	;
  1)   9E41 00 00 00 00 		DS 0A000H-$	;
  1)   9E45 00 00 00 00 		DS 0A000H-$	;
  1)   9E49 00 00 00 00 		DS 0A000H-$	;
  1)   9E4D 00 00 00 00 		DS 0A000H-$	;
  1)   9E51 00 00 00 00 		DS 0A000H-$	;
  1)   9E55 00 00 00 00 		DS 0A000H-$	;
  1)   9E59 00 00 00 00 		DS 0A000H-$	;
  1)   9E5D 00 00 00 00 		DS 0A000H-$	;
  1)   9E61 00 00 00 00 		DS 0A000H-$	;
  1)   9E65 00 00 00 00 		DS 0A000H-$	;
  1)   9E69 00 00 00 00 		DS 0A000H-$	;
  1)   9E6D 00 00 00 00 		DS 0A000H-$	;
  1)   9E71 00 00 00 00 		DS 0A000H-$	;
  1)   9E75 00 00 00 00 		DS 0A000H-$	;
  1)   9E79 00 00 00 00 		DS 0A000H-$	;
  1)   9E7D 00 00 00 00 		DS 0A000H-$	;
  1)   9E81 00 00 00 00 		DS 0A000H-$	;
  1)   9E85 00 00 00 00 		DS 0A000H-$	;
  1)   9E89 00 00 00 00 		DS 0A000H-$	;
  1)   9E8D 00 00 00 00 		DS 0A000H-$	;
  1)   9E91 00 00 00 00 		DS 0A000H-$	;
  1)   9E95 00 00 00 00 		DS 0A000H-$	;
  1)   9E99 00 00 00 00 		DS 0A000H-$	;
  1)   9E9D 00 00 00 00 		DS 0A000H-$	;
  1)   9EA1 00 00 00 00 		DS 0A000H-$	;
  1)   9EA5 00 00 00 00 		DS 0A000H-$	;
  1)   9EA9 00 00 00 00 		DS 0A000H-$	;
  1)   9EAD 00 00 00 00 		DS 0A000H-$	;
  1)   9EB1 00 00 00 00 		DS 0A000H-$	;
  1)   9EB5 00 00 00 00 		DS 0A000H-$	;
  1)   9EB9 00 00 00 00 		DS 0A000H-$	;
  1)   9EBD 00 00 00 00 		DS 0A000H-$	;
  1)   9EC1 00 00 00 00 		DS 0A000H-$	;
  1)   9EC5 00 00 00 00 		DS 0A000H-$	;
  1)   9EC9 00 00 00 00 		DS 0A000H-$	;
  1)   9ECD 00 00 00 00 		DS 0A000H-$	;
  1)   9ED1 00 00 00 00 		DS 0A000H-$	;
  1)   9ED5 00 00 00 00 		DS 0A000H-$	;
  1)   9ED9 00 00 00 00 		DS 0A000H-$	;
  1)   9EDD 00 00 00 00 		DS 0A000H-$	;
  1)   9EE1 00 00 00 00 		DS 0A000H-$	;
  1)   9EE5 00 00 00 00 		DS 0A000H-$	;
  1)   9EE9 00 00 00 00 		DS 0A000H-$	;
  1)   9EED 00 00 00 00 		DS 0A000H-$	;
  1)   9EF1 00 00 00 00 		DS 0A000H-$	;
  1)   9EF5 00 00 00 00 		DS 0A000H-$	;
  1)   9EF9 00 00 00 00 		DS 0A000H-$	;
  1)   9EFD 00 00 00 00 		DS 0A000H-$	;
  1)   9F01 00 00 00 00 		DS 0A000H-$	;
  1)   9F05 00 00 00 00 		DS 0A000H-$	;
  1)   9F09 00 00 00 00 		DS 0A000H-$	;
  1)   9F0D 00 00 00 00 		DS 0A000H-$	;
  1)   9F11 00 00 00 00 		DS 0A000H-$	;
  1)   9F15 00 00 00 00 		DS 0A000H-$	;
  1)   9F19 00 00 00 00 		DS 0A000H-$	;
  1)   9F1D 00 00 00 00 		DS 0A000H-$	;
  1)   9F21 00 00 00 00 		DS 0A000H-$	;
  1)   9F25 00 00 00 00 		DS 0A000H-$	;
  1)   9F29 00 00 00 00 		DS 0A000H-$	;
  1)   9F2D 00 00 00 00 		DS 0A000H-$	;
  1)   9F31 00 00 00 00 		DS 0A000H-$	;
  1)   9F35 00 00 00 00 		DS 0A000H-$	;
  1)   9F39 00 00 00 00 		DS 0A000H-$	;
  1)   9F3D 00 00 00 00 		DS 0A000H-$	;
  1)   9F41 00 00 00 00 		DS 0A000H-$	;
  1)   9F45 00 00 00 00 		DS 0A000H-$	;
  1)   9F49 00 00 00 00 		DS 0A000H-$	;
  1)   9F4D 00 00 00 00 		DS 0A000H-$	;
  1)   9F51 00 00 00 00 		DS 0A000H-$	;
  1)   9F55 00 00 00 00 		DS 0A000H-$	;
  1)   9F59 00 00 00 00 		DS 0A000H-$	;
  1)   9F5D 00 00 00 00 		DS 0A000H-$	;
  1)   9F61 00 00 00 00 		DS 0A000H-$	;
  1)   9F65 00 00 00 00 		DS 0A000H-$	;
  1)   9F69 00 00 00 00 		DS 0A000H-$	;
  1)   9F6D 00 00 00 00 		DS 0A000H-$	;
  1)   9F71 00 00 00 00 		DS 0A000H-$	;
  1)   9F75 00 00 00 00 		DS 0A000H-$	;
  1)   9F79 00 00 00 00 		DS 0A000H-$	;
  1)   9F7D 00 00 00 00 		DS 0A000H-$	;
  1)   9F81 00 00 00 00 		DS 0A000H-$	;
  1)   9F85 00 00 00 00 		DS 0A000H-$	;
  1)   9F89 00 00 00 00 		DS 0A000H-$	;
  1)   9F8D 00 00 00 00 		DS 0A000H-$	;
  1)   9F91 00 00 00 00 		DS 0A000H-$	;
  1)   9F95 00 00 00 00 		DS 0A000H-$	;
  1)   9F99 00 00 00 00 		DS 0A000H-$	;
  1)   9F9D 00 00 00 00 		DS 0A000H-$	;
  1)   9FA1 00 00 00 00 		DS 0A000H-$	;
  1)   9FA5 00 00 00 00 		DS 0A000H-$	;
  1)   9FA9 00 00 00 00 		DS 0A000H-$	;
  1)   9FAD 00 00 00 00 		DS 0A000H-$	;
  1)   9FB1 00 00 00 00 		DS 0A000H-$	;
  1)   9FB5 00 00 00 00 		DS 0A000H-$	;
  1)   9FB9 00 00 00 00 		DS 0A000H-$	;
  1)   9FBD 00 00 00 00 		DS 0A000H-$	;
  1)   9FC1 00 00 00 00 		DS 0A000H-$	;
  1)   9FC5 00 00 00 00 		DS 0A000H-$	;
  1)   9FC9 00 00 00 00 		DS 0A000H-$	;
  1)   9FCD 00 00 00 00 		DS 0A000H-$	;
  1)   9FD1 00 00 00 00 		DS 0A000H-$	;
  1)   9FD5 00 00 00 00 		DS 0A000H-$	;
  1)   9FD9 00 00 00 00 		DS 0A000H-$	;
  1)   9FDD 00 00 00 00 		DS 0A000H-$	;
  1)   9FE1 00 00 00 00 		DS 0A000H-$	;
  1)   9FE5 00 00 00 00 		DS 0A000H-$	;
  1)   9FE9 00 00 00 00 		DS 0A000H-$	;
  1)   9FED 00 00 00 00 		DS 0A000H-$	;
  1)   9FF1 00 00 00 00 		DS 0A000H-$	;
  1)   9FF5 00 00 00 00 		DS 0A000H-$	;
  1)   9FF9 00 00 00 00 		DS 0A000H-$	;
  1)   9FFD 00 00 00    		DS 0A000H-$	;
